;(function(){var define;!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.elasticsearch=e():"undefined"!=typeof global?global.elasticsearch=e():"undefined"!=typeof self&&(self.elasticsearch=e())}(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var process=require("__browserify_process"),global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return promise;}
Promise.any=function(promises){return any(promises);};Promise.prototype.any=function(){return any(this);};};},{}],2:[function(_dereq_,module,exports){"use strict";var firstLineError;try{throw new Error();}catch(e){firstLineError=e;}
var schedule=_dereq_("./schedule.js");var Queue=_dereq_("./queue.js");var util=_dereq_("./util.js");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues();};this._schedule=schedule.isStatic?schedule(this.drainQueues):schedule;}
Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false;}};Async.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0);};}};Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0;};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg;};}
var domain=this._getDomain();if(domain!==undefined)fn=domain.bind(fn);if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg);},0);}else try{this._schedule(function(){fn(arg);});}catch(e){throw new Error("No async scheduler available\u000a\u000a    See http://goo.gl/m3OTXk\u000a");}};Async.prototype._getDomain=function(){};if(!true){if(util.isNode){var EventsModule=_dereq_("events");var domainGetter=function(){var domain=process.domain;if(domain===null)return undefined;return domain;};if(EventsModule.usingDomains){Async.prototype._getDomain=domainGetter;}else{var descriptor=Object.getOwnPropertyDescriptor(EventsModule,"usingDomains");if(descriptor){if(!descriptor.configurable){process.on("domainsActivated",function(){Async.prototype._getDomain=domainGetter;});}else{var usingDomains=false;Object.defineProperty(EventsModule,"usingDomains",{configurable:false,enumerable:true,get:function(){return usingDomains;},set:function(value){if(usingDomains||!value)return;usingDomains=true;Async.prototype._getDomain=domainGetter;util.toFastProperties(process);process.emit("domainsActivated");}});}}}}}
function AsyncInvokeLater(fn,receiver,arg){var domain=this._getDomain();if(domain!==undefined)fn=domain.bind(fn);this._lateQueue.push(fn,receiver,arg);this._queueTick();}
function AsyncInvoke(fn,receiver,arg){var domain=this._getDomain();if(domain!==undefined)fn=domain.bind(fn);this._normalQueue.push(fn,receiver,arg);this._queueTick();}
function AsyncSettlePromises(promise){var domain=this._getDomain();if(domain!==undefined){var fn=domain.bind(promise._settlePromises);this._normalQueue.push(fn,promise,undefined);}else{this._normalQueue._pushOne(promise);}
this._queueTick();}
if(!util.hasDevTools){Async.prototype.invokeLater=AsyncInvokeLater;Async.prototype.invoke=AsyncInvoke;Async.prototype.settlePromises=AsyncSettlePromises;}else{Async.prototype.invokeLater=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvokeLater.call(this,fn,receiver,arg);}else{setTimeout(function(){fn.call(receiver,arg);},100);}};Async.prototype.invoke=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvoke.call(this,fn,receiver,arg);}else{setTimeout(function(){fn.call(receiver,arg);},0);}};Async.prototype.settlePromises=function(promise){if(this._trampolineEnabled){AsyncSettlePromises.call(this,promise);}else{setTimeout(function(){promise._settlePromises();},0);}};}
Async.prototype.invokeFirst=function(fn,receiver,arg){var domain=this._getDomain();if(domain!==undefined)fn=domain.bind(fn);this._normalQueue.unshift(fn,receiver,arg);this._queueTick();};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue;}
var receiver=queue.shift();var arg=queue.shift();fn.call(receiver,arg);}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue);};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues);}};Async.prototype._reset=function(){this._isTickUsed=false;};module.exports=new Async();module.exports.firstLineError=firstLineError;},{"./queue.js":28,"./schedule.js":31,"./util.js":38,"events":39}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise){var rejectThis=function(_,e){this._reject(e);};var targetRejected=function(e,context){context.promiseRejectionQueued=true;context.bindingPromise._then(rejectThis,rejectThis,null,this,e);};var bindingResolved=function(thisArg,context){this._setBoundTo(thisArg);if(this._isPending()){this._resolveCallback(context.target);}};var bindingRejected=function(e,context){if(!context.promiseRejectionQueued)this._reject(e);};Promise.prototype.bind=function(thisArg){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(maybePromise instanceof Promise){var context={promiseRejectionQueued:false,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,ret._progress,ret,context);maybePromise._then(bindingResolved,bindingRejected,ret._progress,ret,context);}else{ret._setBoundTo(thisArg);ret._resolveCallback(target);}
return ret;};Promise.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj;}else{this._bitField=this._bitField&(~131072);}};Promise.prototype._isBound=function(){return(this._bitField&131072)===131072;};Promise.bind=function(thisArg,value){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);if(maybePromise instanceof Promise){maybePromise._then(function(thisArg){ret._setBoundTo(thisArg);ret._resolveCallback(value);},ret._reject,ret._progress,ret,null);}else{ret._setBoundTo(thisArg);ret._resolveCallback(value);}
return ret;};};},{}],4:[function(_dereq_,module,exports){"use strict";var old;if(typeof Promise!=="undefined")old=Promise;function noConflict(){try{if(Promise===bluebird)Promise=old;}
catch(e){}
return bluebird;}
var bluebird=_dereq_("./promise.js")();bluebird.noConflict=noConflict;module.exports=bluebird;},{"./promise.js":23}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null);var getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0;}
module.exports=function(Promise){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var isIdentifier=util.isIdentifier;var getMethodCaller;var getGetter;if(!true){var makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n\
        return function(obj) {                                               \n\
            'use strict'                                                     \n\
            var len = this.length;                                           \n\
            ensureMethod(obj, 'methodName');                                 \n\
            switch(len) {                                                    \n\
                case 1: return obj.methodName(this[0]);                      \n\
                case 2: return obj.methodName(this[0], this[1]);             \n\
                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\
                case 0: return obj.methodName();                             \n\
                default:                                                     \n\
                    return obj.methodName.apply(obj, this);                  \n\
            }                                                                \n\
        };                                                                   \n\
        ".replace(/methodName/g,methodName))(ensureMethod);};var makeGetter=function(propertyName){return new Function("obj","                                             \n\
        'use strict';                                                        \n\
        return obj.propertyName;                                             \n\
        ".replace("propertyName",propertyName));};var getCompiled=function(name,compiler,cache){var ret=cache[name];if(typeof ret!=="function"){if(!isIdentifier(name)){return null;}
ret=compiler(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256;}}
return ret;};getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache);};getGetter=function(name){return getCompiled(name,makeGetter,getterCache);};}
function ensureMethod(obj,methodName){var fn;if(obj!=null)fn=obj[methodName];if(typeof fn!=="function"){var message="Object "+util.classString(obj)+" has no method '"+
util.toString(methodName)+"'";throw new Promise.TypeError(message);}
return fn;}
function caller(obj){var methodName=this.pop();var fn=ensureMethod(obj,methodName);return fn.apply(obj,this);}
Promise.prototype.call=function(methodName){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}
if(!true){if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(maybeCaller!==null){return this._then(maybeCaller,undefined,undefined,args,undefined);}}}
args.push(methodName);return this._then(caller,undefined,undefined,args,undefined);};function namedGetter(obj){return obj[this];}
function indexedGetter(obj){var index=+this;if(index<0)index=Math.max(0,index+obj.length);return obj[index];}
Promise.prototype.get=function(propertyName){var isIndex=(typeof propertyName==="number");var getter;if(!isIndex){if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=maybeGetter!==null?maybeGetter:namedGetter;}else{getter=namedGetter;}}else{getter=indexedGetter;}
return this._then(getter,undefined,undefined,propertyName,undefined);};};},{"./util.js":38}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var errors=_dereq_("./errors.js");var async=_dereq_("./async.js");var CancellationError=errors.CancellationError;Promise.prototype._cancel=function(reason){if(!this.isCancellable())return this;var parent;var promiseToReject=this;while((parent=promiseToReject._cancellationParent)!==undefined&&parent.isCancellable()){promiseToReject=parent;}
this._unsetCancellable();promiseToReject._target()._rejectCallback(reason,false,true);};Promise.prototype.cancel=function(reason){if(!this.isCancellable())return this;if(reason===undefined)reason=new CancellationError();async.invokeLater(this._cancel,this,reason);return this;};Promise.prototype.cancellable=function(){if(this._cancellable())return this;async.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this;};Promise.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret;};Promise.prototype.fork=function(didFulfill,didReject,didProgress){var ret=this._then(didFulfill,didReject,didProgress,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret;};};},{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var stackFramePattern=null;var formatStack=null;var indentStackFrames=false;var warn;function CapturedTrace(parent){this._parent=parent;var length=this._length=1+(parent===undefined?0:parent._length);captureStackTrace(this,CapturedTrace);if(length>32)this.uncycle();}
util.inherits(CapturedTrace,Error);CapturedTrace.prototype.uncycle=function(){var length=this._length;if(length<2)return;var nodes=[];var stackToIndex={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent;}
length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;if(stackToIndex[stack]===undefined){stackToIndex[stack]=i;}}
for(var i=0;i<length;++i){var currentStack=nodes[i].stack;var index=stackToIndex[currentStack];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1;}
nodes[i]._parent=undefined;nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;if(index<length-1){cycleEdgeNode._parent=nodes[index+1];cycleEdgeNode._parent.uncycle();cycleEdgeNode._length=cycleEdgeNode._parent._length+1;}else{cycleEdgeNode._parent=undefined;cycleEdgeNode._length=1;}
var currentChildLength=cycleEdgeNode._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=currentChildLength;currentChildLength++;}
return;}}};CapturedTrace.prototype.parent=function(){return this._parent;};CapturedTrace.prototype.hasParent=function(){return this._parent!==undefined;};CapturedTrace.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__)return;this.uncycle();var parsed=CapturedTrace.parseStackAndMessage(error);var message=parsed.message;var stacks=[parsed.stack];var trace=this;while(trace!==undefined){stacks.push(cleanStack(trace.stack.split("\n")));trace=trace._parent;}
removeCommonRoots(stacks);removeDuplicateOrEmptyJumps(stacks);util.notEnumerableProp(error,"stack",reconstructStack(message,stacks));util.notEnumerableProp(error,"__stackCleaned__",true);};function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i){stacks[i].push("From previous event:");stacks[i]=stacks[i].join("\n");}
if(i<stacks.length){stacks[i]=stacks[i].join("\n");}
return message+"\n"+stacks.join("\n");}
function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i){if(stacks[i].length===0||((i+1<stacks.length)&&stacks[i][0]===stacks[i+1][0])){stacks.splice(i,1);i--;}}}
function removeCommonRoots(stacks){var current=stacks[0];for(var i=1;i<stacks.length;++i){var prev=stacks[i];var currentLastIndex=current.length-1;var currentLastLine=current[currentLastIndex];var commonRootMeetPoint=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===currentLastLine){commonRootMeetPoint=j;break;}}
for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]===line){current.pop();currentLastIndex--;}else{break;}}
current=prev;}}
function cleanStack(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var isTraceLine=stackFramePattern.test(line)||"    (No stack trace)"===line;var isInternalFrame=isTraceLine&&shouldIgnore(line);if(isTraceLine&&!isInternalFrame){if(indentStackFrames&&line.charAt(0)!==" "){line="    "+line;}
ret.push(line);}}
return ret;}
function stackFramesAsArray(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line)){break;}}
if(i>0){stack=stack.slice(i);}
return stack;}
CapturedTrace.parseStackAndMessage=function(error){var stack=error.stack;var message=error.toString();stack=typeof stack==="string"&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"];return{message:message,stack:cleanStack(stack)};};CapturedTrace.formatAndLogError=function(error,title){if(typeof console!=="undefined"){var message;if(typeof error==="object"||typeof error==="function"){var stack=error.stack;message=title+formatStack(stack,error);}else{message=title+String(error);}
if(typeof warn==="function"){warn(message);}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(message);}}};CapturedTrace.unhandledRejection=function(reason){CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ");};CapturedTrace.isSupported=function(){return typeof captureStackTrace==="function";};CapturedTrace.fireRejectionEvent=function(name,localHandler,reason,promise){var localEventFired=false;try{if(typeof localHandler==="function"){localEventFired=true;if(name==="rejectionHandled"){localHandler(promise);}else{localHandler(reason,promise);}}}catch(e){async.throwLater(e);}
var globalEventFired=false;try{globalEventFired=fireGlobalEvent(name,reason,promise);}catch(e){globalEventFired=true;async.throwLater(e);}
var domEventFired=false;if(fireDomEvent){try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise});}catch(e){domEventFired=true;async.throwLater(e);}}
if(!globalEventFired&&!localEventFired&&!domEventFired&&name==="unhandledRejection"){CapturedTrace.formatAndLogError(reason,"Unhandled rejection ");}};function formatNonError(obj){var str;if(typeof obj==="function"){str="[function "+
(obj.name||"anonymous")+"]";}else{str=obj.toString();var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str)){try{var newStr=JSON.stringify(obj);str=newStr;}
catch(e){}}
if(str.length===0){str="(empty array)";}}
return("(<"+snip(str)+">, no stack trace)");}
function snip(str){var maxChars=41;if(str.length<maxChars){return str;}
return str.substr(0,maxChars-3)+"...";}
var shouldIgnore=function(){return false;};var parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches){return{fileName:matches[1],line:parseInt(matches[2],10)};}}
CapturedTrace.setBounds=function(firstLineError,lastLineError){if(!CapturedTrace.isSupported())return;var firstStackLines=firstLineError.stack.split("\n");var lastStackLines=lastLineError.stack.split("\n");var firstIndex=-1;var lastIndex=-1;var firstFileName;var lastFileName;for(var i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName;firstIndex=result.line;break;}}
for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName;lastIndex=result.line;break;}}
if(firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex){return;}
shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return true;var info=parseLineInfo(line);if(info){if(info.fileName===firstFileName&&(firstIndex<=info.line&&info.line<=lastIndex)){return true;}}
return false;};};var captureStackTrace=(function stackDetection(){var v8stackFramePattern=/^\s*at\s*/;var v8stackFormatter=function(stack,error){if(typeof stack==="string")return stack;if(error.name!==undefined&&error.message!==undefined){return error.toString();}
return formatNonError(error);};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;shouldIgnore=function(line){return bluebirdFramePattern.test(line);};return function(receiver,ignoreUntil){Error.stackTraceLimit=Error.stackTraceLimit+6;captureStackTrace(receiver,ignoreUntil);Error.stackTraceLimit=Error.stackTraceLimit-6;};}
var err=new Error();if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){stackFramePattern=/@/;formatStack=v8stackFormatter;indentStackFrames=true;return function captureStackTrace(o){o.stack=new Error().stack;};}
var hasStackAfterThrow;try{throw new Error();}
catch(e){hasStackAfterThrow=("stack"in e);}
if(!("stack"in err)&&hasStackAfterThrow){stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;return function captureStackTrace(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error();}
catch(e){o.stack=e.stack;}
Error.stackTraceLimit=Error.stackTraceLimit-6;};}
formatStack=function(stack,error){if(typeof stack==="string")return stack;if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString();}
return formatNonError(error);};return null;})([]);var fireDomEvent;var fireGlobalEvent=(function(){if(util.isNode){return function(name,reason,promise){if(name==="rejectionHandled"){return process.emit(name,promise);}else{return process.emit(name,reason,promise);}};}else{var customEventWorks=false;var anyEventWorks=true;try{var ev=new self.CustomEvent("test");customEventWorks=ev instanceof CustomEvent;}catch(e){}
if(!customEventWorks){try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(event);}catch(e){anyEventWorks=false;}}
if(anyEventWorks){fireDomEvent=function(type,detail){var event;if(customEventWorks){event=new self.CustomEvent(type,{detail:detail,bubbles:false,cancelable:true});}else if(self.dispatchEvent){event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,detail);}
return event?!self.dispatchEvent(event):false;};}
var toWindowMethodNameMap={};toWindowMethodNameMap["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();toWindowMethodNameMap["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,reason,promise){var methodName=toWindowMethodNameMap[name];var method=self[methodName];if(!method)return false;if(name==="rejectionHandled"){method.call(self,promise);}else{method.call(self,reason,promise);}
return true;};}})();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(message){console.warn(message);};if(util.isNode&&process.stderr.isTTY){warn=function(message){process.stderr.write("\u001b[31m"+message+"\u001b[39m\n");};}else if(!util.isNode&&typeof(new Error().stack)==="string"){warn=function(message){console.warn("%c"+message,"color: red");};}}
return CapturedTrace;};},{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){var util=_dereq_("./util.js");var errors=_dereq_("./errors.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var keys=_dereq_("./es5.js").keys;var TypeError=errors.TypeError;function CatchFilter(instances,callback,promise){this._instances=instances;this._callback=callback;this._promise=promise;}
function safePredicate(predicate,e){var safeObject={};var retfilter=tryCatch(predicate).call(safeObject,e);if(retfilter===errorObj)return retfilter;var safeKeys=keys(safeObject);if(safeKeys.length){errorObj.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function\u000a\u000a    See http://goo.gl/o84o68\u000a");return errorObj;}
return retfilter;}
CatchFilter.prototype.doFilter=function(e){var cb=this._callback;var promise=this._promise;var boundTo=promise._boundTo;for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var itemIsErrorType=item===Error||(item!=null&&item.prototype instanceof Error);if(itemIsErrorType&&e instanceof item){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER;}
return ret;}else if(typeof item==="function"&&!itemIsErrorType){var shouldHandle=safePredicate(item,e);if(shouldHandle===errorObj){e=errorObj.e;break;}else if(shouldHandle){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER;}
return ret;}}}
NEXT_FILTER.e=e;return NEXT_FILTER;};return CatchFilter;};},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace,isDebugging){var contextStack=[];function Context(){this._trace=new CapturedTrace(peekContext());}
Context.prototype._pushContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.push(this._trace);}};Context.prototype._popContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.pop();}};function createContext(){if(isDebugging())return new Context();}
function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0){return contextStack[lastIndex];}
return undefined;}
Promise.prototype._peekContext=peekContext;Promise.prototype._pushContext=Context.prototype._pushContext;Promise.prototype._popContext=Context.prototype._popContext;return createContext;};},{}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace){var async=_dereq_("./async.js");var Warning=_dereq_("./errors.js").Warning;var util=_dereq_("./util.js");var canAttachTrace=util.canAttachTrace;var unhandledRejectionHandled;var possiblyUnhandledRejection;var debugging=false||(util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development"));if(debugging){async.disableTrampolineIfNecessary();}
Promise.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined);};Promise.prototype._notifyUnhandledRejectionIsHandled=function(){CapturedTrace.fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,undefined,this);};Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();CapturedTrace.fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this);}};Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288;};Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&(~524288);};Promise.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&524288)>0;};Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152;};Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&(~2097152);if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled();}};Promise.prototype._isRejectionUnhandled=function(){return(this._bitField&2097152)>0;};Promise.prototype._setCarriedStackTrace=function(capturedTrace){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=capturedTrace;};Promise.prototype._isCarryingStackTrace=function(){return(this._bitField&1048576)>0;};Promise.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined;};Promise.prototype._captureStackTrace=function(){if(debugging){this._trace=new CapturedTrace(this._peekContext());}
return this;};Promise.prototype._attachExtraTrace=function(error,ignoreSelf){if(debugging&&canAttachTrace(error)){var trace=this._trace;if(trace!==undefined){if(ignoreSelf)trace=trace._parent;}
if(trace!==undefined){trace.attachExtraTrace(error);}else if(!error.__stackCleaned__){var parsed=CapturedTrace.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true);}}};Promise.prototype._warn=function(message){var warning=new Warning(message);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(warning);}else{var parsed=CapturedTrace.parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n");}
CapturedTrace.formatAndLogError(warning,"");};Promise.onPossiblyUnhandledRejection=function(fn){possiblyUnhandledRejection=typeof fn==="function"?fn:undefined;};Promise.onUnhandledRejectionHandled=function(fn){unhandledRejectionHandled=typeof fn==="function"?fn:undefined;};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&debugging===false){throw new Error("cannot enable long stack traces after promises have been created\u000a\u000a    See http://goo.gl/DT1qyG\u000a");}
debugging=CapturedTrace.isSupported();if(debugging){async.disableTrampolineIfNecessary();}};Promise.hasLongStackTraces=function(){return debugging&&CapturedTrace.isSupported();};if(!CapturedTrace.isSupported()){Promise.longStackTraces=function(){};debugging=false;}
return function(){return debugging;};};},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var isPrimitive=util.isPrimitive;var wrapsPrimitiveReceiver=util.wrapsPrimitiveReceiver;module.exports=function(Promise){var returner=function(){return this;};var thrower=function(){throw this;};var returnUndefined=function(){};var throwUndefined=function(){throw undefined;};var wrapper=function(value,action){if(action===1){return function(){throw value;};}else if(action===2){return function(){return value;};}};Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){if(value===undefined)return this.then(returnUndefined);if(wrapsPrimitiveReceiver&&isPrimitive(value)){return this._then(wrapper(value,2),undefined,undefined,undefined,undefined);}
return this._then(returner,undefined,undefined,value,undefined);};Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){if(reason===undefined)return this.then(throwUndefined);if(wrapsPrimitiveReceiver&&isPrimitive(reason)){return this._then(wrapper(reason,1),undefined,undefined,undefined,undefined);}
return this._then(thrower,undefined,undefined,reason,undefined);};};},{"./util.js":38}],12:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,null,INTERNAL);};Promise.each=function(promises,fn){return PromiseReduce(promises,fn,null,INTERNAL);};};},{}],13:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var Objectfreeze=es5.freeze;var util=_dereq_("./util.js");var inherits=util.inherits;var notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message",typeof message==="string"?message:defaultMessage);notEnumerableProp(this,"name",nameProperty);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}else{Error.call(this);}}
inherits(SubError,Error);return SubError;}
var _TypeError,_RangeError;var Warning=subError("Warning","warning");var CancellationError=subError("CancellationError","cancellation error");var TimeoutError=subError("TimeoutError","timeout error");var AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError;_RangeError=RangeError;}catch(e){_TypeError=subError("TypeError","type error");_RangeError=subError("RangeError","range error");}
var methods=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<methods.length;++i){if(typeof Array.prototype[methods[i]]==="function"){AggregateError.prototype[methods[i]]=Array.prototype[methods[i]];}}
es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});AggregateError.prototype["isOperational"]=true;var level=0;AggregateError.prototype.toString=function(){var indent=Array(level*4+1).join(" ");var ret="\n"+indent+"AggregateError of:"+"\n";level++;indent=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=indent+lines[j];}
str=lines.join("\n");ret+=str+"\n";}
level--;return ret;};function OperationalError(message){if(!(this instanceof OperationalError))
return new OperationalError(message);notEnumerableProp(this,"name","OperationalError");notEnumerableProp(this,"message",message);this.cause=message;this["isOperational"]=true;if(message instanceof Error){notEnumerableProp(this,"message",message.message);notEnumerableProp(this,"stack",message.stack);}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}}
inherits(OperationalError,Error);var errorTypes=Error["__BluebirdErrorTypes__"];if(!errorTypes){errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError});notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes);}
module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning};},{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module,exports){var isES5=(function(){"use strict";return this===undefined;})();if(isES5){module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!!(!descriptor||descriptor.writable||descriptor.set);}};}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var ObjectKeys=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key);}}
return ret;};var ObjectGetDescriptor=function(o,key){return{value:o[key]};};var ObjectDefineProperty=function(o,key,desc){o[key]=desc.value;return o;};var ObjectFreeze=function(obj){return obj;};var ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype;}
catch(e){return proto;}};var ArrayIsArray=function(obj){try{return str.call(obj)==="[object Array]";}
catch(e){return false;}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return true;}};}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL);};Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL);};};},{}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,NEXT_FILTER,tryConvertToPromise){var util=_dereq_("./util.js");var wrapsPrimitiveReceiver=util.wrapsPrimitiveReceiver;var isPrimitive=util.isPrimitive;var thrower=util.thrower;function returnThis(){return this;}
function throwThis(){throw this;}
function return$(r){return function(){return r;};}
function throw$(r){return function(){throw r;};}
function promisedFinally(ret,reasonOrValue,isFulfilled){var then;if(wrapsPrimitiveReceiver&&isPrimitive(reasonOrValue)){then=isFulfilled?return$(reasonOrValue):throw$(reasonOrValue);}else{then=isFulfilled?returnThis:throwThis;}
return ret._then(then,thrower,undefined,reasonOrValue,undefined);}
function finallyHandler(reasonOrValue){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundTo):handler();if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,reasonOrValue,promise.isFulfilled());}}
if(promise.isRejected()){NEXT_FILTER.e=reasonOrValue;return NEXT_FILTER;}else{return reasonOrValue;}}
function tapHandler(value){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundTo,value):handler(value);if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,value,true);}}
return value;}
Promise.prototype._passThroughHandler=function(handler,isFinally){if(typeof handler!=="function")return this.then();var promiseAndHandler={promise:this,handler:handler};return this._then(isFinally?finallyHandler:tapHandler,isFinally?finallyHandler:undefined,undefined,promiseAndHandler,undefined);};Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThroughHandler(handler,true);};Promise.prototype.tap=function(handler){return this._passThroughHandler(handler,false);};};},{"./util.js":38}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise){var errors=_dereq_("./errors.js");var TypeError=errors.TypeError;var util=_dereq_("./util.js");var errorObj=util.errorObj;var tryCatch=util.tryCatch;var yieldHandlers=[];function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);traceParent._popContext();if(result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);traceParent._popContext();return ret;}
var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise;}
return null;}
function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace();this._stack=stack;this._generatorFunction=generatorFunction;this._receiver=receiver;this._generator=undefined;this._yieldHandlers=typeof yieldHandler==="function"?[yieldHandler].concat(yieldHandlers):yieldHandlers;}
PromiseSpawn.prototype.promise=function(){return this._promise;};PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined);};PromiseSpawn.prototype._continue=function(result){if(result===errorObj){return this._promise._rejectCallback(result.e,false,true);}
var value=result.value;if(result.done===true){this._promise._resolveCallback(value);}else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)){maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise);if(maybePromise===null){this._throw(new TypeError("A value %s was yielded that could not be treated as a promise\u000a\u000a    See http://goo.gl/4Y4pDk\u000a\u000a".replace("%s",value)+"From coroutine:\u000a"+
this._stack.split("\n").slice(1,-7).join("\n")));return;}}
maybePromise._then(this._next,this._throw,undefined,this,null);}};PromiseSpawn.prototype._throw=function(reason){this._promise._attachExtraTrace(reason);this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext();this._continue(result);};PromiseSpawn.prototype._next=function(value){this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(result);};Promise.coroutine=function(generatorFunction,options){if(typeof generatorFunction!=="function"){throw new TypeError("generatorFunction must be a function\u000a\u000a    See http://goo.gl/6Vqhm0\u000a");}
var yieldHandler=Object(options).yieldHandler;var PromiseSpawn$=PromiseSpawn;var stack=new Error().stack;return function(){var generator=generatorFunction.apply(this,arguments);var spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,stack);spawn._generator=generator;spawn._next(undefined);return spawn.promise();};};Promise.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");yieldHandlers.push(fn);};Promise.spawn=function(generatorFunction){if(typeof generatorFunction!=="function"){return apiRejection("generatorFunction must be a function\u000a\u000a    See http://goo.gl/6Vqhm0\u000a");}
var spawn=new PromiseSpawn(generatorFunction,this);var ret=spawn.promise();spawn._run(Promise.spawn);return ret;};};},{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var tryCatch=util.tryCatch;var errorObj=util.errorObj;var reject;if(!true){if(canEvaluate){var thenCallback=function(i){return new Function("value","holder","                             \n\
            'use strict';                                                    \n\
            holder.pIndex = value;                                           \n\
            holder.checkFulfillment(this);                                   \n\
            ".replace(/Index/g,i));};var caller=function(count){var values=[];for(var i=1;i<=count;++i)values.push("holder.p"+i);return new Function("holder","                                      \n\
            'use strict';                                                    \n\
            var callback = holder.fn;                                        \n\
            return callback(values);                                         \n\
            ".replace(/values/g,values.join(", ")));};var thenCallbacks=[];var callers=[undefined];for(var i=1;i<=5;++i){thenCallbacks.push(thenCallback(i));callers.push(caller(i));}
var Holder=function(total,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=total;this.now=0;};Holder.prototype.callers=callers;Holder.prototype.checkFulfillment=function(promise){var now=this.now;now++;var total=this.total;if(now>=total){var handler=this.callers[total];promise._pushContext();var ret=tryCatch(handler)(this);promise._popContext();if(ret===errorObj){promise._rejectCallback(ret.e,false,true);}else{promise._resolveCallback(ret);}}else{this.now=now;}};var reject=function(reason){this._reject(reason);};}}
Promise.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&canEvaluate){var ret=new Promise(INTERNAL);ret._captureStackTrace();var holder=new Holder(last,fn);var callbacks=thenCallbacks;for(var i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._then(callbacks[i],reject,undefined,ret,holder);}else if(maybePromise._isFulfilled()){callbacks[i].call(ret,maybePromise._value(),holder);}else{ret._reject(maybePromise._reason());}}else{callbacks[i].call(ret,maybePromise,holder);}}
return ret;}}}
var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i<$_len;++$_i){args[$_i]=arguments[$_i];}
if(fn)args.pop();var ret=new PromiseArray(args).promise();return fn!==undefined?ret.spread(fn):ret;};};},{"./util.js":38}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var PENDING={};var EMPTY_ARRAY=[];function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises);this._promise._captureStackTrace();this._callback=fn;this._preservedValues=_filter===INTERNAL?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:EMPTY_ARRAY;async.invoke(init,this,undefined);}
util.inherits(MappingPromiseArray,PromiseArray);function init(){this._init$(undefined,-2);}
MappingPromiseArray.prototype._init=function(){};MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;var length=this.length();var preservedValues=this._preservedValues;var limit=this._limit;if(values[index]===PENDING){values[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return;}}else{if(limit>=1&&this._inFlight>=limit){values[index]=value;this._queue.push(index);return;}
if(preservedValues!==null)preservedValues[index]=value;var callback=this._callback;var receiver=this._promise._boundTo;this._promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){if(limit>=1)this._inFlight++;values[index]=PENDING;return maybePromise._proxyPromiseArray(this,index);}else if(maybePromise._isFulfilled()){ret=maybePromise._value();}else{return this._reject(maybePromise._reason());}}
values[index]=ret;}
var totalResolved=++this._totalResolved;if(totalResolved>=length){if(preservedValues!==null){this._filter(values,preservedValues);}else{this._resolve(values);}}};MappingPromiseArray.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var values=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index);}};MappingPromiseArray.prototype._filter=function(booleans,values){var len=values.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(booleans[i])ret[j++]=values[i];}
ret.length=j;this._resolve(ret);};MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues;};function map(promises,fn,options,_filter){var limit=typeof options==="object"&&options!==null?options.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new MappingPromiseArray(promises,fn,limit,_filter);}
Promise.prototype.map=function(fn,options){if(typeof fn!=="function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");return map(this,fn,options,null).promise();};Promise.map=function(promises,fn,options,_filter){if(typeof fn!=="function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");return map(promises,fn,options,_filter).promise();};};},{"./async.js":2,"./util.js":38}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var tryCatch=util.tryCatch;Promise.method=function(fn){if(typeof fn!=="function"){throw new Promise.TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}
return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=tryCatch(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(value);return ret;};};Promise.attempt=Promise["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}
var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=util.isArray(args)?tryCatch(fn).apply(ctx,args):tryCatch(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(value);return ret;};Promise.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false,true);}else{this._resolveCallback(value,true);}};};},{"./util.js":38}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundTo,[null].concat(val));if(ret===errorObj){async.throwLater(ret.e);}}
function successAdapter(val,nodeback){var promise=this;var receiver=promise._boundTo;var ret=val===undefined?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);if(ret===errorObj){async.throwLater(ret.e);}}
function errorAdapter(reason,nodeback){var promise=this;if(!reason){var target=promise._target();var newReason=target._getCarriedStackTrace();newReason.cause=reason;reason=newReason;}
var ret=tryCatch(nodeback).call(promise._boundTo,reason);if(ret===errorObj){async.throwLater(ret.e);}}
Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if(typeof nodeback=="function"){var adapter=successAdapter;if(options!==undefined&&Object(options).spread){adapter=spreadAdapter;}
this._then(adapter,errorAdapter,undefined,this,nodeback);}
return this;};};},{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;Promise.prototype.progressed=function(handler){return this._then(undefined,undefined,handler,undefined,undefined);};Promise.prototype._progress=function(progressValue){if(this._isFollowingOrFulfilledOrRejected())return;this._target()._progressUnchecked(progressValue);};Promise.prototype._progressHandlerAt=function(index){return index===0?this._progressHandler0:this[(index<<2)+index-5+2];};Promise.prototype._doProgressWith=function(progression){var progressValue=progression.value;var handler=progression.handler;var promise=progression.promise;var receiver=progression.receiver;var ret=tryCatch(handler).call(receiver,progressValue);if(ret===errorObj){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));promise._attachExtraTrace(trace);promise._progress(ret.e);}}else if(ret instanceof Promise){ret._then(promise._progress,null,null,promise,undefined);}else{promise._progress(ret);}};Promise.prototype._progressUnchecked=function(progressValue){var len=this._length();var progress=this._progress;for(var i=0;i<len;i++){var handler=this._progressHandlerAt(i);var promise=this._promiseAt(i);if(!(promise instanceof Promise)){var receiver=this._receiverAt(i);if(typeof handler==="function"){handler.call(receiver,progressValue,promise);}else if(receiver instanceof PromiseArray&&!receiver._isResolved()){receiver._promiseProgressed(progressValue,promise);}
continue;}
if(typeof handler==="function"){async.invoke(this._doProgressWith,this,{handler:handler,promise:promise,receiver:this._receiverAt(i),value:progressValue});}else{async.invoke(progress,promise,progressValue);}}};};},{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\u000a\u000a    See http://goo.gl/LhFpo0\u000a");};var reflect=function(){return new Promise.PromiseInspection(this._target());};var apiRejection=function(msg){return Promise.reject(new TypeError(msg));};var util=_dereq_("./util.js");var async=_dereq_("./async.js");var errors=_dereq_("./errors.js");var TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError;Promise.OperationalError=errors.OperationalError;Promise.RejectionError=errors.OperationalError;Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){};var APPLY={};var NEXT_FILTER={e:null};var tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL);var PromiseArray=_dereq_("./promise_array.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);var CapturedTrace=_dereq_("./captured_trace.js")();var isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace);var createContext=_dereq_("./context.js")(Promise,CapturedTrace,isDebugging);var CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER);var PromiseResolver=_dereq_("./promise_resolver.js");var nodebackForPromise=PromiseResolver._nodebackForPromise;var errorObj=util.errorObj;var tryCatch=util.tryCatch;function Promise(resolver){if(typeof resolver!=="function"){throw new TypeError("the promise constructor requires a resolver function\u000a\u000a    See http://goo.gl/EC22Yn\u000a");}
if(this.constructor!==Promise){throw new TypeError("the promise constructor cannot be invoked directly\u000a\u000a    See http://goo.gl/KsIlge\u000a");}
this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(resolver!==INTERNAL)this._resolveFromResolver(resolver);}
Promise.prototype.toString=function(){return"[object Promise]";};Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var catchInstances=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){catchInstances[j++]=item;}else{return Promise.reject(new TypeError("Catch filter must inherit from Error or be a simple predicate function\u000a\u000a    See http://goo.gl/o84o68\u000a"));}}
catchInstances.length=j;fn=arguments[i];var catchFilter=new CatchFilter(catchInstances,fn,this);return this._then(undefined,catchFilter.doFilter,undefined,catchFilter,undefined);}
return this._then(undefined,fn,undefined,undefined,undefined);};Promise.prototype.reflect=function(){return this._then(reflect,reflect,undefined,this,undefined);};Promise.prototype.then=function(didFulfill,didReject,didProgress){if(isDebugging()&&arguments.length>0&&typeof didFulfill!=="function"&&typeof didReject!=="function"){var msg=".then() only accepts functions but was passed: "+
util.classString(didFulfill);if(arguments.length>1){msg+=", "+util.classString(didReject);}
this._warn(msg);}
return this._then(didFulfill,didReject,didProgress,undefined,undefined);};Promise.prototype.done=function(didFulfill,didReject,didProgress){var promise=this._then(didFulfill,didReject,didProgress,undefined,undefined);promise._setIsFinal();};Promise.prototype.spread=function(didFulfill,didReject){return this.all()._then(didFulfill,didReject,undefined,APPLY,undefined);};Promise.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable();};Promise.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true;}else if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true;}
return ret;};Promise.prototype.all=function(){return new PromiseArray(this).promise();};Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn);};Promise.is=function(val){return val instanceof Promise;};Promise.fromNode=function(fn){var ret=new Promise(INTERNAL);var result=tryCatch(fn)(nodebackForPromise(ret));if(result===errorObj){ret._rejectCallback(result.e,true,true);}
return ret;};Promise.all=function(promises){return new PromiseArray(promises).promise();};Promise.defer=Promise.pending=function(){var promise=new Promise(INTERNAL);return new PromiseResolver(promise);};Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){var val=ret;ret=new Promise(INTERNAL);ret._fulfillUnchecked(val);}
return ret;};Promise.resolve=Promise.fulfilled=Promise.cast;Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._rejectCallback(reason,true);return ret;};Promise.setScheduler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");var prev=async._schedule;async._schedule=fn;return prev;};Promise.prototype._then=function(didFulfill,didReject,didProgress,receiver,internalData){var haveInternalData=internalData!==undefined;var ret=haveInternalData?internalData:new Promise(INTERNAL);if(!haveInternalData){ret._propagateFrom(this,4|1);ret._captureStackTrace();}
var target=this._target();if(target!==this){if(receiver===undefined)receiver=this._boundTo;if(!haveInternalData)ret._setIsMigrated();}
var callbackIndex=target._addCallbacks(didFulfill,didReject,didProgress,ret,receiver);if(target._isResolved()&&!target._isSettlePromisesQueued()){async.invoke(target._settlePromiseAtPostResolution,target,callbackIndex);}
return ret;};Promise.prototype._settlePromiseAtPostResolution=function(index){if(this._isRejectionUnhandled())this._unsetRejectionIsUnhandled();this._settlePromiseAt(index);};Promise.prototype._length=function(){return this._bitField&131071;};Promise.prototype._isFollowingOrFulfilledOrRejected=function(){return(this._bitField&939524096)>0;};Promise.prototype._isFollowing=function(){return(this._bitField&536870912)===536870912;};Promise.prototype._setLength=function(len){this._bitField=(this._bitField&-131072)|(len&131071);};Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456;};Promise.prototype._setRejected=function(){this._bitField=this._bitField|134217728;};Promise.prototype._setFollowing=function(){this._bitField=this._bitField|536870912;};Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432;};Promise.prototype._isFinal=function(){return(this._bitField&33554432)>0;};Promise.prototype._cancellable=function(){return(this._bitField&67108864)>0;};Promise.prototype._setCancellable=function(){this._bitField=this._bitField|67108864;};Promise.prototype._unsetCancellable=function(){this._bitField=this._bitField&(~67108864);};Promise.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304;};Promise.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&(~4194304);};Promise.prototype._isMigrated=function(){return(this._bitField&4194304)>0;};Promise.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*5-5+4];if(ret===undefined&&this._isBound()){return this._boundTo;}
return ret;};Promise.prototype._promiseAt=function(index){return index===0?this._promise0:this[index*5-5+3];};Promise.prototype._fulfillmentHandlerAt=function(index){return index===0?this._fulfillmentHandler0:this[index*5-5+0];};Promise.prototype._rejectionHandlerAt=function(index){return index===0?this._rejectionHandler0:this[index*5-5+1];};Promise.prototype._migrateCallbacks=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index);var reject=follower._rejectionHandlerAt(index);var progress=follower._progressHandlerAt(index);var promise=follower._promiseAt(index);var receiver=follower._receiverAt(index);if(promise instanceof Promise)promise._setIsMigrated();this._addCallbacks(fulfill,reject,progress,promise,receiver);};Promise.prototype._addCallbacks=function(fulfill,reject,progress,promise,receiver){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}
if(index===0){this._promise0=promise;if(receiver!==undefined)this._receiver0=receiver;if(typeof fulfill==="function"&&!this._isCarryingStackTrace())
this._fulfillmentHandler0=fulfill;if(typeof reject==="function")this._rejectionHandler0=reject;if(typeof progress==="function")this._progressHandler0=progress;}else{var base=index*5-5;this[base+3]=promise;this[base+4]=receiver;if(typeof fulfill==="function")
this[base+0]=fulfill;if(typeof reject==="function")
this[base+1]=reject;if(typeof progress==="function")
this[base+2]=progress;}
this._setLength(index+1);return index;};Promise.prototype._setProxyHandlers=function(receiver,promiseSlotValue){var index=this._length();if(index>=131071-5){index=0;this._setLength(0);}
if(index===0){this._promise0=promiseSlotValue;this._receiver0=receiver;}else{var base=index*5-5;this[base+3]=promiseSlotValue;this[base+4]=receiver;}
this._setLength(index+1);};Promise.prototype._proxyPromiseArray=function(promiseArray,index){this._setProxyHandlers(promiseArray,index);};Promise.prototype._resolveCallback=function(value,shouldBind){if(this._isFollowingOrFulfilledOrRejected())return;if(value===this)
return this._rejectCallback(makeSelfResolutionError(),false,true);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);var propagationFlags=1|(shouldBind?4:0);this._propagateFrom(maybePromise,propagationFlags);var promise=maybePromise._target();if(promise._isPending()){var len=this._length();for(var i=0;i<len;++i){promise._migrateCallbacks(this,i);}
this._setFollowing();this._setLength(0);this._setFollowee(promise);}else if(promise._isFulfilled()){this._fulfillUnchecked(promise._value());}else{this._rejectUnchecked(promise._reason(),promise._getCarriedStackTrace());}};Promise.prototype._rejectCallback=function(reason,synchronous,shouldNotMarkOriginatingFromRejection){if(!shouldNotMarkOriginatingFromRejection){util.markAsOriginatingFromRejection(reason);}
var trace=util.ensureErrorObject(reason);var hasStack=trace===reason;this._attachExtraTrace(trace,synchronous?hasStack:false);this._reject(reason,hasStack?undefined:trace);};Promise.prototype._resolveFromResolver=function(resolver){var promise=this;this._captureStackTrace();this._pushContext();var synchronous=true;var r=tryCatch(resolver)(function(value){if(promise===null)return;promise._resolveCallback(value);promise=null;},function(reason){if(promise===null)return;promise._rejectCallback(reason,synchronous);promise=null;});synchronous=false;this._popContext();if(r!==undefined&&r===errorObj&&promise!==null){promise._rejectCallback(r.e,true,true);promise=null;}};Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){if(promise._isRejected())return;promise._pushContext();var x;if(receiver===APPLY&&!this._isRejected()){x=tryCatch(handler).apply(this._boundTo,value);}else{x=tryCatch(handler).call(receiver,value);}
promise._popContext();if(x===errorObj||x===promise||x===NEXT_FILTER){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,false,true);}else{promise._resolveCallback(x);}};Promise.prototype._target=function(){var ret=this;while(ret._isFollowing())ret=ret._followee();return ret;};Promise.prototype._followee=function(){return this._rejectionHandler0;};Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise;};Promise.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined;}};Promise.prototype._propagateFrom=function(parent,flags){if((flags&1)>0&&parent._cancellable()){this._setCancellable();this._cancellationParent=parent;}
if((flags&4)>0&&parent._isBound()){this._setBoundTo(parent._boundTo);}};Promise.prototype._fulfill=function(value){if(this._isFollowingOrFulfilledOrRejected())return;this._fulfillUnchecked(value);};Promise.prototype._reject=function(reason,carriedStackTrace){if(this._isFollowingOrFulfilledOrRejected())return;this._rejectUnchecked(reason,carriedStackTrace);};Promise.prototype._settlePromiseAt=function(index){var promise=this._promiseAt(index);var isPromise=promise instanceof Promise;if(isPromise&&promise._isMigrated()){promise._unsetIsMigrated();return async.invoke(this._settlePromiseAt,this,index);}
var handler=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index);var carriedStackTrace=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var value=this._settledValue;var receiver=this._receiverAt(index);this._clearCallbackDataAtIndex(index);if(typeof handler==="function"){if(!isPromise){handler.call(receiver,value,promise);}else{this._settlePromiseFromHandler(handler,receiver,value,promise);}}else if(receiver instanceof PromiseArray){if(!receiver._isResolved()){if(this._isFulfilled()){receiver._promiseFulfilled(value,promise);}
else{receiver._promiseRejected(value,promise);}}}else if(isPromise){if(this._isFulfilled()){promise._fulfill(value);}else{promise._reject(value,carriedStackTrace);}}
if(index>=4&&(index&31)===4)
async.invokeLater(this._setLength,this,0);};Promise.prototype._clearCallbackDataAtIndex=function(index){if(index===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined;}
this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined;}else{var base=index*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined;}};Promise.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824;};Promise.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824;};Promise.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&(~-1073741824);};Promise.prototype._queueSettlePromises=function(){async.settlePromises(this);this._setSettlePromisesQueued();};Promise.prototype._fulfillUnchecked=function(value){if(value===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined);}
this._setFulfilled();this._settledValue=value;this._cleanValues();if(this._length()>0){this._queueSettlePromises();}};Promise.prototype._rejectUncheckedCheckError=function(reason){var trace=util.ensureErrorObject(reason);this._rejectUnchecked(reason,trace===reason?undefined:trace);};Promise.prototype._rejectUnchecked=function(reason,trace){if(reason===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err);}
this._setRejected();this._settledValue=reason;this._cleanValues();if(this._isFinal()){async.throwLater(function(e){if("stack"in e){async.invokeFirst(CapturedTrace.unhandledRejection,undefined,e);}
throw e;},trace===undefined?reason:trace);return;}
if(trace!==undefined&&trace!==reason){this._setCarriedStackTrace(trace);}
if(this._length()>0){this._queueSettlePromises();}else{this._ensurePossibleRejectionHandled();}};Promise.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i);}};Promise._makeSelfResolutionError=makeSelfResolutionError;_dereq_("./progress.js")(Promise,PromiseArray);_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise);_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise);_dereq_("./direct_resolve.js")(Promise);_dereq_("./synchronous_inspection.js")(Promise);_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL);Promise.Promise=Promise;_dereq_('./map.js')(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_('./cancel.js')(Promise);_dereq_('./using.js')(Promise,apiRejection,tryConvertToPromise,createContext);_dereq_('./generators.js')(Promise,apiRejection,INTERNAL,tryConvertToPromise);_dereq_('./nodeify.js')(Promise);_dereq_('./call_get.js')(Promise);_dereq_('./props.js')(Promise,PromiseArray,tryConvertToPromise,apiRejection);_dereq_('./race.js')(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_('./reduce.js')(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_('./settle.js')(Promise,PromiseArray);_dereq_('./some.js')(Promise,PromiseArray,apiRejection);_dereq_('./promisify.js')(Promise,INTERNAL);_dereq_('./any.js')(Promise);_dereq_('./each.js')(Promise,INTERNAL);_dereq_('./timers.js')(Promise,INTERNAL);_dereq_('./filter.js')(Promise,INTERNAL);util.toFastProperties(Promise);util.toFastProperties(Promise.prototype);function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._progressHandler0=value;p._promise0=value;p._receiver0=value;p._settledValue=value;}
fillTypes({a:1});fillTypes({b:2});fillTypes({c:3});fillTypes(1);fillTypes(function(){});fillTypes(undefined);fillTypes(false);fillTypes(new Promise(INTERNAL));CapturedTrace.setBounds(async.firstLineError,util.lastLineError);return Promise;};},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isArray=util.isArray;function toResolutionValue(val){switch(val){case-2:return[];case-3:return{};}}
function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);var parent;if(values instanceof Promise){parent=values;promise._propagateFrom(parent,1|4);}
this._values=values;this._length=0;this._totalResolved=0;this._init(undefined,-2);}
PromiseArray.prototype.length=function(){return this._length;};PromiseArray.prototype.promise=function(){return this._promise;};PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();this._values=values;if(values._isFulfilled()){values=values._value();if(!isArray(values)){var err=new Promise.TypeError("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a");this.__hardReject__(err);return;}}else if(values._isPending()){values._then(init,this._reject,undefined,this,resolveValueIfEmpty);return;}else{this._reject(values._reason());return;}}else if(!isArray(values)){this._promise._reject(apiRejection("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a")._reason());return;}
if(values.length===0){if(resolveValueIfEmpty===-5){this._resolveEmptyArray();}
else{this._resolve(toResolutionValue(resolveValueIfEmpty));}
return;}
var len=this.getActualLength(values.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var promise=this._promise;for(var i=0;i<len;++i){var isResolved=this._isResolved();var maybePromise=tryConvertToPromise(values[i],promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(isResolved){maybePromise._unsetRejectionIsUnhandled();}else if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,i);}else if(maybePromise._isFulfilled()){this._promiseFulfilled(maybePromise._value(),i);}else{this._promiseRejected(maybePromise._reason(),i);}}else if(!isResolved){this._promiseFulfilled(maybePromise,i);}}};PromiseArray.prototype._isResolved=function(){return this._values===null;};PromiseArray.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value);};PromiseArray.prototype.__hardReject__=PromiseArray.prototype._reject=function(reason){this._values=null;this._promise._rejectCallback(reason,false,true);};PromiseArray.prototype._promiseProgressed=function(progressValue,index){this._promise._progress({index:index,value:progressValue});};PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values);}};PromiseArray.prototype._promiseRejected=function(reason,index){this._totalResolved++;this._reject(reason);};PromiseArray.prototype.shouldCopyValues=function(){return true;};PromiseArray.prototype.getActualLength=function(len){return len;};return PromiseArray;};},{"./util.js":38}],25:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var maybeWrapAsError=util.maybeWrapAsError;var errors=_dereq_("./errors.js");var TimeoutError=errors.TimeoutError;var OperationalError=errors.OperationalError;var haveGetters=util.haveGetters;var es5=_dereq_("./es5.js");function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype;}
var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!rErrorKey.test(key)){ret[key]=obj[key];}}
return ret;}
util.markAsOriginatingFromRejection(obj);return obj;}
function nodebackForPromise(promise){return function(err,value){if(promise===null)return;if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped);promise._reject(wrapped);}else if(arguments.length>2){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i];}
promise._fulfill(args);}else{promise._fulfill(value);}
promise=null;};}
var PromiseResolver;if(!haveGetters){PromiseResolver=function(promise){this.promise=promise;this.asCallback=nodebackForPromise(promise);this.callback=this.asCallback;};}
else{PromiseResolver=function(promise){this.promise=promise;};}
if(haveGetters){var prop={get:function(){return nodebackForPromise(this.promise);}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop);es5.defineProperty(PromiseResolver.prototype,"callback",prop);}
PromiseResolver._nodebackForPromise=nodebackForPromise;PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]";};PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}
this.promise._resolveCallback(value);};PromiseResolver.prototype.reject=function(reason){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}
this.promise._rejectCallback(reason);};PromiseResolver.prototype.progress=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}
this.promise._progress(value);};PromiseResolver.prototype.cancel=function(err){this.promise.cancel(err);};PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"));};PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved();};PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON();};module.exports=PromiseResolver;},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var THIS={};var util=_dereq_("./util.js");var nodebackForPromise=_dereq_("./promise_resolver.js")._nodebackForPromise;var withAppended=util.withAppended;var maybeWrapAsError=util.maybeWrapAsError;var canEvaluate=util.canEvaluate;var TypeError=_dereq_("./errors").TypeError;var defaultSuffix="Async";var defaultPromisified={__isPromisified__:true};var noCopyPropsPattern=/^(?:length|name|arguments|caller|callee|prototype|__isPromisified__)$/;var defaultFilter=function(name,func){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&!util.isClass(func);};function propsFilter(key){return!noCopyPropsPattern.test(key);}
function isPromisified(fn){try{return fn.__isPromisified__===true;}
catch(e){return false;}}
function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):false;}
function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key)){var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===keyWithoutAsyncSuffix){throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\u000a\u000a    See http://goo.gl/iWrZbw\u000a".replace("%s",suffix));}}}}}
function promisifiableMethods(obj,suffix,suffixRegexp,filter){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var passesDefaultFilter=filter===defaultFilter?true:defaultFilter(key,value,obj);if(typeof value==="function"&&!isPromisified(value)&&!hasPromisified(obj,key,suffix)&&filter(key,value,obj,passesDefaultFilter)){ret.push(key,value);}}
checkValid(ret,suffix,suffixRegexp);return ret;}
var escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$");};var makeNodePromisifiedEval;if(!true){var switchCaseArgumentOrder=function(likelyArgumentCount){var ret=[likelyArgumentCount];var min=Math.max(0,likelyArgumentCount-1-3);for(var i=likelyArgumentCount-1;i>=min;--i){ret.push(i);}
for(var i=likelyArgumentCount+1;i<=3;++i){ret.push(i);}
return ret;};var argumentSequence=function(argumentCount){return util.filledRange(argumentCount,"_arg","");};var parameterDeclaration=function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","");};var parameterCount=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0);}
return 0;};makeNodePromisifiedEval=function(callback,receiver,originalName,fn){var newParameterCount=Math.max(0,parameterCount(fn)-1);var argumentOrder=switchCaseArgumentOrder(newParameterCount);var shouldProxyThis=typeof callback==="string"||receiver===THIS;function generateCallForArgumentCount(count){var args=argumentSequence(count).join(", ");var comma=count>0?", ":"";var ret;if(shouldProxyThis){ret="ret = callback.call(this, {{args}}, nodeback); break;\n";}else{ret=receiver===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n";}
return ret.replace("{{args}}",args).replace(", ",comma);}
function generateArgumentSwitchCase(){var ret="";for(var i=0;i<argumentOrder.length;++i){ret+="case "+argumentOrder[i]+":"+
generateCallForArgumentCount(argumentOrder[i]);}
ret+="                                                             \n\
        default:                                                             \n\
            var args = new Array(len + 1);                                   \n\
            var i = 0;                                                       \n\
            for (var i = 0; i < len; ++i) {                                  \n\
               args[i] = arguments[i];                                       \n\
            }                                                                \n\
            args[i] = nodeback;                                              \n\
            [CodeForCall]                                                    \n\
            break;                                                           \n\
        ".replace("[CodeForCall]",(shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n"));return ret;}
var getFunctionCode=typeof callback==="string"?("this != null ? this['"+callback+"'] : fn"):"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","INTERNAL","'use strict';                            \n\
        var ret = function (Parameters) {                                    \n\
            'use strict';                                                    \n\
            var len = arguments.length;                                      \n\
            var promise = new Promise(INTERNAL);                             \n\
            promise._captureStackTrace();                                    \n\
            var nodeback = nodebackForPromise(promise);                      \n\
            var ret;                                                         \n\
            var callback = tryCatch([GetFunctionCode]);                      \n\
            switch(len) {                                                    \n\
                [CodeForSwitchCase]                                          \n\
            }                                                                \n\
            if (ret === errorObj) {                                          \n\
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\
            }                                                                \n\
            return promise;                                                  \n\
        };                                                                   \n\
        ret.__isPromisified__ = true;                                        \n\
        return ret;                                                          \n\
        ".replace("Parameters",parameterDeclaration(newParameterCount)).replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).replace("[GetFunctionCode]",getFunctionCode))(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,INTERNAL);};}
function makeNodePromisifiedClosure(callback,receiver,_,fn){var defaultThis=(function(){return this;})();var method=callback;if(typeof method==="string"){callback=fn;}
function promisified(){var _receiver=receiver;if(receiver===THIS)_receiver=this;var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb=typeof method==="string"&&this!==defaultThis?this[method]:callback;var fn=nodebackForPromise(promise);try{cb.apply(_receiver,withAppended(arguments,fn));}catch(e){promise._rejectCallback(maybeWrapAsError(e),true,true);}
return promise;}
promisified.__isPromisified__=true;return promisified;}
var makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;function promisifyAll(obj,suffix,filter,promisifier){var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$");var methods=promisifiableMethods(obj,suffix,suffixRegexp,filter);for(var i=0,len=methods.length;i<len;i+=2){var key=methods[i];var fn=methods[i+1];var promisifiedKey=key+suffix;obj[promisifiedKey]=promisifier===makeNodePromisified?makeNodePromisified(key,THIS,key,fn,suffix):promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix);});}
util.toFastProperties(obj);return obj;}
function promisify(callback,receiver){return makeNodePromisified(callback,receiver,undefined,callback);}
Promise.promisify=function(fn,receiver){if(typeof fn!=="function"){throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}
if(isPromisified(fn)){return fn;}
var ret=promisify(fn,arguments.length<2?THIS:receiver);util.copyDescriptors(fn,ret,propsFilter);return ret;};Promise.promisifyAll=function(target,options){if(typeof target!=="function"&&typeof target!=="object"){throw new TypeError("the target of promisifyAll must be an object or a function\u000a\u000a    See http://goo.gl/9ITlV0\u000a");}
options=Object(options);var suffix=options.suffix;if(typeof suffix!=="string")suffix=defaultSuffix;var filter=options.filter;if(typeof filter!=="function")filter=defaultFilter;var promisifier=options.promisifier;if(typeof promisifier!=="function")promisifier=makeNodePromisified;if(!util.isIdentifier(suffix)){throw new RangeError("suffix must be a valid identifier\u000a\u000a    See http://goo.gl/8FZo5V\u000a");}
var keys=util.inheritedDataKeys(target);for(var i=0;i<keys.length;++i){var value=target[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){promisifyAll(value.prototype,suffix,filter,promisifier);promisifyAll(value,suffix,filter,promisifier);}}
return promisifyAll(target,suffix,filter,promisifier);};};},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isObject=util.isObject;var es5=_dereq_("./es5.js");function PropertiesPromiseArray(obj){var keys=es5.keys(obj);var len=keys.length;var values=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];values[i]=obj[key];values[i+len]=key;}
this.constructor$(values);}
util.inherits(PropertiesPromiseArray,PromiseArray);PropertiesPromiseArray.prototype._init=function(){this._init$(undefined,-3);};PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val={};var keyOffset=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+keyOffset]]=this._values[i];}
this._resolve(val);}};PropertiesPromiseArray.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value});};PropertiesPromiseArray.prototype.shouldCopyValues=function(){return false;};PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1;};function props(promises){var ret;var castValue=tryConvertToPromise(promises);if(!isObject(castValue)){return apiRejection("cannot await properties of a non-object\u000a\u000a    See http://goo.gl/OsFKC8\u000a");}else if(castValue instanceof Promise){ret=castValue._then(Promise.props,undefined,undefined,undefined,undefined);}else{ret=new PropertiesPromiseArray(castValue).promise();}
if(castValue instanceof Promise){ret._propagateFrom(castValue,4);}
return ret;}
Promise.prototype.props=function(){return props(this);};Promise.props=function(promises){return props(promises);};};},{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j){dst[j+dstIndex]=src[j+srcIndex];src[j+srcIndex]=void 0;}}
function Queue(capacity){this._capacity=capacity;this._length=0;this._front=0;}
Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size;};Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=(this._front+length)&(this._capacity-1);this[i]=arg;this._length=length+1;};Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=((((front-1)&(capacity-1))^capacity)-capacity);this[i]=value;this._front=i;this._length=this.length()+1;};Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg);this._unshiftOne(receiver);this._unshiftOne(fn);};Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length)){this._pushOne(fn);this._pushOne(receiver);this._pushOne(arg);return;}
var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[(j+0)&wrapMask]=fn;this[(j+1)&wrapMask]=receiver;this[(j+2)&wrapMask]=arg;this._length=length;};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=(front+1)&(this._capacity-1);this._length--;return ret;};Queue.prototype.length=function(){return this._length;};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1);}};Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front;var length=this._length;var moveItemsCount=(front+length)&(oldCapacity-1);arrayMove(this,0,this,oldCapacity,moveItemsCount);};module.exports=Queue;},{}],29:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var isArray=_dereq_("./util.js").isArray;var raceLater=function(promise){return promise.then(function(array){return race(array,promise);});};function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise){return raceLater(maybePromise);}else if(!isArray(promises)){return apiRejection("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a");}
var ret=new Promise(INTERNAL);if(parent!==undefined){ret._propagateFrom(parent,4|1);}
var fulfill=ret._fulfill;var reject=ret._reject;for(var i=0,len=promises.length;i<len;++i){var val=promises[i];if(val===undefined&&!(i in promises)){continue;}
Promise.cast(val)._then(fulfill,reject,undefined,ret,null);}
return ret;}
Promise.race=function(promises){return race(promises,undefined);};Promise.prototype.race=function(){return race(this,undefined);};};},{"./util.js":38}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function ReductionPromiseArray(promises,fn,accum,_each){this.constructor$(promises);this._promise._captureStackTrace();this._preservedValues=_each===INTERNAL?[]:null;this._zerothIsAccum=(accum===undefined);this._gotAccum=false;this._reducingIndex=(this._zerothIsAccum?1:0);this._valuesPhase=undefined;var maybePromise=tryConvertToPromise(accum,this._promise);var rejected=false;var isPromise=maybePromise instanceof Promise;if(isPromise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,-1);}else if(maybePromise._isFulfilled()){accum=maybePromise._value();this._gotAccum=true;}else{this._reject(maybePromise._reason());rejected=true;}}
if(!(isPromise||this._zerothIsAccum))this._gotAccum=true;this._callback=fn;this._accum=accum;if(!rejected)async.invoke(init,this,undefined);}
function init(){this._init$(undefined,-5);}
util.inherits(ReductionPromiseArray,PromiseArray);ReductionPromiseArray.prototype._init=function(){};ReductionPromiseArray.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum);}};ReductionPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;values[index]=value;var length=this.length();var preservedValues=this._preservedValues;var isEach=preservedValues!==null;var gotAccum=this._gotAccum;var valuesPhase=this._valuesPhase;var valuesPhaseIndex;if(!valuesPhase){valuesPhase=this._valuesPhase=new Array(length);for(valuesPhaseIndex=0;valuesPhaseIndex<length;++valuesPhaseIndex){valuesPhase[valuesPhaseIndex]=0;}}
valuesPhaseIndex=valuesPhase[index];if(index===0&&this._zerothIsAccum){this._accum=value;this._gotAccum=gotAccum=true;valuesPhase[index]=((valuesPhaseIndex===0)?1:2);}else if(index===-1){this._accum=value;this._gotAccum=gotAccum=true;}else{if(valuesPhaseIndex===0){valuesPhase[index]=1;}else{valuesPhase[index]=2;this._accum=value;}}
if(!gotAccum)return;var callback=this._callback;var receiver=this._promise._boundTo;var ret;for(var i=this._reducingIndex;i<length;++i){valuesPhaseIndex=valuesPhase[i];if(valuesPhaseIndex===2){this._reducingIndex=i+1;continue;}
if(valuesPhaseIndex!==1)return;value=values[i];this._promise._pushContext();if(isEach){preservedValues.push(value);ret=tryCatch(callback).call(receiver,value,i,length);}
else{ret=tryCatch(callback).call(receiver,this._accum,value,i,length);}
this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){valuesPhase[i]=4;return maybePromise._proxyPromiseArray(this,i);}else if(maybePromise._isFulfilled()){ret=maybePromise._value();}else{return this._reject(maybePromise._reason());}}
this._reducingIndex=i+1;this._accum=ret;}
this._resolve(isEach?preservedValues:this._accum);};function reduce(promises,fn,initialValue,_each){if(typeof fn!=="function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise();}
Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null);};Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each);};};},{"./async.js":2,"./util.js":38}],31:[function(_dereq_,module,exports){"use strict";var schedule;var util=_dereq_("./util");var noAsyncScheduler=function(){throw new Error("No async scheduler available\u000a\u000a    See http://goo.gl/m3OTXk\u000a");};if(util.isNode&&typeof MutationObserver==="undefined"){var GlobalSetImmediate=global.setImmediate;var ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn);}:function(fn){ProcessNextTick.call(process,fn);};}else if(typeof MutationObserver!=="undefined"){schedule=function(fn){var div=document.createElement("div");var observer=new MutationObserver(fn);observer.observe(div,{attributes:true});return function(){div.classList.toggle("foo");};};schedule.isStatic=true;}else if(typeof setImmediate!=="undefined"){schedule=function(fn){setImmediate(fn);};}else if(typeof setTimeout!=="undefined"){schedule=function(fn){setTimeout(fn,0);};}else{schedule=noAsyncScheduler;}
module.exports=schedule;},{"./util":38}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var PromiseInspection=Promise.PromiseInspection;var util=_dereq_("./util.js");function SettledPromiseArray(values){this.constructor$(values);}
util.inherits(SettledPromiseArray,PromiseArray);SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values);}};SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection();ret._bitField=268435456;ret._settledValue=value;this._promiseResolved(index,ret);};SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection();ret._bitField=134217728;ret._settledValue=reason;this._promiseResolved(index,ret);};Promise.settle=function(promises){return new SettledPromiseArray(promises).promise();};Promise.prototype.settle=function(){return new SettledPromiseArray(this).promise();};};},{"./util.js":38}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=_dereq_("./util.js");var RangeError=_dereq_("./errors.js").RangeError;var AggregateError=_dereq_("./errors.js").AggregateError;var isArray=util.isArray;function SomePromiseArray(values){this.constructor$(values);this._howMany=0;this._unwrap=false;this._initialized=false;}
util.inherits(SomePromiseArray,PromiseArray);SomePromiseArray.prototype._init=function(){if(!this._initialized){return;}
if(this._howMany===0){this._resolve([]);return;}
this._init$(undefined,-5);var isArrayResolved=isArray(this._values);if(!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()));}};SomePromiseArray.prototype.init=function(){this._initialized=true;this._init();};SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=true;};SomePromiseArray.prototype.howMany=function(){return this._howMany;};SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count;};SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0]);}else{this._resolve(this._values);}}};SomePromiseArray.prototype._promiseRejected=function(reason){this._addRejected(reason);if(this.howMany()>this._canPossiblyFulfill()){var e=new AggregateError();for(var i=this.length();i<this._values.length;++i){e.push(this._values[i]);}
this._reject(e);}};SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved;};SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length();};SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason);};SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value;};SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();};SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+
this._howMany+" items but contains only "+count+" items";return new RangeError(message);};SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0));};function some(promises,howMany){if((howMany|0)!==howMany||howMany<0){return apiRejection("expecting a positive integer\u000a\u000a    See http://goo.gl/1wAmHx\u000a");}
var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(howMany);ret.init();return promise;}
Promise.some=function(promises,howMany){return some(promises,howMany);};Promise.prototype.some=function(howMany){return some(this,howMany);};Promise._SomePromiseArray=SomePromiseArray;};},{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){if(promise!==undefined){promise=promise._target();this._bitField=promise._bitField;this._settledValue=promise._settledValue;}
else{this._bitField=0;this._settledValue=undefined;}}
PromiseInspection.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\u000a\u000a    See http://goo.gl/hc1DLj\u000a");}
return this._settledValue;};PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\u000a\u000a    See http://goo.gl/hPuiwB\u000a");}
return this._settledValue;};PromiseInspection.prototype.isFulfilled=Promise.prototype._isFulfilled=function(){return(this._bitField&268435456)>0;};PromiseInspection.prototype.isRejected=Promise.prototype._isRejected=function(){return(this._bitField&134217728)>0;};PromiseInspection.prototype.isPending=Promise.prototype._isPending=function(){return(this._bitField&402653184)===0;};PromiseInspection.prototype.isResolved=Promise.prototype._isResolved=function(){return(this._bitField&402653184)>0;};Promise.prototype.isPending=function(){return this._target()._isPending();};Promise.prototype.isRejected=function(){return this._target()._isRejected();};Promise.prototype.isFulfilled=function(){return this._target()._isFulfilled();};Promise.prototype.isResolved=function(){return this._target()._isResolved();};Promise.prototype._value=function(){return this._settledValue;};Promise.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue;};Promise.prototype.value=function(){var target=this._target();if(!target.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\u000a\u000a    See http://goo.gl/hc1DLj\u000a");}
return target._settledValue;};Promise.prototype.reason=function(){var target=this._target();if(!target.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\u000a\u000a    See http://goo.gl/hPuiwB\u000a");}
target._unsetRejectionIsUnhandled();return target._settledValue;};Promise.PromiseInspection=PromiseInspection;};},{}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var errorObj=util.errorObj;var isObject=util.isObject;function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise){return obj;}
else if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret;}
var then=util.tryCatch(getThen)(obj);if(then===errorObj){if(context)context._pushContext();var ret=Promise.reject(then.e);if(context)context._popContext();return ret;}else if(typeof then==="function"){return doThenable(obj,then,context);}}
return obj;}
function getThen(obj){return obj.then;}
var hasProp={}.hasOwnProperty;function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0");}
function doThenable(x,then,context){var promise=new Promise(INTERNAL);var ret=promise;if(context)context._pushContext();promise._captureStackTrace();if(context)context._popContext();var synchronous=true;var result=util.tryCatch(then).call(x,resolveFromThenable,rejectFromThenable,progressFromThenable);synchronous=false;if(promise&&result===errorObj){promise._rejectCallback(result.e,true,true);promise=null;}
function resolveFromThenable(value){if(!promise)return;if(x===value){promise._rejectCallback(Promise._makeSelfResolutionError(),false,true);}else{promise._resolveCallback(value);}
promise=null;}
function rejectFromThenable(reason){if(!promise)return;promise._rejectCallback(reason,synchronous,true);promise=null;}
function progressFromThenable(value){if(!promise)return;if(typeof promise._progress==="function"){promise._progress(value);}}
return ret;}
return tryConvertToPromise;};},{"./util.js":38}],36:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var TimeoutError=Promise.TimeoutError;var afterTimeout=function(promise,message){if(!promise.isPending())return;if(typeof message!=="string"){message="operation timed out";}
var err=new TimeoutError(message);util.markAsOriginatingFromRejection(err);promise._attachExtraTrace(err);promise._cancel(err);};var afterValue=function(value){return delay(+this).thenReturn(value);};var delay=Promise.delay=function(value,ms){if(ms===undefined){ms=value;value=undefined;var ret=new Promise(INTERNAL);setTimeout(function(){ret._fulfill();},ms);return ret;}
ms=+ms;return Promise.resolve(value)._then(afterValue,null,null,ms,undefined);};Promise.prototype.delay=function(ms){return delay(this,ms);};function successClear(value){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);return value;}
function failureClear(reason){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);throw reason;}
Promise.prototype.timeout=function(ms,message){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var handle=setTimeout(function timeoutTimeout(){afterTimeout(ret,message);},ms);return ret._then(successClear,failureClear,undefined,handle,undefined);};};},{"./util.js":38}],37:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext){var TypeError=_dereq_("./errors.js").TypeError;var inherits=_dereq_("./util.js").inherits;var PromiseInspection=Promise.PromiseInspection;function inspectionMapper(inspections){var len=inspections.length;for(var i=0;i<len;++i){var inspection=inspections[i];if(inspection.isRejected()){return Promise.reject(inspection.error());}
inspections[i]=inspection._settledValue;}
return inspections;}
function thrower(e){setTimeout(function(){throw e;},0);}
function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);if(maybePromise!==thenable&&typeof thenable._isDisposable==="function"&&typeof thenable._getDisposer==="function"&&thenable._isDisposable()){maybePromise._setDisposable(thenable._getDisposer());}
return maybePromise;}
function dispose(resources,inspection){var i=0;var len=resources.length;var ret=Promise.defer();function iterator(){if(i>=len)return ret.resolve();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise);}catch(e){return thrower(e);}
if(maybePromise instanceof Promise){return maybePromise._then(iterator,thrower,null,null,null);}}
iterator();}
iterator();return ret.promise;}
function disposerSuccess(value){var inspection=new PromiseInspection();inspection._settledValue=value;inspection._bitField=268435456;return dispose(this,inspection).thenReturn(value);}
function disposerFail(reason){var inspection=new PromiseInspection();inspection._settledValue=reason;inspection._bitField=134217728;return dispose(this,inspection).thenThrow(reason);}
function Disposer(data,promise,context){this._data=data;this._promise=promise;this._context=context;}
Disposer.prototype.data=function(){return this._data;};Disposer.prototype.promise=function(){return this._promise;};Disposer.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value();}
return null;};Disposer.prototype.tryDispose=function(inspection){var resource=this.resource();var context=this._context;if(context!==undefined)context._pushContext();var ret=resource!==null?this.doDispose(resource,inspection):null;if(context!==undefined)context._popContext();this._promise._unsetDisposable();this._data=null;return ret;};Disposer.isDisposer=function(d){return(d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function");};function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context);}
inherits(FunctionDisposer,Disposer);FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection);};function maybeUnwrapDisposer(value){if(Disposer.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise();}
return value;}
Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if(typeof fn!=="function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");len--;var resources=new Array(len);for(var i=0;i<len;++i){var resource=arguments[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise();resource._setDisposable(disposer);}else{var maybePromise=tryConvertToPromise(resource);if(maybePromise instanceof Promise){resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},undefined);}}
resources[i]=resource;}
var promise=Promise.settle(resources).then(inspectionMapper).then(function(vals){promise._pushContext();var ret;try{ret=fn.apply(undefined,vals);}finally{promise._popContext();}
return ret;})._then(disposerSuccess,disposerFail,undefined,resources,undefined);resources.promise=promise;return promise;};Promise.prototype._setDisposable=function(disposer){this._bitField=this._bitField|262144;this._disposer=disposer;};Promise.prototype._isDisposable=function(){return(this._bitField&262144)>0;};Promise.prototype._getDisposer=function(){return this._disposer;};Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&(~262144);this._disposer=undefined;};Promise.prototype.disposer=function(fn){if(typeof fn==="function"){return new FunctionDisposer(fn,this,createContext());}
throw new TypeError();};};},{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var canEvaluate=typeof navigator=="undefined";var haveGetters=(function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3;}});return o.f===3;}
catch(e){return false;}})();var errorObj={e:{}};var tryCatchTarget;function tryCatcher(){try{return tryCatchTarget.apply(this,arguments);}catch(e){errorObj.e=e;return errorObj;}}
function tryCatch(fn){tryCatchTarget=fn;return tryCatcher;}
var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=Parent;for(var propertyName in Parent.prototype){if(hasProp.call(Parent.prototype,propertyName)&&propertyName.charAt(propertyName.length-1)!=="$"){this[propertyName+"$"]=Parent.prototype[propertyName];}}}
T.prototype=Parent.prototype;Child.prototype=new T();return Child.prototype;};function isPrimitive(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number";}
function isObject(value){return!isPrimitive(value);}
function maybeWrapAsError(maybeError){if(!isPrimitive(maybeError))return maybeError;return new Error(safeToString(maybeError));}
function withAppended(target,appendee){var len=target.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=target[i];}
ret[i]=appendee;return ret;}
function getDataPropertyOrDefault(obj,key,defaultValue){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:defaultValue;}}else{return{}.hasOwnProperty.call(obj,key)?obj[key]:undefined;}}
function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,descriptor);return obj;}
var wrapsPrimitiveReceiver=(function(){return this!=="string";}).call("string");function thrower(r){throw r;}
var inheritedDataKeys=(function(){if(es5.isES5){var oProto=Object.prototype;var getKeys=Object.getOwnPropertyNames;return function(obj){var ret=[];var visitedKeys=Object.create(null);while(obj!=null&&obj!==oProto){var keys;try{keys=getKeys(obj);}catch(e){return ret;}
for(var i=0;i<keys.length;++i){var key=keys[i];if(visitedKeys[key])continue;visitedKeys[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key);}}
obj=es5.getPrototypeOf(obj);}
return ret;};}else{return function(obj){var ret=[];for(var key in obj){ret.push(key);}
return ret;};}})();function isClass(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);if(es5.isES5)return keys.length>1;return keys.length>0&&!(keys.length===1&&keys[0]==="constructor");}
return false;}catch(e){return false;}}
function toFastProperties(obj){function f(){}
f.prototype=obj;var l=8;while(l--)new f();return obj;eval(obj);}
var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str);}
function filledRange(count,prefix,suffix){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=prefix+i+suffix;}
return ret;}
function safeToString(obj){try{return obj+"";}catch(e){return"[no string representation]";}}
function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true);}
catch(ignore){}}
function originatesFromRejection(e){if(e==null)return false;return((e instanceof Error["__BluebirdErrorTypes__"].OperationalError)||e["isOperational"]===true);}
function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack");}
var ensureErrorObject=(function(){if(!("stack"in new Error())){return function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value));}
catch(err){return err;}};}else{return function(value){if(canAttachTrace(value))return value;return new Error(safeToString(value));};}})();function classString(obj){return{}.toString.call(obj);}
function copyDescriptors(from,to,filter){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(filter(key)){es5.defineProperty(to,key,es5.getDescriptor(from,key));}}}
var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,wrapsPrimitiveReceiver:wrapsPrimitiveReceiver,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&(function(){var version=process.versions.node.split(".").map(Number);return(version[0]===0&&version[1]>10)||(version[0]>0);})();try{throw new Error();}catch(e){ret.lastLineError=e;}
module.exports=ret;},{"./es5.js":14}],39:[function(_dereq_,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined;}
module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))
throw TypeError('n must be a positive number');this._maxListeners=n;return this;};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)
this._events={};if(type==='error'){if(!this._events.error||(isObject(this._events.error)&&!this._events.error.length)){er=arguments[1];if(er instanceof Error){throw er;}
throw TypeError('Uncaught, unspecified "error" event.');}}
handler=this._events[type];if(isUndefined(handler))
return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];handler.apply(this,args);}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)
listeners[i].apply(this,args);}
return true;};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events)
this._events={};if(this._events.newListener)
this.emit('newListener',type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])
this._events[type]=listener;else if(isObject(this._events[type]))
this._events[type].push(listener);else
this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners;}else{m=EventEmitter.defaultMaxListeners;}
if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[type].length);if(typeof console.trace==='function'){console.trace();}}}
return this;};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))
throw TypeError('listener must be a function');var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments);}}
g.listener=listener;this.on(type,g);return this;};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))
throw TypeError('listener must be a function');if(!this._events||!this._events[type])
return this;list=this._events[type];length=list.length;position=-1;if(list===listener||(isFunction(list.listener)&&list.listener===listener)){delete this._events[type];if(this._events.removeListener)
this.emit('removeListener',type,listener);}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||(list[i].listener&&list[i].listener===listener)){position=i;break;}}
if(position<0)
return this;if(list.length===1){list.length=0;delete this._events[type];}else{list.splice(position,1);}
if(this._events.removeListener)
this.emit('removeListener',type,listener);}
return this;};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)
return this;if(!this._events.removeListener){if(arguments.length===0)
this._events={};else if(this._events[type])
delete this._events[type];return this;}
if(arguments.length===0){for(key in this._events){if(key==='removeListener')continue;this.removeAllListeners(key);}
this.removeAllListeners('removeListener');this._events={};return this;}
listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners);}else{while(listeners.length)
this.removeListener(type,listeners[listeners.length-1]);}
delete this._events[type];return this;};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])
ret=[];else if(isFunction(this._events[type]))
ret=[this._events[type]];else
ret=this._events[type].slice();return ret;};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])
ret=0;else if(isFunction(emitter._events[type]))
ret=1;else
ret=emitter._events[type].length;return ret;};function isFunction(arg){return typeof arg==='function';}
function isNumber(arg){return typeof arg==='number';}
function isObject(arg){return typeof arg==='object'&&arg!==null;}
function isUndefined(arg){return arg===void 0;}},{}]},{},[4])(4)});;if(typeof window!=='undefined'&&window!==null){window.P=window.Promise;}else if(typeof self!=='undefined'&&self!==null){self.P=self.Promise;}},{"__browserify_process":14}],2:[function(require,module,exports){},{}],3:[function(require,module,exports){var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function isArray(xs){return toString.call(xs)==='[object Array]';}
exports.isArray=typeof Array.isArray==='function'?Array.isArray:isArray;exports.indexOf=function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++){if(x===xs[i])return i;}
return-1;};exports.filter=function filter(xs,fn){if(xs.filter)return xs.filter(fn);var res=[];for(var i=0;i<xs.length;i++){if(fn(xs[i],i,xs))res.push(xs[i]);}
return res;};exports.forEach=function forEach(xs,fn,self){if(xs.forEach)return xs.forEach(fn,self);for(var i=0;i<xs.length;i++){fn.call(self,xs[i],i,xs);}};exports.map=function map(xs,fn){if(xs.map)return xs.map(fn);var out=new Array(xs.length);for(var i=0;i<xs.length;i++){out[i]=fn(xs[i],i,xs);}
return out;};exports.reduce=function reduce(array,callback,opt_initialValue){if(array.reduce)return array.reduce(callback,opt_initialValue);var value,isValueSet=false;if(2<arguments.length){value=opt_initialValue;isValueSet=true;}
for(var i=0,l=array.length;l>i;++i){if(array.hasOwnProperty(i)){if(isValueSet){value=callback(value,array[i],i,array);}
else{value=array[i];isValueSet=true;}}}
return value;};if('ab'.substr(-1)!=='b'){exports.substr=function(str,start,length){if(start<0)start=str.length+start;return str.substr(start,length);};}else{exports.substr=function(str,start,length){return str.substr(start,length);};}
exports.trim=function(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');};exports.bind=function(){var args=Array.prototype.slice.call(arguments);var fn=args.shift();if(fn.bind)return fn.bind.apply(fn,args);var self=args.shift();return function(){fn.apply(self,args.concat([Array.prototype.slice.call(arguments)]));};};function create(prototype,properties){var object;if(prototype===null){object={'__proto__':null};}
else{if(typeof prototype!=='object'){throw new TypeError('typeof prototype['+(typeof prototype)+'] != \'object\'');}
var Type=function(){};Type.prototype=prototype;object=new Type();object.__proto__=prototype;}
if(typeof properties!=='undefined'&&Object.defineProperties){Object.defineProperties(object,properties);}
return object;}
exports.create=typeof Object.create==='function'?Object.create:create;function notObject(object){return((typeof object!="object"&&typeof object!="function")||object===null);}
function keysShim(object){if(notObject(object)){throw new TypeError("Object.keys called on a non-object");}
var result=[];for(var name in object){if(hasOwnProperty.call(object,name)){result.push(name);}}
return result;}
function propertyShim(object){if(notObject(object)){throw new TypeError("Object.getOwnPropertyNames called on a non-object");}
var result=keysShim(object);if(exports.isArray(object)&&exports.indexOf(object,'length')===-1){result.push('length');}
return result;}
var keys=typeof Object.keys==='function'?Object.keys:keysShim;var getOwnPropertyNames=typeof Object.getOwnPropertyNames==='function'?Object.getOwnPropertyNames:propertyShim;if(new Error().hasOwnProperty('description')){var ERROR_PROPERTY_FILTER=function(obj,array){if(toString.call(obj)==='[object Error]'){array=exports.filter(array,function(name){return name!=='description'&&name!=='number'&&name!=='message';});}
return array;};exports.keys=function(object){return ERROR_PROPERTY_FILTER(object,keys(object));};exports.getOwnPropertyNames=function(object){return ERROR_PROPERTY_FILTER(object,getOwnPropertyNames(object));};}else{exports.keys=keys;exports.getOwnPropertyNames=getOwnPropertyNames;}
function valueObject(value,key){return{value:value[key]};}
if(typeof Object.getOwnPropertyDescriptor==='function'){try{Object.getOwnPropertyDescriptor({'a':1},'a');exports.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;}catch(e){exports.getOwnPropertyDescriptor=function(value,key){try{return Object.getOwnPropertyDescriptor(value,key);}catch(e){return valueObject(value,key);}};}}else{exports.getOwnPropertyDescriptor=valueObject;}},{}],4:[function(require,module,exports){var util=require('util');var shims=require('_shims');var pSlice=Array.prototype.slice;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name='AssertionError';this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;this.message=options.message||getMessage(this);};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return''+value;}
if(util.isNumber(value)&&(isNaN(value)||!isFinite(value))){return value.toString();}
if(util.isFunction(value)||util.isRegExp(value)){return value.toString();}
return value;}
function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n);}else{return s;}}
function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+' '+
self.operator+' '+
truncate(JSON.stringify(self.expected,replacer),128);}
function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction});}
assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,'==',assert.ok);}
assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,'==',assert.equal);};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,'!=',assert.notEqual);}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,'deepEqual',assert.deepEqual);}};function _deepEqual(actual,expected){if(actual===expected){return true;}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false;}
return true;}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime();}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected;}else{return objEquiv(actual,expected);}}
function isArguments(object){return Object.prototype.toString.call(object)=='[object Arguments]';}
function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))
return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false;}
a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b);}
try{var ka=shims.keys(a),kb=shims.keys(b),key,i;}catch(e){return false;}
if(ka.length!=kb.length)
return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])
return false;}
for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false;}
return true;}
assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,'notDeepEqual',assert.notDeepEqual);}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,'===',assert.strictEqual);}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,'!==',assert.notStrictEqual);}};function expectedException(actual,expected){if(!actual||!expected){return false;}
if(Object.prototype.toString.call(expected)=='[object RegExp]'){return expected.test(actual);}else if(actual instanceof expected){return true;}else if(expected.call({},actual)===true){return true;}
return false;}
function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null;}
try{block();}catch(e){actual=e;}
message=(expected&&expected.name?' ('+expected.name+').':'.')+
(message?' '+message:'.');if(shouldThrow&&!actual){fail(actual,expected,'Missing expected exception'+message);}
if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,'Got unwanted exception'+message);}
if((shouldThrow&&actual&&expected&&!expectedException(actual,expected))||(!shouldThrow&&actual)){throw actual;}}
assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)));};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)));};assert.ifError=function(err){if(err){throw err;}};},{"_shims":3,"util":9}],5:[function(require,module,exports){var util=require('util');function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined;}
module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!util.isNumber(n)||n<0)
throw TypeError('n must be a positive number');this._maxListeners=n;return this;};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)
this._events={};if(type==='error'){if(!this._events.error||(util.isObject(this._events.error)&&!this._events.error.length)){er=arguments[1];if(er instanceof Error){throw er;}else{throw TypeError('Uncaught, unspecified "error" event.');}
return false;}}
handler=this._events[type];if(util.isUndefined(handler))
return false;if(util.isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];handler.apply(this,args);}}else if(util.isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)
args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)
listeners[i].apply(this,args);}
return true;};EventEmitter.prototype.addListener=function(type,listener){var m;if(!util.isFunction(listener))
throw TypeError('listener must be a function');if(!this._events)
this._events={};if(this._events.newListener)
this.emit('newListener',type,util.isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])
this._events[type]=listener;else if(util.isObject(this._events[type]))
this._events[type].push(listener);else
this._events[type]=[this._events[type],listener];if(util.isObject(this._events[type])&&!this._events[type].warned){var m;if(!util.isUndefined(this._maxListeners)){m=this._maxListeners;}else{m=EventEmitter.defaultMaxListeners;}
if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[type].length);console.trace();}}
return this;};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!util.isFunction(listener))
throw TypeError('listener must be a function');function g(){this.removeListener(type,g);listener.apply(this,arguments);}
g.listener=listener;this.on(type,g);return this;};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!util.isFunction(listener))
throw TypeError('listener must be a function');if(!this._events||!this._events[type])
return this;list=this._events[type];length=list.length;position=-1;if(list===listener||(util.isFunction(list.listener)&&list.listener===listener)){delete this._events[type];if(this._events.removeListener)
this.emit('removeListener',type,listener);}else if(util.isObject(list)){for(i=length;i-->0;){if(list[i]===listener||(list[i].listener&&list[i].listener===listener)){position=i;break;}}
if(position<0)
return this;if(list.length===1){list.length=0;delete this._events[type];}else{list.splice(position,1);}
if(this._events.removeListener)
this.emit('removeListener',type,listener);}
return this;};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)
return this;if(!this._events.removeListener){if(arguments.length===0)
this._events={};else if(this._events[type])
delete this._events[type];return this;}
if(arguments.length===0){for(key in this._events){if(key==='removeListener')continue;this.removeAllListeners(key);}
this.removeAllListeners('removeListener');this._events={};return this;}
listeners=this._events[type];if(util.isFunction(listeners)){this.removeListener(type,listeners);}else{while(listeners.length)
this.removeListener(type,listeners[listeners.length-1]);}
delete this._events[type];return this;};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])
ret=[];else if(util.isFunction(this._events[type]))
ret=[this._events[type]];else
ret=this._events[type].slice();return ret;};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])
ret=0;else if(util.isFunction(emitter._events[type]))
ret=1;else
ret=emitter._events[type].length;return ret;};},{"util":9}],6:[function(require,module,exports){var process=require("__browserify_process");var util=require('util');var shims=require('_shims');function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==='.'){parts.splice(i,1);}else if(last==='..'){parts.splice(i,1);up++;}else if(up){parts.splice(i,1);up--;}}
if(allowAboveRoot){for(;up--;up){parts.unshift('..');}}
return parts;}
var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1);};exports.resolve=function(){var resolvedPath='',resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=(i>=0)?arguments[i]:process.cwd();if(!util.isString(path)){throw new TypeError('Arguments to path.resolve must be strings');}else if(!path){continue;}
resolvedPath=path+'/'+resolvedPath;resolvedAbsolute=path.charAt(0)==='/';}
resolvedPath=normalizeArray(shims.filter(resolvedPath.split('/'),function(p){return!!p;}),!resolvedAbsolute).join('/');return((resolvedAbsolute?'/':'')+resolvedPath)||'.';};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=shims.substr(path,-1)==='/';path=normalizeArray(shims.filter(path.split('/'),function(p){return!!p;}),!isAbsolute).join('/');if(!path&&!isAbsolute){path='.';}
if(path&&trailingSlash){path+='/';}
return(isAbsolute?'/':'')+path;};exports.isAbsolute=function(path){return path.charAt(0)==='/';};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(shims.filter(paths,function(p,index){if(!util.isString(p)){throw new TypeError('Arguments to path.join must be strings');}
return p;}).join('/'));};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=='')break;}
var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=='')break;}
if(start>end)return[];return arr.slice(start,end-start+1);}
var fromParts=trim(from.split('/'));var toParts=trim(to.split('/'));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break;}}
var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push('..');}
outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join('/');};exports.sep='/';exports.delimiter=':';exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return'.';}
if(dir){dir=dir.substr(0,dir.length-1);}
return root+dir;};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length);}
return f;};exports.extname=function(path){return splitPath(path)[3];};},{"__browserify_process":14,"_shims":3,"util":9}],7:[function(require,module,exports){var QueryString=exports;var util=require('util');var shims=require('_shims');var Buffer=require('buffer').Buffer;function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
function charCode(c){return c.charCodeAt(0);}
QueryString.unescapeBuffer=function(s,decodeSpaces){var out=new Buffer(s.length);var state='CHAR';var n,m,hexchar;for(var inIndex=0,outIndex=0;inIndex<=s.length;inIndex++){var c=s.charCodeAt(inIndex);switch(state){case'CHAR':switch(c){case charCode('%'):n=0;m=0;state='HEX0';break;case charCode('+'):if(decodeSpaces)c=charCode(' ');default:out[outIndex++]=c;break;}
break;case'HEX0':state='HEX1';hexchar=c;if(charCode('0')<=c&&c<=charCode('9')){n=c-charCode('0');}else if(charCode('a')<=c&&c<=charCode('f')){n=c-charCode('a')+10;}else if(charCode('A')<=c&&c<=charCode('F')){n=c-charCode('A')+10;}else{out[outIndex++]=charCode('%');out[outIndex++]=c;state='CHAR';break;}
break;case'HEX1':state='CHAR';if(charCode('0')<=c&&c<=charCode('9')){m=c-charCode('0');}else if(charCode('a')<=c&&c<=charCode('f')){m=c-charCode('a')+10;}else if(charCode('A')<=c&&c<=charCode('F')){m=c-charCode('A')+10;}else{out[outIndex++]=charCode('%');out[outIndex++]=hexchar;out[outIndex++]=c;break;}
out[outIndex++]=16*n+m;break;}}
return out.slice(0,outIndex-1);};QueryString.unescape=function(s,decodeSpaces){return QueryString.unescapeBuffer(s,decodeSpaces).toString();};QueryString.escape=function(str){return encodeURIComponent(str);};var stringifyPrimitive=function(v){if(util.isString(v))
return v;if(util.isBoolean(v))
return v?'true':'false';if(util.isNumber(v))
return isFinite(v)?v:'';return'';};QueryString.stringify=QueryString.encode=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(util.isNull(obj)){obj=undefined;}
if(util.isObject(obj)){return shims.map(shims.keys(obj),function(k){var ks=QueryString.escape(stringifyPrimitive(k))+eq;if(util.isArray(obj[k])){return shims.map(obj[k],function(v){return ks+QueryString.escape(stringifyPrimitive(v));}).join(sep);}else{return ks+QueryString.escape(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return QueryString.escape(stringifyPrimitive(name))+eq+
QueryString.escape(stringifyPrimitive(obj));};QueryString.parse=QueryString.decode=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(!util.isString(qs)||qs.length===0){return obj;}
var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&util.isNumber(options.maxKeys)){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
try{k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);}catch(e){k=QueryString.unescape(kstr,true);v=QueryString.unescape(vstr,true);}
if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(util.isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};},{"_shims":3,"buffer":11,"util":9}],8:[function(require,module,exports){var punycode={encode:function(s){return s}};var util=require('util');var shims=require('_shims');exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null;}
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true},querystring=require('querystring');function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u;}
Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url);}
var rest=url;rest=shims.trim(rest);var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length);}
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==='//';if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true;}}
if(!hostlessProtocol[proto]&&(slashes||(proto&&!slashedProtocol[proto]))){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf('@');}else{atSign=rest.lastIndexOf('@',hostEnd);}
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth);}
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
if(hostEnd===-1)
hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||'';var ipv6Hostname=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart='';for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+='x';}else{newpart+=part[j];}}
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2]);}
if(notHost.length){rest='/'+notHost.join('.')+rest;}
this.hostname=validParts.join('.');break;}}}}
if(this.hostname.length>hostnameMaxLen){this.hostname='';}else{this.hostname=this.hostname.toLowerCase();}
if(!ipv6Hostname){var domainArray=this.hostname.split('.');var newOut=[];for(var i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?'xn--'+punycode.encode(s):s);}
this.hostname=newOut.join('.');}
var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=='/'){rest='/'+rest;}}}
if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae);}
rest=rest.split(ae).join(esc);}}
var hash=rest.indexOf('#');if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash);}
var qm=rest.indexOf('?');if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query);}
rest=rest.slice(0,qm);}else if(parseQueryString){this.search='';this.query={};}
if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname='/';}
if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s;}
this.href=this.format();return this;};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format();}
Url.prototype.format=function(){var auth=this.auth||'';if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,':');auth+='@';}
var protocol=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=auth+this.host;}else if(this.hostname){host=auth+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port;}}
if(this.query&&util.isObject(this.query)&&shims.keys(this.query).length){query=querystring.stringify(this.query);}
var search=this.search||(query&&('?'+query))||'';if(protocol&&shims.substr(protocol,-1)!==':')protocol+=':';if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname;}else if(!host){host='';}
if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(search&&search.charAt(0)!=='?')search='?'+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace('#','%23');return protocol+host+pathname+search+hash;};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative);}
Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format();};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative);}
Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url();rel.parse(relative,false,true);relative=rel;}
var result=new Url();shims.forEach(shims.keys(this),function(k){result[k]=this[k];},this);result.hash=relative.hash;if(relative.href===''){result.href=result.format();return result;}
if(relative.slashes&&!relative.protocol){shims.forEach(shims.keys(relative),function(k){if(k!=='protocol')
result[k]=relative[k];});if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname='/';}
result.href=result.format();return result;}
if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){shims.forEach(shims.keys(relative),function(k){result[k]=relative[k];});result.href=result.format();return result;}
result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||'').split('/');while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host='';if(!relative.hostname)relative.hostname='';if(relPath[0]!=='')relPath.unshift('');if(relPath.length<2)relPath.unshift('');result.pathname=relPath.join('/');}else{result.pathname=relative.pathname;}
result.search=relative.search;result.query=relative.query;result.host=relative.host||'';result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||'';var s=result.search||'';result.path=p+s;}
result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;}
var isSourceAbs=(result.pathname&&result.pathname.charAt(0)==='/'),isRelAbs=(relative.host||relative.pathname&&relative.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||isSourceAbs||(result.host&&relative.pathname)),removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split('/')||[],relPath=relative.pathname&&relative.pathname.split('/')||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname='';result.port=null;if(result.host){if(srcPath[0]==='')srcPath[0]=result.host;else srcPath.unshift(result.host);}
result.host='';if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==='')relPath[0]=relative.host;else relPath.unshift(relative.host);}
relative.host=null;}
mustEndAbs=mustEndAbs&&(relPath[0]===''||srcPath[0]==='');}
if(isRelAbs){result.host=(relative.host||relative.host==='')?relative.host:result.host;result.hostname=(relative.hostname||relative.hostname==='')?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query;}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.href=result.format();return result;}
if(!srcPath.length){result.pathname=null;if(result.search){result.path='/'+result.search;}else{result.path=null;}
result.href=result.format();return result;}
var last=srcPath.slice(-1)[0];var hasTrailingSlash=((result.host||relative.host)&&(last==='.'||last==='..')||last==='');var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last=='.'){srcPath.splice(i,1);}else if(last==='..'){srcPath.splice(i,1);up++;}else if(up){srcPath.splice(i,1);up--;}}
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift('..');}}
if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('');}
if(hasTrailingSlash&&(shims.substr(srcPath.join('/'),-1)!=='/')){srcPath.push('');}
var isAbsolute=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){result.hostname=result.host=isAbsolute?'':srcPath.length?srcPath.shift():'';var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
mustEndAbs=mustEndAbs||(result.host&&srcPath.length);if(mustEndAbs&&!isAbsolute){srcPath.unshift('');}
if(!srcPath.length){result.pathname=null;result.path=null;}else{result.pathname=srcPath.join('/');}
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==':'){this.port=port.substr(1);}
host=host.substr(0,host.length-port.length);}
if(host)this.hostname=host;};},{"_shims":3,"querystring":7,"util":9}],9:[function(require,module,exports){var shims=require('_shims');var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}
return objects.join(' ');}
var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return'%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return'[Circular]';}
default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}
return str;};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){exports._extend(ctx,opts);}
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}
exports.inspect=inspect;inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return'\u001b['+inspect.colors[style][0]+'m'+str+'\u001b['+inspect.colors[style][1]+'m';}else{return str;}}
function stylizeNoColor(str,styleType){return str;}
function arrayToHash(array){var hash={};shims.forEach(array,function(val,idx){hash[val]=true;});return hash;}
function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}
return ret;}
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}
var keys=shims.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=shims.getOwnPropertyNames(value);}
if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}
if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}
if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}
if(isError(value)){return formatError(value);}}
var base='',array=false,braces=['{','}'];if(isArray(value)){array=true;braces=['[',']'];}
if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}
if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}
if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}
if(isError(value)){base=' '+formatError(value);}
if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}
if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}
ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}
ctx.seen.pop();return reduceToSingleString(output,base,braces);}
function formatPrimitive(ctx,value){if(isUndefined(value))
return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}
if(isNumber(value))
return ctx.stylize(''+value,'number');if(isBoolean(value))
return ctx.stylize(''+value,'boolean');if(isNull(value))
return ctx.stylize('null','null');}
function formatError(value){return'['+Error.prototype.toString.call(value)+']';}
function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}
shims.forEach(keys,function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}
function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=shims.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}
if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}
if(!str){if(shims.indexOf(ctx.seen,desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}
if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return'  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return'   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}
if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}
name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}
return name+': '+str;}
function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=shims.reduce(output,function(prev,cur){numLinesEst++;if(cur.indexOf('\n')>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+
(base===''?'':base+'\n ')+' '+
output.join(',\n  ')+' '+
braces[1];}
return braces[0]+base+' '+output.join(', ')+' '+braces[1];}
function isArray(ar){return shims.isArray(ar);}
exports.isArray=isArray;function isBoolean(arg){return typeof arg==='boolean';}
exports.isBoolean=isBoolean;function isNull(arg){return arg===null;}
exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==='number';}
exports.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
exports.isString=isString;function isSymbol(arg){return typeof arg==='symbol';}
exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}
exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg;}
exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}
exports.isDate=isDate;function isError(e){return isObject(e)&&objectToString(e)==='[object Error]';}
exports.isError=isError;function isFunction(arg){return typeof arg==='function';}
exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
exports.isPrimitive=isPrimitive;function isBuffer(arg){return arg&&typeof arg==='object'&&typeof arg.copy==='function'&&typeof arg.fill==='function'&&typeof arg.binarySlice==='function';}
exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o);}
function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}
var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ');}
exports.log=function(){console.log('%s - %s',timestamp(),exports.format.apply(exports,arguments));};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=shims.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=shims.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}
return origin;};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}},{"_shims":3}],10:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:(nBytes-1),d=isBE?1:-1,s=buffer[offset+i];i+=d;e=s&((1<<(-nBits))-1);s>>=(-nBits);nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&((1<<(-nBits))-1);e>>=(-nBits);nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias;}else if(e===eMax){return m?NaN:((s?-1:1)*Infinity);}else{m=m+Math.pow(2,mLen);e=e-eBias;}
return(s?-1:1)*m*Math.pow(2,e-mLen);};exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=(mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0),i=isBE?(nBytes-1):0,d=isBE?-1:1,s=value<0||(value===0&&1/value<0)?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax;}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2;}
if(e+eBias>=1){value+=rt/c;}else{value+=rt*Math.pow(2,1-eBias);}
if(value*c>=2){e++;c/=2;}
if(e+eBias>=eMax){m=0;e=eMax;}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias;}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0;}}
for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8);e=(e<<mLen)|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128;};},{}],11:[function(require,module,exports){var assert;exports.Buffer=Buffer;exports.SlowBuffer=Buffer;Buffer.poolSize=8192;exports.INSPECT_MAX_BYTES=50;function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');}
function Buffer(subject,encoding,offset){if(!assert)assert=require('assert');if(!(this instanceof Buffer)){return new Buffer(subject,encoding,offset);}
this.parent=this;this.offset=0;if(encoding=="base64"&&typeof subject=="string"){subject=stringtrim(subject);while(subject.length%4!=0){subject=subject+"=";}}
var type;if(typeof offset==='number'){this.length=coerce(encoding);for(var i=0;i<this.length;i++){this[i]=subject.get(i+offset);}}else{switch(type=typeof subject){case'number':this.length=coerce(subject);break;case'string':this.length=Buffer.byteLength(subject,encoding);break;case'object':this.length=coerce(subject.length);break;default:throw new TypeError('First argument needs to be a number, '+'array or string.');}
if(isArrayIsh(subject)){for(var i=0;i<this.length;i++){if(subject instanceof Buffer){this[i]=subject.readUInt8(i);}
else{this[i]=((subject[i]%256)+256)%256;}}}else if(type=='string'){this.length=this.write(subject,0,encoding);}else if(type==='number'){for(var i=0;i<this.length;i++){this[i]=0;}}}}
Buffer.prototype.get=function get(i){if(i<0||i>=this.length)throw new Error('oob');return this[i];};Buffer.prototype.set=function set(i,v){if(i<0||i>=this.length)throw new Error('oob');return this[i]=v;};Buffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case'hex':return str.length/2;case'utf8':case'utf-8':return utf8ToBytes(str).length;case'ascii':case'binary':return str.length;case'base64':return base64ToBytes(str).length;default:throw new Error('Unknown encoding');}};Buffer.prototype.utf8Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length);};Buffer.prototype.asciiWrite=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length);};Buffer.prototype.binaryWrite=Buffer.prototype.asciiWrite;Buffer.prototype.base64Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length);};Buffer.prototype.base64Slice=function(start,end){var bytes=Array.prototype.slice.apply(this,arguments)
return require("base64-js").fromByteArray(bytes);};Buffer.prototype.utf8Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var res="";var tmp="";var i=0;while(i<bytes.length){if(bytes[i]<=0x7F){res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]);tmp="";}else
tmp+="%"+bytes[i].toString(16);i++;}
return res+decodeUtf8Char(tmp);}
Buffer.prototype.asciiSlice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var ret="";for(var i=0;i<bytes.length;i++)
ret+=String.fromCharCode(bytes[i]);return ret;}
Buffer.prototype.binarySlice=Buffer.prototype.asciiSlice;Buffer.prototype.inspect=function(){var out=[],len=this.length;for(var i=0;i<len;i++){out[i]=toHex(this[i]);if(i==exports.INSPECT_MAX_BYTES){out[i+1]='...';break;}}
return'<Buffer '+out.join(' ')+'>';};Buffer.prototype.hexSlice=function(start,end){var len=this.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out='';for(var i=start;i<end;i++){out+=toHex(this[i]);}
return out;};Buffer.prototype.toString=function(encoding,start,end){encoding=String(encoding||'utf8').toLowerCase();start=+start||0;if(typeof end=='undefined')end=this.length;if(+end==start){return'';}
switch(encoding){case'hex':return this.hexSlice(start,end);case'utf8':case'utf-8':return this.utf8Slice(start,end);case'ascii':return this.asciiSlice(start,end);case'binary':return this.binarySlice(start,end);case'base64':return this.base64Slice(start,end);case'ucs2':case'ucs-2':return this.ucs2Slice(start,end);default:throw new Error('Unknown encoding');}};Buffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining;}else{length=+length;if(length>remaining){length=remaining;}}
var strLen=string.length;if(strLen%2){throw new Error('Invalid hex string');}
if(length>strLen/2){length=strLen/2;}
for(var i=0;i<length;i++){var b=parseInt(string.substr(i*2,2),16);if(isNaN(b))throw new Error('Invalid hex string');this[offset+i]=b;}
Buffer._charsWritten=i*2;return i;};Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined;}}else{var swap=encoding;encoding=offset;offset=length;length=swap;}
offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining;}else{length=+length;if(length>remaining){length=remaining;}}
encoding=String(encoding||'utf8').toLowerCase();switch(encoding){case'hex':return this.hexWrite(string,offset,length);case'utf8':case'utf-8':return this.utf8Write(string,offset,length);case'ascii':return this.asciiWrite(string,offset,length);case'binary':return this.binaryWrite(string,offset,length);case'base64':return this.base64Write(string,offset,length);case'ucs2':case'ucs-2':return this.ucs2Write(string,offset,length);default:throw new Error('Unknown encoding');}};function clamp(index,len,defaultValue){if(typeof index!=='number')return defaultValue;index=~~index;if(index>=len)return len;if(index>=0)return index;index+=len;if(index>=0)return index;return 0;}
Buffer.prototype.slice=function(start,end){var len=this.length;start=clamp(start,len,0);end=clamp(end,len,len);return new Buffer(this,end-start,+start);};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;start||(start=0);if(end===undefined||isNaN(end)){end=this.length;}
target_start||(target_start=0);if(end<start)throw new Error('sourceEnd < sourceStart');if(end===start)return 0;if(target.length==0||source.length==0)return 0;if(target_start<0||target_start>=target.length){throw new Error('targetStart out of bounds');}
if(start<0||start>=source.length){throw new Error('sourceStart out of bounds');}
if(end<0||end>source.length){throw new Error('sourceEnd out of bounds');}
if(end>this.length){end=this.length;}
if(target.length-target_start<end-start){end=target.length-target_start+start;}
var temp=[];for(var i=start;i<end;i++){assert.ok(typeof this[i]!=='undefined',"copying undefined buffer bytes!");temp.push(this[i]);}
for(var i=target_start;i<target_start+temp.length;i++){target[i]=temp[i-target_start];}};Buffer.prototype.fill=function fill(value,start,end){value||(value=0);start||(start=0);end||(end=this.length);if(typeof value==='string'){value=value.charCodeAt(0);}
if(!(typeof value==='number')||isNaN(value)){throw new Error('value is not a number');}
if(end<start)throw new Error('end < start');if(end===start)return 0;if(this.length==0)return 0;if(start<0||start>=this.length){throw new Error('start out of bounds');}
if(end<0||end>this.length){throw new Error('end out of bounds');}
for(var i=start;i<end;i++){this[i]=value;}}
Buffer.isBuffer=function isBuffer(b){return b instanceof Buffer;};Buffer.concat=function(list,totalLength){if(!isArray(list)){throw new Error("Usage: Buffer.concat(list, [totalLength])\n \
      list should be an Array.");}
if(list.length===0){return new Buffer(0);}else if(list.length===1){return list[0];}
if(typeof totalLength!=='number'){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length;}}
var buffer=new Buffer(totalLength);var pos=0;for(var i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos);pos+=buf.length;}
return buffer;};Buffer.isEncoding=function(encoding){switch((encoding+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return true;default:return false;}};function coerce(length){length=~~Math.ceil(+length);return length<0?0:length;}
function isArray(subject){return(Array.isArray||function(subject){return{}.toString.apply(subject)=='[object Array]'})
(subject)}
function isArrayIsh(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==='object'&&typeof subject.length==='number';}
function toHex(n){if(n<16)return'0'+n.toString(16);return n.toString(16);}
function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++)
if(str.charCodeAt(i)<=0x7F)
byteArray.push(str.charCodeAt(i));else{var h=encodeURIComponent(str.charAt(i)).substr(1).split('%');for(var j=0;j<h.length;j++)
byteArray.push(parseInt(h[j],16));}
return byteArray;}
function asciiToBytes(str){var byteArray=[]
for(var i=0;i<str.length;i++)
byteArray.push(str.charCodeAt(i)&0xFF);return byteArray;}
function base64ToBytes(str){return require("base64-js").toByteArray(str);}
function blitBuffer(src,dst,offset,length){var pos,i=0;while(i<length){if((i+offset>=dst.length)||(i>=src.length))
break;dst[i+offset]=src[i];i++;}
return i;}
function decodeUtf8Char(str){try{return decodeURIComponent(str);}catch(err){return String.fromCharCode(0xFFFD);}}
Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return;return buffer[offset];};function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return 0;if(isBigEndian){val=buffer[offset]<<8;if(offset+1<buffer.length){val|=buffer[offset+1];}}else{val=buffer[offset];if(offset+1<buffer.length){val|=buffer[offset+1]<<8;}}
return val;}
Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,false,noAssert);};Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,true,noAssert);};function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return 0;if(isBigEndian){if(offset+1<buffer.length)
val=buffer[offset+1]<<16;if(offset+2<buffer.length)
val|=buffer[offset+2]<<8;if(offset+3<buffer.length)
val|=buffer[offset+3];val=val+(buffer[offset]<<24>>>0);}else{if(offset+2<buffer.length)
val=buffer[offset+2]<<16;if(offset+1<buffer.length)
val|=buffer[offset+1]<<8;val|=buffer[offset];if(offset+3<buffer.length)
val=val+(buffer[offset+3]<<24>>>0);}
return val;}
Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,false,noAssert);};Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,true,noAssert);};Buffer.prototype.readInt8=function(offset,noAssert){var buffer=this;var neg;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return;neg=buffer[offset]&0x80;if(!neg){return(buffer[offset]);}
return((0xff-buffer[offset]+1)*-1);};function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to read beyond buffer length');}
val=readUInt16(buffer,offset,isBigEndian,noAssert);neg=val&0x8000;if(!neg){return val;}
return(0xffff-val+1)*-1;}
Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,false,noAssert);};Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,true,noAssert);};function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
val=readUInt32(buffer,offset,isBigEndian,noAssert);neg=val&0x80000000;if(!neg){return(val);}
return(0xffffffff-val+1)*-1;}
Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,false,noAssert);};Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,true,noAssert);};function readFloat(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
return require('./buffer_ieee754').readIEEE754(buffer,offset,isBigEndian,23,4);}
Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,false,noAssert);};Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,true,noAssert);};function readDouble(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset+7<buffer.length,'Trying to read beyond buffer length');}
return require('./buffer_ieee754').readIEEE754(buffer,offset,isBigEndian,52,8);}
Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,false,noAssert);};Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,true,noAssert);};function verifuint(value,max){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value>=0,'specified a negative value for writing an unsigned value');assert.ok(value<=max,'value is larger than maximum value for type');assert.ok(Math.floor(value)===value,'value has a fractional component');}
Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'trying to write beyond buffer length');verifuint(value,0xff);}
if(offset<buffer.length){buffer[offset]=value;}};function writeUInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'trying to write beyond buffer length');verifuint(value,0xffff);}
for(var i=0;i<Math.min(buffer.length-offset,2);i++){buffer[offset+i]=(value&(0xff<<(8*(isBigEndian?1-i:i))))>>>(isBigEndian?1-i:i)*8;}}
Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,false,noAssert);};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,true,noAssert);};function writeUInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'trying to write beyond buffer length');verifuint(value,0xffffffff);}
for(var i=0;i<Math.min(buffer.length-offset,4);i++){buffer[offset+i]=(value>>>(isBigEndian?3-i:i)*8)&0xff;}}
Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,false,noAssert);};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,true,noAssert);};function verifsint(value,max,min){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value<=max,'value larger than maximum allowed value');assert.ok(value>=min,'value smaller than minimum allowed value');assert.ok(Math.floor(value)===value,'value has a fractional component');}
function verifIEEE754(value,max,min){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value<=max,'value larger than maximum allowed value');assert.ok(value>=min,'value smaller than minimum allowed value');}
Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7f,-0x80);}
if(value>=0){buffer.writeUInt8(value,offset,noAssert);}else{buffer.writeUInt8(0xff+value+1,offset,noAssert);}};function writeInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7fff,-0x8000);}
if(value>=0){writeUInt16(buffer,value,offset,isBigEndian,noAssert);}else{writeUInt16(buffer,0xffff+value+1,offset,isBigEndian,noAssert);}}
Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,false,noAssert);};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,true,noAssert);};function writeInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7fffffff,-0x80000000);}
if(value>=0){writeUInt32(buffer,value,offset,isBigEndian,noAssert);}else{writeUInt32(buffer,0xffffffff+value+1,offset,isBigEndian,noAssert);}}
Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,false,noAssert);};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,true,noAssert);};function writeFloat(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to write beyond buffer length');verifIEEE754(value,3.4028234663852886e+38,-3.4028234663852886e+38);}
require('./buffer_ieee754').writeIEEE754(buffer,value,offset,isBigEndian,23,4);}
Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,false,noAssert);};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,true,noAssert);};function writeDouble(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+7<buffer.length,'Trying to write beyond buffer length');verifIEEE754(value,1.7976931348623157E+308,-1.7976931348623157E+308);}
require('./buffer_ieee754').writeIEEE754(buffer,value,offset,isBigEndian,52,8);}
Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,false,noAssert);};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,true,noAssert);};},{"./buffer_ieee754":10,"assert":4,"base64-js":12}],12:[function(require,module,exports){var lookup='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';;(function(exports){'use strict';var Arr=(typeof Uint8Array!=='undefined')?Uint8Array:Array
var PLUS='+'.charCodeAt(0)
var SLASH='/'.charCodeAt(0)
var NUMBER='0'.charCodeAt(0)
var LOWER='a'.charCodeAt(0)
var UPPER='A'.charCodeAt(0)
var PLUS_URL_SAFE='-'.charCodeAt(0)
var SLASH_URL_SAFE='_'.charCodeAt(0)
function decode(elt){var code=elt.charCodeAt(0)
if(code===PLUS||code===PLUS_URL_SAFE)
return 62
if(code===SLASH||code===SLASH_URL_SAFE)
return 63
if(code<NUMBER)
return-1
if(code<NUMBER+10)
return code-NUMBER+26+26
if(code<UPPER+26)
return code-UPPER
if(code<LOWER+26)
return code-LOWER+26}
function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr
if(b64.length%4>0){throw new Error('Invalid string. Length must be a multiple of 4')}
var len=b64.length
placeHolders='='===b64.charAt(len-2)?2:'='===b64.charAt(len-1)?1:0
arr=new Arr(b64.length*3/4-placeHolders)
l=placeHolders>0?b64.length-4:b64.length
var L=0
function push(v){arr[L++]=v}
for(i=0,j=0;i<l;i+=4,j+=3){tmp=(decode(b64.charAt(i))<<18)|(decode(b64.charAt(i+1))<<12)|(decode(b64.charAt(i+2))<<6)|decode(b64.charAt(i+3))
push((tmp&0xFF0000)>>16)
push((tmp&0xFF00)>>8)
push(tmp&0xFF)}
if(placeHolders===2){tmp=(decode(b64.charAt(i))<<2)|(decode(b64.charAt(i+1))>>4)
push(tmp&0xFF)}else if(placeHolders===1){tmp=(decode(b64.charAt(i))<<10)|(decode(b64.charAt(i+1))<<4)|(decode(b64.charAt(i+2))>>2)
push((tmp>>8)&0xFF)
push(tmp&0xFF)}
return arr}
function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length
function encode(num){return lookup.charAt(num)}
function tripletToBase64(num){return encode(num>>18&0x3F)+encode(num>>12&0x3F)+encode(num>>6&0x3F)+encode(num&0x3F)}
for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+(uint8[i+2])
output+=tripletToBase64(temp)}
switch(extraBytes){case 1:temp=uint8[uint8.length-1]
output+=encode(temp>>2)
output+=encode((temp<<4)&0x3F)
output+='=='
break
case 2:temp=(uint8[uint8.length-2]<<8)+(uint8[uint8.length-1])
output+=encode(temp>>10)
output+=encode((temp>>4)&0x3F)
output+=encode((temp<<2)&0x3F)
output+='='
break}
return output}
exports.toByteArray=b64ToByteArray
exports.fromByteArray=uint8ToBase64}(typeof exports==='undefined'?(this.base64js={}):exports))},{}],13:[function(require,module,exports){require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){exports.readIEEE754=function(buffer,offset,isBE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isBE?0:(nBytes-1),d=isBE?1:-1,s=buffer[offset+i];i+=d;e=s&((1<<(-nBits))-1);s>>=(-nBits);nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&((1<<(-nBits))-1);e>>=(-nBits);nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias;}else if(e===eMax){return m?NaN:((s?-1:1)*Infinity);}else{m=m+Math.pow(2,mLen);e=e-eBias;}
return(s?-1:1)*m*Math.pow(2,e-mLen);};exports.writeIEEE754=function(buffer,value,offset,isBE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=(mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0),i=isBE?(nBytes-1):0,d=isBE?-1:1,s=value<0||(value===0&&1/value<0)?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax;}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2;}
if(e+eBias>=1){value+=rt/c;}else{value+=rt*Math.pow(2,1-eBias);}
if(value*c>=2){e++;c/=2;}
if(e+eBias>=eMax){m=0;e=eMax;}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias;}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0;}}
for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8);e=(e<<mLen)|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128;};},{}],"q9TxCC":[function(require,module,exports){var assert;exports.Buffer=Buffer;exports.SlowBuffer=Buffer;Buffer.poolSize=8192;exports.INSPECT_MAX_BYTES=50;function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');}
function Buffer(subject,encoding,offset){if(!assert)assert=require('assert');if(!(this instanceof Buffer)){return new Buffer(subject,encoding,offset);}
this.parent=this;this.offset=0;if(encoding=="base64"&&typeof subject=="string"){subject=stringtrim(subject);while(subject.length%4!=0){subject=subject+"=";}}
var type;if(typeof offset==='number'){this.length=coerce(encoding);for(var i=0;i<this.length;i++){this[i]=subject.get(i+offset);}}else{switch(type=typeof subject){case'number':this.length=coerce(subject);break;case'string':this.length=Buffer.byteLength(subject,encoding);break;case'object':this.length=coerce(subject.length);break;default:throw new Error('First argument needs to be a number, '+'array or string.');}
if(isArrayIsh(subject)){for(var i=0;i<this.length;i++){if(subject instanceof Buffer){this[i]=subject.readUInt8(i);}
else{this[i]=subject[i];}}}else if(type=='string'){this.length=this.write(subject,0,encoding);}else if(type==='number'){for(var i=0;i<this.length;i++){this[i]=0;}}}}
Buffer.prototype.get=function get(i){if(i<0||i>=this.length)throw new Error('oob');return this[i];};Buffer.prototype.set=function set(i,v){if(i<0||i>=this.length)throw new Error('oob');return this[i]=v;};Buffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case'hex':return str.length/2;case'utf8':case'utf-8':return utf8ToBytes(str).length;case'ascii':case'binary':return str.length;case'base64':return base64ToBytes(str).length;default:throw new Error('Unknown encoding');}};Buffer.prototype.utf8Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(utf8ToBytes(string),this,offset,length);};Buffer.prototype.asciiWrite=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(asciiToBytes(string),this,offset,length);};Buffer.prototype.binaryWrite=Buffer.prototype.asciiWrite;Buffer.prototype.base64Write=function(string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(base64ToBytes(string),this,offset,length);};Buffer.prototype.base64Slice=function(start,end){var bytes=Array.prototype.slice.apply(this,arguments)
return require("base64-js").fromByteArray(bytes);};Buffer.prototype.utf8Slice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var res="";var tmp="";var i=0;while(i<bytes.length){if(bytes[i]<=0x7F){res+=decodeUtf8Char(tmp)+String.fromCharCode(bytes[i]);tmp="";}else
tmp+="%"+bytes[i].toString(16);i++;}
return res+decodeUtf8Char(tmp);}
Buffer.prototype.asciiSlice=function(){var bytes=Array.prototype.slice.apply(this,arguments);var ret="";for(var i=0;i<bytes.length;i++)
ret+=String.fromCharCode(bytes[i]);return ret;}
Buffer.prototype.binarySlice=Buffer.prototype.asciiSlice;Buffer.prototype.inspect=function(){var out=[],len=this.length;for(var i=0;i<len;i++){out[i]=toHex(this[i]);if(i==exports.INSPECT_MAX_BYTES){out[i+1]='...';break;}}
return'<Buffer '+out.join(' ')+'>';};Buffer.prototype.hexSlice=function(start,end){var len=this.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out='';for(var i=start;i<end;i++){out+=toHex(this[i]);}
return out;};Buffer.prototype.toString=function(encoding,start,end){encoding=String(encoding||'utf8').toLowerCase();start=+start||0;if(typeof end=='undefined')end=this.length;if(+end==start){return'';}
switch(encoding){case'hex':return this.hexSlice(start,end);case'utf8':case'utf-8':return this.utf8Slice(start,end);case'ascii':return this.asciiSlice(start,end);case'binary':return this.binarySlice(start,end);case'base64':return this.base64Slice(start,end);case'ucs2':case'ucs-2':return this.ucs2Slice(start,end);default:throw new Error('Unknown encoding');}};Buffer.prototype.hexWrite=function(string,offset,length){offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining;}else{length=+length;if(length>remaining){length=remaining;}}
var strLen=string.length;if(strLen%2){throw new Error('Invalid hex string');}
if(length>strLen/2){length=strLen/2;}
for(var i=0;i<length;i++){var byte=parseInt(string.substr(i*2,2),16);if(isNaN(byte))throw new Error('Invalid hex string');this[offset+i]=byte;}
Buffer._charsWritten=i*2;return i;};Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined;}}else{var swap=encoding;encoding=offset;offset=length;length=swap;}
offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining;}else{length=+length;if(length>remaining){length=remaining;}}
encoding=String(encoding||'utf8').toLowerCase();switch(encoding){case'hex':return this.hexWrite(string,offset,length);case'utf8':case'utf-8':return this.utf8Write(string,offset,length);case'ascii':return this.asciiWrite(string,offset,length);case'binary':return this.binaryWrite(string,offset,length);case'base64':return this.base64Write(string,offset,length);case'ucs2':case'ucs-2':return this.ucs2Write(string,offset,length);default:throw new Error('Unknown encoding');}};function clamp(index,len,defaultValue){if(typeof index!=='number')return defaultValue;index=~~index;if(index>=len)return len;if(index>=0)return index;index+=len;if(index>=0)return index;return 0;}
Buffer.prototype.slice=function(start,end){var len=this.length;start=clamp(start,len,0);end=clamp(end,len,len);return new Buffer(this,end-start,+start);};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;start||(start=0);if(end===undefined||isNaN(end)){end=this.length;}
target_start||(target_start=0);if(end<start)throw new Error('sourceEnd < sourceStart');if(end===start)return 0;if(target.length==0||source.length==0)return 0;if(target_start<0||target_start>=target.length){throw new Error('targetStart out of bounds');}
if(start<0||start>=source.length){throw new Error('sourceStart out of bounds');}
if(end<0||end>source.length){throw new Error('sourceEnd out of bounds');}
if(end>this.length){end=this.length;}
if(target.length-target_start<end-start){end=target.length-target_start+start;}
var temp=[];for(var i=start;i<end;i++){assert.ok(typeof this[i]!=='undefined',"copying undefined buffer bytes!");temp.push(this[i]);}
for(var i=target_start;i<target_start+temp.length;i++){target[i]=temp[i-target_start];}};Buffer.prototype.fill=function fill(value,start,end){value||(value=0);start||(start=0);end||(end=this.length);if(typeof value==='string'){value=value.charCodeAt(0);}
if(!(typeof value==='number')||isNaN(value)){throw new Error('value is not a number');}
if(end<start)throw new Error('end < start');if(end===start)return 0;if(this.length==0)return 0;if(start<0||start>=this.length){throw new Error('start out of bounds');}
if(end<0||end>this.length){throw new Error('end out of bounds');}
for(var i=start;i<end;i++){this[i]=value;}}
Buffer.isBuffer=function isBuffer(b){return b instanceof Buffer||b instanceof Buffer;};Buffer.concat=function(list,totalLength){if(!isArray(list)){throw new Error("Usage: Buffer.concat(list, [totalLength])\n \
      list should be an Array.");}
if(list.length===0){return new Buffer(0);}else if(list.length===1){return list[0];}
if(typeof totalLength!=='number'){totalLength=0;for(var i=0;i<list.length;i++){var buf=list[i];totalLength+=buf.length;}}
var buffer=new Buffer(totalLength);var pos=0;for(var i=0;i<list.length;i++){var buf=list[i];buf.copy(buffer,pos);pos+=buf.length;}
return buffer;};Buffer.isEncoding=function(encoding){switch((encoding+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return true;default:return false;}};function coerce(length){length=~~Math.ceil(+length);return length<0?0:length;}
function isArray(subject){return(Array.isArray||function(subject){return{}.toString.apply(subject)=='[object Array]'})
(subject)}
function isArrayIsh(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==='object'&&typeof subject.length==='number';}
function toHex(n){if(n<16)return'0'+n.toString(16);return n.toString(16);}
function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++)
if(str.charCodeAt(i)<=0x7F)
byteArray.push(str.charCodeAt(i));else{var h=encodeURIComponent(str.charAt(i)).substr(1).split('%');for(var j=0;j<h.length;j++)
byteArray.push(parseInt(h[j],16));}
return byteArray;}
function asciiToBytes(str){var byteArray=[]
for(var i=0;i<str.length;i++)
byteArray.push(str.charCodeAt(i)&0xFF);return byteArray;}
function base64ToBytes(str){return require("base64-js").toByteArray(str);}
function blitBuffer(src,dst,offset,length){var pos,i=0;while(i<length){if((i+offset>=dst.length)||(i>=src.length))
break;dst[i+offset]=src[i];i++;}
return i;}
function decodeUtf8Char(str){try{return decodeURIComponent(str);}catch(err){return String.fromCharCode(0xFFFD);}}
Buffer.prototype.readUInt8=function(offset,noAssert){var buffer=this;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return;return buffer[offset];};function readUInt16(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return 0;if(isBigEndian){val=buffer[offset]<<8;if(offset+1<buffer.length){val|=buffer[offset+1];}}else{val=buffer[offset];if(offset+1<buffer.length){val|=buffer[offset+1]<<8;}}
return val;}
Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,false,noAssert);};Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,true,noAssert);};function readUInt32(buffer,offset,isBigEndian,noAssert){var val=0;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return 0;if(isBigEndian){if(offset+1<buffer.length)
val=buffer[offset+1]<<16;if(offset+2<buffer.length)
val|=buffer[offset+2]<<8;if(offset+3<buffer.length)
val|=buffer[offset+3];val=val+(buffer[offset]<<24>>>0);}else{if(offset+2<buffer.length)
val=buffer[offset+2]<<16;if(offset+1<buffer.length)
val|=buffer[offset+1]<<8;val|=buffer[offset];if(offset+3<buffer.length)
val=val+(buffer[offset+3]<<24>>>0);}
return val;}
Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,false,noAssert);};Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,true,noAssert);};Buffer.prototype.readInt8=function(offset,noAssert){var buffer=this;var neg;if(!noAssert){assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to read beyond buffer length');}
if(offset>=buffer.length)return;neg=buffer[offset]&0x80;if(!neg){return(buffer[offset]);}
return((0xff-buffer[offset]+1)*-1);};function readInt16(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to read beyond buffer length');}
val=readUInt16(buffer,offset,isBigEndian,noAssert);neg=val&0x8000;if(!neg){return val;}
return(0xffff-val+1)*-1;}
Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,false,noAssert);};Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,true,noAssert);};function readInt32(buffer,offset,isBigEndian,noAssert){var neg,val;if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
val=readUInt32(buffer,offset,isBigEndian,noAssert);neg=val&0x80000000;if(!neg){return(val);}
return(0xffffffff-val+1)*-1;}
Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,false,noAssert);};Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,true,noAssert);};function readFloat(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset+3<buffer.length,'Trying to read beyond buffer length');}
return require('./buffer_ieee754').readIEEE754(buffer,offset,isBigEndian,23,4);}
Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,false,noAssert);};Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,true,noAssert);};function readDouble(buffer,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset+7<buffer.length,'Trying to read beyond buffer length');}
return require('./buffer_ieee754').readIEEE754(buffer,offset,isBigEndian,52,8);}
Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,false,noAssert);};Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,true,noAssert);};function verifuint(value,max){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value>=0,'specified a negative value for writing an unsigned value');assert.ok(value<=max,'value is larger than maximum value for type');assert.ok(Math.floor(value)===value,'value has a fractional component');}
Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'trying to write beyond buffer length');verifuint(value,0xff);}
if(offset<buffer.length){buffer[offset]=value;}};function writeUInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'trying to write beyond buffer length');verifuint(value,0xffff);}
for(var i=0;i<Math.min(buffer.length-offset,2);i++){buffer[offset+i]=(value&(0xff<<(8*(isBigEndian?1-i:i))))>>>(isBigEndian?1-i:i)*8;}}
Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){writeUInt16(this,value,offset,false,noAssert);};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){writeUInt16(this,value,offset,true,noAssert);};function writeUInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'trying to write beyond buffer length');verifuint(value,0xffffffff);}
for(var i=0;i<Math.min(buffer.length-offset,4);i++){buffer[offset+i]=(value>>>(isBigEndian?3-i:i)*8)&0xff;}}
Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){writeUInt32(this,value,offset,false,noAssert);};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){writeUInt32(this,value,offset,true,noAssert);};function verifsint(value,max,min){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value<=max,'value larger than maximum allowed value');assert.ok(value>=min,'value smaller than minimum allowed value');assert.ok(Math.floor(value)===value,'value has a fractional component');}
function verifIEEE754(value,max,min){assert.ok(typeof(value)=='number','cannot write a non-number as a number');assert.ok(value<=max,'value larger than maximum allowed value');assert.ok(value>=min,'value smaller than minimum allowed value');}
Buffer.prototype.writeInt8=function(value,offset,noAssert){var buffer=this;if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7f,-0x80);}
if(value>=0){buffer.writeUInt8(value,offset,noAssert);}else{buffer.writeUInt8(0xff+value+1,offset,noAssert);}};function writeInt16(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+1<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7fff,-0x8000);}
if(value>=0){writeUInt16(buffer,value,offset,isBigEndian,noAssert);}else{writeUInt16(buffer,0xffff+value+1,offset,isBigEndian,noAssert);}}
Buffer.prototype.writeInt16LE=function(value,offset,noAssert){writeInt16(this,value,offset,false,noAssert);};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){writeInt16(this,value,offset,true,noAssert);};function writeInt32(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to write beyond buffer length');verifsint(value,0x7fffffff,-0x80000000);}
if(value>=0){writeUInt32(buffer,value,offset,isBigEndian,noAssert);}else{writeUInt32(buffer,0xffffffff+value+1,offset,isBigEndian,noAssert);}}
Buffer.prototype.writeInt32LE=function(value,offset,noAssert){writeInt32(this,value,offset,false,noAssert);};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){writeInt32(this,value,offset,true,noAssert);};function writeFloat(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+3<buffer.length,'Trying to write beyond buffer length');verifIEEE754(value,3.4028234663852886e+38,-3.4028234663852886e+38);}
require('./buffer_ieee754').writeIEEE754(buffer,value,offset,isBigEndian,23,4);}
Buffer.prototype.writeFloatLE=function(value,offset,noAssert){writeFloat(this,value,offset,false,noAssert);};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){writeFloat(this,value,offset,true,noAssert);};function writeDouble(buffer,value,offset,isBigEndian,noAssert){if(!noAssert){assert.ok(value!==undefined&&value!==null,'missing value');assert.ok(typeof(isBigEndian)==='boolean','missing or invalid endian');assert.ok(offset!==undefined&&offset!==null,'missing offset');assert.ok(offset+7<buffer.length,'Trying to write beyond buffer length');verifIEEE754(value,1.7976931348623157E+308,-1.7976931348623157E+308);}
require('./buffer_ieee754').writeIEEE754(buffer,value,offset,isBigEndian,52,8);}
Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){writeDouble(this,value,offset,false,noAssert);};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){writeDouble(this,value,offset,true,noAssert);};},{"./buffer_ieee754":1,"assert":6,"base64-js":4}],"buffer-browserify":[function(require,module,exports){module.exports=require('q9TxCC');},{}],4:[function(require,module,exports){(function(exports){'use strict';var lookup='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw'Invalid string. Length must be a multiple of 4';}
placeHolders=b64.indexOf('=');placeHolders=placeHolders>0?b64.length-placeHolders:0;arr=[];l=placeHolders>0?b64.length-4:b64.length;for(i=0,j=0;i<l;i+=4,j+=3){tmp=(lookup.indexOf(b64[i])<<18)|(lookup.indexOf(b64[i+1])<<12)|(lookup.indexOf(b64[i+2])<<6)|lookup.indexOf(b64[i+3]);arr.push((tmp&0xFF0000)>>16);arr.push((tmp&0xFF00)>>8);arr.push(tmp&0xFF);}
if(placeHolders===2){tmp=(lookup.indexOf(b64[i])<<2)|(lookup.indexOf(b64[i+1])>>4);arr.push(tmp&0xFF);}else if(placeHolders===1){tmp=(lookup.indexOf(b64[i])<<10)|(lookup.indexOf(b64[i+1])<<4)|(lookup.indexOf(b64[i+2])>>2);arr.push((tmp>>8)&0xFF);arr.push(tmp&0xFF);}
return arr;}
function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function tripletToBase64(num){return lookup[num>>18&0x3F]+lookup[num>>12&0x3F]+lookup[num>>6&0x3F]+lookup[num&0x3F];};for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+(uint8[i+2]);output+=tripletToBase64(temp);}
switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=lookup[temp>>2];output+=lookup[(temp<<4)&0x3F];output+='==';break;case 2:temp=(uint8[uint8.length-2]<<8)+(uint8[uint8.length-1]);output+=lookup[temp>>10];output+=lookup[(temp>>4)&0x3F];output+=lookup[(temp<<2)&0x3F];output+='=';break;}
return output;}
module.exports.toByteArray=b64ToByteArray;module.exports.fromByteArray=uint8ToBase64;}());},{}],5:[function(require,module,exports){var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function isArray(xs){return toString.call(xs)==='[object Array]';}
exports.isArray=typeof Array.isArray==='function'?Array.isArray:isArray;exports.indexOf=function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++){if(x===xs[i])return i;}
return-1;};exports.filter=function filter(xs,fn){if(xs.filter)return xs.filter(fn);var res=[];for(var i=0;i<xs.length;i++){if(fn(xs[i],i,xs))res.push(xs[i]);}
return res;};exports.forEach=function forEach(xs,fn,self){if(xs.forEach)return xs.forEach(fn,self);for(var i=0;i<xs.length;i++){fn.call(self,xs[i],i,xs);}};exports.map=function map(xs,fn){if(xs.map)return xs.map(fn);var out=new Array(xs.length);for(var i=0;i<xs.length;i++){out[i]=fn(xs[i],i,xs);}
return out;};exports.reduce=function reduce(array,callback,opt_initialValue){if(array.reduce)return array.reduce(callback,opt_initialValue);var value,isValueSet=false;if(2<arguments.length){value=opt_initialValue;isValueSet=true;}
for(var i=0,l=array.length;l>i;++i){if(array.hasOwnProperty(i)){if(isValueSet){value=callback(value,array[i],i,array);}
else{value=array[i];isValueSet=true;}}}
return value;};if('ab'.substr(-1)!=='b'){exports.substr=function(str,start,length){if(start<0)start=str.length+start;return str.substr(start,length);};}else{exports.substr=function(str,start,length){return str.substr(start,length);};}
exports.trim=function(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');};exports.bind=function(){var args=Array.prototype.slice.call(arguments);var fn=args.shift();if(fn.bind)return fn.bind.apply(fn,args);var self=args.shift();return function(){fn.apply(self,args.concat([Array.prototype.slice.call(arguments)]));};};function create(prototype,properties){var object;if(prototype===null){object={'__proto__':null};}
else{if(typeof prototype!=='object'){throw new TypeError('typeof prototype['+(typeof prototype)+'] != \'object\'');}
var Type=function(){};Type.prototype=prototype;object=new Type();object.__proto__=prototype;}
if(typeof properties!=='undefined'&&Object.defineProperties){Object.defineProperties(object,properties);}
return object;}
exports.create=typeof Object.create==='function'?Object.create:create;function notObject(object){return((typeof object!="object"&&typeof object!="function")||object===null);}
function keysShim(object){if(notObject(object)){throw new TypeError("Object.keys called on a non-object");}
var result=[];for(var name in object){if(hasOwnProperty.call(object,name)){result.push(name);}}
return result;}
function propertyShim(object){if(notObject(object)){throw new TypeError("Object.getOwnPropertyNames called on a non-object");}
var result=keysShim(object);if(exports.isArray(object)&&exports.indexOf(object,'length')===-1){result.push('length');}
return result;}
var keys=typeof Object.keys==='function'?Object.keys:keysShim;var getOwnPropertyNames=typeof Object.getOwnPropertyNames==='function'?Object.getOwnPropertyNames:propertyShim;if(new Error().hasOwnProperty('description')){var ERROR_PROPERTY_FILTER=function(obj,array){if(toString.call(obj)==='[object Error]'){array=exports.filter(array,function(name){return name!=='description'&&name!=='number'&&name!=='message';});}
return array;};exports.keys=function(object){return ERROR_PROPERTY_FILTER(object,keys(object));};exports.getOwnPropertyNames=function(object){return ERROR_PROPERTY_FILTER(object,getOwnPropertyNames(object));};}else{exports.keys=keys;exports.getOwnPropertyNames=getOwnPropertyNames;}
function valueObject(value,key){return{value:value[key]};}
if(typeof Object.getOwnPropertyDescriptor==='function'){try{Object.getOwnPropertyDescriptor({'a':1},'a');exports.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;}catch(e){exports.getOwnPropertyDescriptor=function(value,key){try{return Object.getOwnPropertyDescriptor(value,key);}catch(e){return valueObject(value,key);}};}}else{exports.getOwnPropertyDescriptor=valueObject;}},{}],6:[function(require,module,exports){var util=require('util');var shims=require('_shims');var pSlice=Array.prototype.slice;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name='AssertionError';this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;this.message=options.message||getMessage(this);};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return''+value;}
if(util.isNumber(value)&&(isNaN(value)||!isFinite(value))){return value.toString();}
if(util.isFunction(value)||util.isRegExp(value)){return value.toString();}
return value;}
function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n);}else{return s;}}
function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+' '+
self.operator+' '+
truncate(JSON.stringify(self.expected,replacer),128);}
function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction});}
assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,'==',assert.ok);}
assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,'==',assert.equal);};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,'!=',assert.notEqual);}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,'deepEqual',assert.deepEqual);}};function _deepEqual(actual,expected){if(actual===expected){return true;}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false;}
return true;}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime();}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected;}else{return objEquiv(actual,expected);}}
function isArguments(object){return Object.prototype.toString.call(object)=='[object Arguments]';}
function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))
return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false;}
a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b);}
try{var ka=shims.keys(a),kb=shims.keys(b),key,i;}catch(e){return false;}
if(ka.length!=kb.length)
return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])
return false;}
for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false;}
return true;}
assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,'notDeepEqual',assert.notDeepEqual);}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,'===',assert.strictEqual);}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,'!==',assert.notStrictEqual);}};function expectedException(actual,expected){if(!actual||!expected){return false;}
if(Object.prototype.toString.call(expected)=='[object RegExp]'){return expected.test(actual);}else if(actual instanceof expected){return true;}else if(expected.call({},actual)===true){return true;}
return false;}
function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null;}
try{block();}catch(e){actual=e;}
message=(expected&&expected.name?' ('+expected.name+').':'.')+
(message?' '+message:'.');if(shouldThrow&&!actual){fail(actual,expected,'Missing expected exception'+message);}
if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,'Got unwanted exception'+message);}
if((shouldThrow&&actual&&expected&&!expectedException(actual,expected))||(!shouldThrow&&actual)){throw actual;}}
assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)));};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)));};assert.ifError=function(err){if(err){throw err;}};},{"_shims":5,"util":7}],7:[function(require,module,exports){var shims=require('_shims');var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}
return objects.join(' ');}
var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return'%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return'[Circular]';}
default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}
return str;};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){exports._extend(ctx,opts);}
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}
exports.inspect=inspect;inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return'\u001b['+inspect.colors[style][0]+'m'+str+'\u001b['+inspect.colors[style][1]+'m';}else{return str;}}
function stylizeNoColor(str,styleType){return str;}
function arrayToHash(array){var hash={};shims.forEach(array,function(val,idx){hash[val]=true;});return hash;}
function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}
return ret;}
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}
var keys=shims.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=shims.getOwnPropertyNames(value);}
if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}
if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}
if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}
if(isError(value)){return formatError(value);}}
var base='',array=false,braces=['{','}'];if(isArray(value)){array=true;braces=['[',']'];}
if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}
if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}
if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}
if(isError(value)){base=' '+formatError(value);}
if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}
if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}
ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}
ctx.seen.pop();return reduceToSingleString(output,base,braces);}
function formatPrimitive(ctx,value){if(isUndefined(value))
return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}
if(isNumber(value))
return ctx.stylize(''+value,'number');if(isBoolean(value))
return ctx.stylize(''+value,'boolean');if(isNull(value))
return ctx.stylize('null','null');}
function formatError(value){return'['+Error.prototype.toString.call(value)+']';}
function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}
shims.forEach(keys,function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}
function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=shims.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}
if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}
if(!str){if(shims.indexOf(ctx.seen,desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}
if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return'  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return'   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}
if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}
name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}
return name+': '+str;}
function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=shims.reduce(output,function(prev,cur){numLinesEst++;if(cur.indexOf('\n')>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+
(base===''?'':base+'\n ')+' '+
output.join(',\n  ')+' '+
braces[1];}
return braces[0]+base+' '+output.join(', ')+' '+braces[1];}
function isArray(ar){return shims.isArray(ar);}
exports.isArray=isArray;function isBoolean(arg){return typeof arg==='boolean';}
exports.isBoolean=isBoolean;function isNull(arg){return arg===null;}
exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==='number';}
exports.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
exports.isString=isString;function isSymbol(arg){return typeof arg==='symbol';}
exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}
exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg;}
exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}
exports.isDate=isDate;function isError(e){return isObject(e)&&objectToString(e)==='[object Error]';}
exports.isError=isError;function isFunction(arg){return typeof arg==='function';}
exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
exports.isPrimitive=isPrimitive;function isBuffer(arg){return arg instanceof Buffer;}
exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o);}
function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}
var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ');}
exports.log=function(){console.log('%s - %s',timestamp(),exports.format.apply(exports,arguments));};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=shims.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=shims.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}
return origin;};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}},{"_shims":5}]},{},[]);;module.exports=require("buffer-browserify")},{}],14:[function(require,module,exports){var process=module.exports={};process.nextTick=(function(){var canSetImmediate=typeof window!=='undefined'&&window.setImmediate;var canPost=typeof window!=='undefined'&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)};}
if(canPost){var queue=[];window.addEventListener('message',function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==='process-tick'){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn();}}},true);return function nextTick(fn){queue.push(fn);window.postMessage('process-tick','*');};}
return function nextTick(fn){setTimeout(fn,0);};})();process.title='browser';process.browser=true;process.env={};process.argv=[];process.binding=function(name){throw new Error('process.binding is not supported');}
process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};},{}],15:[function(require,module,exports){var global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};;(function(){var undefined;var VERSION='3.9.3';var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION='...';var HOT_COUNT=150,HOT_SPAN=16;var LAZY_DROP_WHILE_FLAG=0,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2;var FUNC_ERROR_TEXT='Expected a function';var PLACEHOLDER='__lodash_placeholder__';var argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source);var reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0[xX]/;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^\d+$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var reWords=(function(){var upper='[A-Z\\xc0-\\xd6\\xd8-\\xde]',lower='[a-z\\xdf-\\xf6\\xf8-\\xff]+';return RegExp(upper+'+(?='+upper+lower+')|'+upper+'?'+lower+'|'+upper+'+|[0-9]+','g');}());var whitespace=(' \t\x0b\f\xa0\ufeff'+'\n\r\u2028\u2029'+'\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000');var contextProps=['Array','ArrayBuffer','Date','Error','Float32Array','Float64Array','Function','Int8Array','Int16Array','Int32Array','Math','Number','Object','RegExp','Set','String','_','clearTimeout','document','isFinite','parseFloat','parseInt','setTimeout','TypeError','Uint8Array','Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap','window'];var shadowProps=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=false;var debounceOptions={'leading':false,'maxWait':0,'trailing':false};var deburredLetters={'\xc0':'A','\xc1':'A','\xc2':'A','\xc3':'A','\xc4':'A','\xc5':'A','\xe0':'a','\xe1':'a','\xe2':'a','\xe3':'a','\xe4':'a','\xe5':'a','\xc7':'C','\xe7':'c','\xd0':'D','\xf0':'d','\xc8':'E','\xc9':'E','\xca':'E','\xcb':'E','\xe8':'e','\xe9':'e','\xea':'e','\xeb':'e','\xcC':'I','\xcd':'I','\xce':'I','\xcf':'I','\xeC':'i','\xed':'i','\xee':'i','\xef':'i','\xd1':'N','\xf1':'n','\xd2':'O','\xd3':'O','\xd4':'O','\xd5':'O','\xd6':'O','\xd8':'O','\xf2':'o','\xf3':'o','\xf4':'o','\xf5':'o','\xf6':'o','\xf8':'o','\xd9':'U','\xda':'U','\xdb':'U','\xdc':'U','\xf9':'u','\xfa':'u','\xfb':'u','\xfc':'u','\xdd':'Y','\xfd':'y','\xff':'y','\xc6':'Ae','\xe6':'ae','\xde':'Th','\xfe':'th','\xdf':'ss'};var htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'};var htmlUnescapes={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"','&#39;':"'",'&#96;':'`'};var objectTypes={'function':true,'object':true};var stringEscapes={'\\':'\\',"'":"'",'\n':'n','\r':'r','\u2028':'u2028','\u2029':'u2029'};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=='object'&&global&&global.Object&&global;var freeSelf=objectTypes[typeof self]&&self&&self.Object&&self;var freeWindow=objectTypes[typeof window]&&window&&window.Object&&window;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var root=freeGlobal||((freeWindow!==(this&&this.window))&&freeWindow)||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsNull=value===null,valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if((value>other&&!othIsNull)||!valIsReflexive||(valIsNull&&!othIsUndef&&othIsReflexive)||(valIsUndef&&othIsReflexive)){return 1;}
if((value<other&&!valIsNull)||!othIsReflexive||(othIsNull&&!valIsUndef&&valIsReflexive)||(othIsUndef&&valIsReflexive)){return-1;}}
return 0;}
function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)){if(predicate(array[index],index,array)){return index;}}
return-1;}
function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex);}
var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index;}}
return-1;}
function baseIsFunction(value){return typeof value=='function'||false;}
function baseToString(value){if(typeof value=='string'){return value;}
return value==null?'':(value+'');}
function charsLeftIndex(string,chars){var index=-1,length=string.length;while(++index<length&&chars.indexOf(string.charAt(index))>-1){}
return index;}
function charsRightIndex(string,chars){var index=string.length;while(index--&&chars.indexOf(string.charAt(index))>-1){}
return index;}
function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||(object.index-other.index);}
function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result;}
return result*(orders[index]?1:-1);}}
return object.index-other.index;}
function deburrLetter(letter){return deburredLetters[letter];}
function escapeHtmlChar(chr){return htmlEscapes[chr];}
function escapeStringChar(chr){return'\\'+stringEscapes[chr];}
function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while((fromRight?index--:++index<length)){var other=array[index];if(other!==other){return index;}}
return-1;}
var isHostObject=(function(){try{Object({'toString':0}+'');}catch(e){return function(){return false;};}
return function(value){return typeof value.toString!='function'&&typeof(value+'')=='string';};}());function isObjectLike(value){return!!value&&typeof value=='object';}
function isSpace(charCode){return((charCode<=160&&(charCode>=9&&charCode<=13)||charCode==32||charCode==160)||charCode==5760||charCode==6158||(charCode>=8192&&(charCode<=8202||charCode==8232||charCode==8233||charCode==8239||charCode==8287||charCode==12288||charCode==65279)));}
function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){if(array[index]===placeholder){array[index]=PLACEHOLDER;result[++resIndex]=index;}}
return result;}
function sortedUniq(array,iteratee){var seen,index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(!index||seen!==computed){seen=computed;result[++resIndex]=value;}}
return result;}
function trimmedLeftIndex(string){var index=-1,length=string.length;while(++index<length&&isSpace(string.charCodeAt(index))){}
return index;}
function trimmedRightIndex(string){var index=string.length;while(index--&&isSpace(string.charCodeAt(index))){}
return index;}
function unescapeHtmlChar(chr){return htmlUnescapes[chr];}
function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype;var document=(document=context.window)?document.document:null;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objToString=objectProto.toString;var oldDash=context._;var reIsNative=RegExp('^'+
escapeRegExp(fnToString.call(hasOwnProperty)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');var ArrayBuffer=getNative(context,'ArrayBuffer'),bufferSlice=getNative(ArrayBuffer&&new ArrayBuffer(0),'slice'),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,getPrototypeOf=getNative(Object,'getPrototypeOf'),parseFloat=context.parseFloat,push=arrayProto.push,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,'Set'),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=getNative(context,'Uint8Array'),WeakMap=getNative(context,'WeakMap');var Float64Array=(function(){try{var func=getNative(context,'Float64Array'),result=new func(new ArrayBuffer(10),0,1)&&func;}catch(e){}
return result||null;}());var nativeCreate=getNative(Object,'create'),nativeIsArray=getNative(Array,'isArray'),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,'keys'),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,'now'),nativeNumIsFinite=getNative(Number,'isFinite'),nativeParseInt=context.parseInt,nativeRandom=Math.random;var NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0;var MAX_SAFE_INTEGER=9007199254740991;var metaMap=WeakMap&&new WeakMap;var realNames={};var ctorByTag={};ctorByTag[float32Tag]=context.Float32Array;ctorByTag[float64Tag]=context.Float64Array;ctorByTag[int8Tag]=context.Int8Array;ctorByTag[int16Tag]=context.Int16Array;ctorByTag[int32Tag]=context.Int32Array;ctorByTag[uint8Tag]=context.Uint8Array;ctorByTag[uint8ClampedTag]=context.Uint8ClampedArray;ctorByTag[uint16Tag]=context.Uint16Array;ctorByTag[uint32Tag]=context.Uint32Array;var nonEnumProps={};nonEnumProps[arrayTag]=nonEnumProps[dateTag]=nonEnumProps[numberTag]={'constructor':true,'toLocaleString':true,'toString':true,'valueOf':true};nonEnumProps[boolTag]=nonEnumProps[stringTag]={'constructor':true,'toString':true,'valueOf':true};nonEnumProps[errorTag]=nonEnumProps[funcTag]=nonEnumProps[regexpTag]={'constructor':true,'toString':true};nonEnumProps[objectTag]={'constructor':true};arrayEach(shadowProps,function(key){for(var tag in nonEnumProps){if(hasOwnProperty.call(nonEnumProps,tag)){var props=nonEnumProps[tag];props[key]=hasOwnProperty.call(props,key);}}});function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value;}
if(hasOwnProperty.call(value,'__chain__')&&hasOwnProperty.call(value,'__wrapped__')){return wrapperClone(value);}}
return new LodashWrapper(value);}
function baseLodash(){}
function LodashWrapper(value,chainAll,actions){this.__wrapped__=value;this.__actions__=actions||[];this.__chain__=!!chainAll;}
var support=lodash.support={};(function(x){var Ctor=function(){this.x=x;},object={'0':x,'length':x},props=[];Ctor.prototype={'valueOf':x,'y':x};for(var key in new Ctor){props.push(key);}
support.argsTag=objToString.call(arguments)==argsTag;support.enumErrorProps=propertyIsEnumerable.call(errorProto,'message')||propertyIsEnumerable.call(errorProto,'name');support.enumPrototypes=propertyIsEnumerable.call(Ctor,'prototype');support.nodeTag=objToString.call(document)!=objectTag;support.nonEnumShadows=!/valueOf/.test(props);support.ownLast=props[0]!='x';support.spliceObjects=(splice.call(object,0,1),!object[0]);support.unindexedChars=('x'[0]+Object('x')[0])!='xx';try{support.dom=document.createDocumentFragment().nodeType===11;}catch(e){support.dom=false;}}(1,0));lodash.templateSettings={'escape':reEscape,'evaluate':reEvaluate,'interpolate':reInterpolate,'variable':'','imports':{'_':lodash}};function LazyWrapper(value){this.__wrapped__=value;this.__actions__=null;this.__dir__=1;this.__dropCount__=0;this.__filtered__=false;this.__iteratees__=null;this.__takeCount__=POSITIVE_INFINITY;this.__views__=null;}
function lazyClone(){var actions=this.__actions__,iteratees=this.__iteratees__,views=this.__views__,result=new LazyWrapper(this.__wrapped__);result.__actions__=actions?arrayCopy(actions):null;result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=iteratees?arrayCopy(iteratees):null;result.__takeCount__=this.__takeCount__;result.__views__=views?arrayCopy(views):null;return result;}
function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true;}else{result=this.clone();result.__dir__*=-1;}
return result;}
function lazyValue(){var array=this.__wrapped__.value();if(!isArray(array)){return baseWrapperValue(array,this.__actions__);}
var dir=this.__dir__,isRight=dir<0,view=getView(0,array.length,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:(start-1),takeCount=nativeMin(length,this.__takeCount__),iteratees=this.__iteratees__,iterLength=iteratees?iteratees.length:0,resIndex=0,result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type;if(type==LAZY_DROP_WHILE_FLAG){if(data.done&&(isRight?(index>data.index):(index<data.index))){data.count=0;data.done=false;}
data.index=index;if(!data.done){var limit=data.limit;if(!(data.done=limit>-1?(data.count++>=limit):!iteratee(value))){continue outer;}}}else{var computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed;}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer;}else{break outer;}}}}
result[resIndex++]=value;}
return result;}
function MapCache(){this.__data__={};}
function mapDelete(key){return this.has(key)&&delete this.__data__[key];}
function mapGet(key){return key=='__proto__'?undefined:this.__data__[key];}
function mapHas(key){return key!='__proto__'&&hasOwnProperty.call(this.__data__,key);}
function mapSet(key,value){if(key!='__proto__'){this.__data__[key]=value;}
return this;}
function SetCache(values){var length=values?values.length:0;this.data={'hash':nativeCreate(null),'set':new Set};while(length--){this.push(values[length]);}}
function cacheIndexOf(cache,value){var data=cache.data,result=(typeof value=='string'||isObject(value))?data.set.has(value):data.hash[value];return result?0:-1;}
function cachePush(value){var data=this.data;if(typeof value=='string'||isObject(value)){data.set.add(value);}else{data.hash[value]=true;}}
function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}
return array;}
function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}
return array;}
function arrayEachRight(array,iteratee){var length=array.length;while(length--){if(iteratee(array[length],length,array)===false){break;}}
return array;}
function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length){if(!predicate(array[index],index,array)){return false;}}
return true;}
function arrayExtremum(array,iteratee,comparator,exValue){var index=-1,length=array.length,computed=exValue,result=computed;while(++index<length){var value=array[index],current=+iteratee(value);if(comparator(current,computed)){computed=current;result=value;}}
return result;}
function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[++resIndex]=value;}}
return result;}
function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array);}
return result;}
function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;if(initFromArray&&length){accumulator=array[++index];}
while(++index<length){accumulator=iteratee(accumulator,array[index],index,array);}
return accumulator;}
function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;if(initFromArray&&length){accumulator=array[--length];}
while(length--){accumulator=iteratee(accumulator,array[length],length,array);}
return accumulator;}
function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true;}}
return false;}
function arraySum(array){var length=array.length,result=0;while(length--){result+=+array[length]||0;}
return result;}
function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue;}
function assignOwnDefaults(objectValue,sourceValue,key,object){return(objectValue===undefined||!hasOwnProperty.call(object,key))?sourceValue:objectValue;}
function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?(result!==value):(value===value))||(value===undefined&&!(key in object))){object[key]=result;}}
return object;}
function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object);}
function baseAt(collection,props){var index=-1,isNil=collection==null,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);while(++index<propsLength){var key=props[index];if(isArr){result[index]=isIndex(key,length)?collection[key]:undefined;}else{result[index]=isNil?undefined:collection[key];}}
return result;}
function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key];}
return object;}
function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=='function'){return thisArg===undefined?func:bindCallback(func,thisArg,argCount);}
if(func==null){return identity;}
if(type=='object'){return baseMatches(func);}
return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg);}
function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer){result=object?customizer(value,key,object):customizer(value);}
if(result!==undefined){return result;}
if(!isObject(value)){return value;}
var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return arrayCopy(value,result);}}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag==objectTag||tag==argsTag||(isFunc&&!object)){if(isHostObject(value)){return object?value:{};}
result=initCloneObject(isFunc?{}:value);if(!isDeep){return baseAssign(result,value);}}else{return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):(object?value:{});}}
stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length];}}
stackA.push(value);stackB.push(result);(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB);});return result;}
var baseCreate=(function(){function object(){}
return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=null;}
return result||{};};}());function baseDelay(func,wait,args){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return setTimeout(function(){func.apply(undefined,args);},wait);}
function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length){return result;}
var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=(isCommon&&values.length>=200)?createCache(values):null,valuesLength=values.length;if(cache){indexOf=cacheIndexOf;isCommon=false;values=cache;}
outer:while(++index<length){var value=array[index];if(isCommon&&value===value){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===value){continue outer;}}
result.push(value);}
else if(indexOf(values,value,0)<0){result.push(value);}}
return result;}
var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result;});return result;}
function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);if(comparator(current,computed)||(current===exValue&&current===result)){computed=current;result=value;}});return result;}
function baseFill(array,value,start,end){var length=array.length;start=start==null?0:(+start||0);if(start<0){start=-start>length?0:(length+start);}
end=(end===undefined||end>length)?length:(+end||0);if(end<0){end+=length;}
length=start>end?0:(end>>>0);start>>>=0;while(start<length){array[start++]=value;}
return array;}
function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value);}});return result;}
function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false;}});return result;}
function baseFlatten(array,isDeep,isStrict){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){if(isDeep){value=baseFlatten(value,isDeep,isStrict);}
var valIndex=-1,valLength=value.length;while(++valIndex<valLength){result[++resIndex]=value[valIndex];}}else if(!isStrict){result[++resIndex]=value;}}
return result;}
var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn);}
function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys);}
function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys);}
function baseFunctions(object,props){var index=-1,length=props.length,resIndex=-1,result=[];while(++index<length){var key=props[index];if(isFunction(object[key])){result[++resIndex]=key;}}
return result;}
function baseGet(object,path,pathKey){if(object==null){return;}
object=toObject(object);if(pathKey!==undefined&&pathKey in object){path=[pathKey];}
var index=0,length=path.length;while(object!=null&&index<length){object=toObject(object)[path[index++]];}
return(index&&index==length)?object:undefined;}
function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other){return true;}
if(value==null||other==null||(!isObject(value)&&!isObjectLike(other))){return value!==value&&other!==other;}
return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB);}
function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag;}else if(objTag!=objectTag){objIsArr=isTypedArray(object);}}
if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag;}else if(othTag!=objectTag){othIsArr=isTypedArray(other);}}
var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag);}
if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB);}}
if(!isSameTag){return false;}
stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other;}}
stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result;}
function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length;}
object=toObject(object);while(index--){var data=matchData[index];if((noCustomizer&&data[2])?data[1]!==object[data[0]]:!(data[0]in object)){return false;}}
while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false;}}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){return false;}}}
return true;}
function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection);});return result;}
function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false;}
object=toObject(object);return object[key]===value&&(value!==undefined||(key in object));};}
return function(object){return baseIsMatch(object,matchData);};}
function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=(path+'');path=toPath(path);return function(object){if(object==null){return false;}
var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false;}
key=last(path);object=toObject(object);}
return object[key]===srcValue?(srcValue!==undefined||(key in object)):baseIsEqual(srcValue,object[key],undefined,true);};}
function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object)){return object;}
var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?null:keys(source);arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key];}
if(isObjectLike(srcValue)){stackA||(stackA=[]);stackB||(stackB=[]);baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);}
else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;}
if((result!==undefined||(isSrcArr&&!(key in object)))&&(isCommon||(result===result?(result!==value):(value===value)))){object[key]=result;}}});return object;}
function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){var length=stackA.length,srcValue=source[key];while(length--){if(stackA[length]==srcValue){object[key]=stackB[length];return;}}
var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;if(isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))){result=isArray(value)?value:(isArrayLike(value)?arrayCopy(value):[]);}
else if(isPlainObject(srcValue)||isArguments(srcValue)){result=isArguments(value)?toPlainObject(value):(isPlainObject(value)?value:{});}
else{isCommon=false;}}
stackA.push(srcValue);stackB.push(result);if(isCommon){object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB);}else if(result===result?(result!==value):(value===value)){object[key]=result;}}
function baseProperty(key){return function(object){return object==null?undefined:toObject(object)[key];};}
function basePropertyDeep(path){var pathKey=(path+'');path=toPath(path);return function(object){return baseGet(object,path,pathKey);};}
function basePullAt(array,indexes){var length=array?indexes.length:0;while(length--){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1);}}
return array;}
function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1));}
function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=false,value):iteratee(accumulator,value,index,collection);});return accumulator;}
var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func;};function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:(+start||0);if(start<0){start=-start>length?0:(length+start);}
end=(end===undefined||end>length)?length:(+end||0);if(end<0){end+=length;}
length=start>end?0:((end-start)>>>0);start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start];}
return result;}
function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result;});return!!result;}
function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value;}
return array;}
function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee);});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value);});return{'criteria':criteria,'index':++index,'value':value};});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders);});}
function baseSum(collection,iteratee){var result=0;baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0;});return result;}
function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=200,seen=isLarge?createCache():null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false;}else{isLarge=false;seen=iteratee?[]:result;}
outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer;}}
if(iteratee){seen.push(computed);}
result.push(value);}
else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge){seen.push(computed);}
result.push(value);}}
return result;}
function baseValues(object,props){var index=-1,length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]];}
return result;}
function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}
return isDrop?baseSlice(array,(fromRight?0:index),(fromRight?index+1:length)):baseSlice(array,(fromRight?index+1:0),(fromRight?length:index));}
function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value();}
var index=-1,length=actions.length;while(++index<length){var args=[result],action=actions[index];push.apply(args,action.args);result=action.func.apply(action.thisArg,args);}
return result;}
function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=='number'&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=(low+high)>>>1,computed=array[mid];if((retHighest?(computed<=value):(computed<value))&&computed!==null){low=mid+1;}else{high=mid;}}
return high;}
return binaryIndexBy(array,value,identity,retHighest);}
function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN){var setLow=isReflexive||retHighest;}else if(valIsNull){setLow=isReflexive&&isDef&&(retHighest||computed!=null);}else if(valIsUndef){setLow=isReflexive&&(retHighest||isDef);}else if(computed==null){setLow=false;}else{setLow=retHighest?(computed<=value):(computed<value);}
if(setLow){low=mid+1;}else{high=mid;}}
return nativeMin(high,MAX_ARRAY_INDEX);}
function bindCallback(func,thisArg,argCount){if(typeof func!='function'){return identity;}
if(thisArg===undefined){return func;}
switch(argCount){case 1:return function(value){return func.call(thisArg,value);};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection);};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection);};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source);};}
return function(){return func.apply(thisArg,arguments);};}
function bufferClone(buffer){return bufferSlice.call(buffer,0);}
if(!bufferSlice){bufferClone=!(ArrayBuffer&&Uint8Array)?constant(null):function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength));}
if(byteLength!=offset){view=new Uint8Array(result,offset);view.set(new Uint8Array(buffer,offset));}
return result;};}
function composeArgs(args,partials,holders){var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(argsLength+leftLength);while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex];}
while(++argsIndex<holdersLength){result[holders[argsIndex]]=args[argsIndex];}
while(argsLength--){result[leftIndex++]=args[argsIndex++];}
return result;}
function composeArgsRight(args,partials,holders){var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);while(++argsIndex<argsLength){result[argsIndex]=args[argsIndex];}
var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex];}
while(++holdersIndex<holdersLength){result[offset+holders[holdersIndex]]=args[argsIndex++];}
return result;}
function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};iteratee=getCallback(iteratee,thisArg,3);if(isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection);}}else{baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection);});}
return result;};}
function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=='function'){customizer=bindCallback(customizer,thisArg,5);length-=2;}else{customizer=typeof thisArg=='function'?thisArg:undefined;length-=(customizer?1:0);}
if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}
while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer);}}
return object;});}
function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length)){return eachFunc(collection,iteratee);}
var index=fromRight?length:-1,iterable=toObject(collection);while((fromRight?index--:++index<length)){if(iteratee(iterable[index],index,iterable)===false){break;}}
return collection;};}
function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break;}}
return object;};}
function createBindWrapper(func,thisArg){var Ctor=createCtorWrapper(func);function wrapper(){var fn=(this&&this!==root&&this instanceof wrapper)?Ctor:func;return fn.apply(thisArg,arguments);}
return wrapper;}
var createCache=!(nativeCreate&&Set)?constant(null):function(values){return new SetCache(values);};function createCompounder(callback){return function(string){var index=-1,array=words(deburr(string)),length=array.length,result='';while(++index<length){result=callback(result,array[index],index);}
return result;};}
function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);}
var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding;};}
function createCurry(flag){function curryFunc(func,arity,guard){if(guard&&isIterateeCall(func,arity,guard)){arity=null;}
var result=createWrapper(func,flag,null,null,null,null,null,arity);result.placeholder=curryFunc.placeholder;return result;}
return curryFunc;}
function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=null;}
iteratee=getCallback(iteratee,thisArg,3);if(iteratee.length==1){collection=toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!(collection.length&&result===exValue)){return result;}}
return baseExtremum(collection,iteratee,comparator,exValue);};}
function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined;}
return baseFind(collection,predicate,eachFunc);};}
function createFindIndex(fromRight){return function(array,predicate,thisArg){if(!(array&&array.length)){return-1;}
predicate=getCallback(predicate,thisArg,3);return baseFindIndex(array,predicate,fromRight);};}
function createFindKey(objectFunc){return function(object,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);return baseFind(object,predicate,objectFunc,true);};}
function createFlow(fromRight){return function(){var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);while((fromRight?index--:++index<length)){var func=funcs[leftIndex++]=arguments[index];if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
if(!wrapper&&LodashWrapper.prototype.thru&&getFuncName(func)=='wrapper'){wrapper=new LodashWrapper([]);}}
index=wrapper?-1:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=='wrapper'?getData(func):null;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);}else{wrapper=(func.length==1&&isLaziable(func))?wrapper[funcName]():wrapper.thru(func);}}
return function(){var args=arguments;if(wrapper&&args.length==1&&isArray(args[0])){return wrapper.plant(args[0]).value();}
var index=0,result=length?funcs[index].apply(this,args):args[0];while(++index<length){result=funcs[index].call(this,result);}
return result;};};}
function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return(typeof iteratee=='function'&&thisArg===undefined&&isArray(collection))?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3));};}
function createForIn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!='function'||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3);}
return objectFunc(object,iteratee,keysIn);};}
function createForOwn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!='function'||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3);}
return objectFunc(object,iteratee);};}
function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};iteratee=getCallback(iteratee,thisArg,3);baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key;value=isMapKeys?value:mapped;result[key]=value;});return result;};}
function createPadDir(fromRight){return function(string,length,chars){string=baseToString(string);return(fromRight?string:'')+createPadding(string,length,chars)+(fromRight?'':string);};}
function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,null,partials,holders);});return partialFunc;}
function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return(typeof iteratee=='function'&&thisArg===undefined&&isArray(collection))?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc);};}
function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?null:createCtorWrapper(func);function wrapper(){var length=arguments.length,index=length,args=Array(length);while(index--){args[index]=arguments[index];}
if(partials){args=composeArgs(args,partials,holders);}
if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight);}
if(isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);length-=argsHolders.length;if(length<arity){var newArgPos=argPos?arrayCopy(argPos):null,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:null,newHoldersRight=isCurry?null:argsHolders,newPartials=isCurry?args:null,newPartialsRight=isCurry?null:args;bitmask|=(isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG);bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!isCurryBound){bitmask&=~(BIND_FLAG|BIND_KEY_FLAG);}
var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);if(isLaziable(func)){setData(result,newData);}
result.placeholder=placeholder;return result;}}
var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;if(argPos){args=reorder(args,argPos);}
if(isAry&&ary<args.length){args.length=ary;}
if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtorWrapper(func);}
return fn.apply(thisBinding,args);}
return wrapper;}
function createPadding(string,length,chars){var strLength=string.length;length=+length;if(strLength>=length||!nativeIsFinite(length)){return'';}
var padLength=length-strLength;chars=chars==null?' ':(chars+'');return repeat(chars,ceil(padLength/chars.length)).slice(0,padLength);}
function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(argsLength+leftLength);while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex];}
while(argsLength--){args[leftIndex++]=arguments[++argsIndex];}
var fn=(this&&this!==root&&this instanceof wrapper)?Ctor:func;return fn.apply(isBind?thisArg:this,args);}
return wrapper;}
function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return(iteratee==null&&callback===baseCallback)?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest);};}
function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=null;}
length-=(holders?holders.length:0);if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=null;}
var data=isBindKey?null:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);bitmask=newData[1];arity=newData[9];}
newData[9]=arity==null?(isBindKey?0:func.length):(nativeMax(arity-length,0)||0);if(bitmask==BIND_FLAG){var result=createBindWrapper(newData[0],newData[2]);}else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!newData[4].length){result=createPartialWrapper.apply(undefined,newData);}else{result=createHybridWrapper.apply(undefined,newData);}
var setter=data?baseSetData:setData;return setter(result,newData);}
function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength)){return false;}
while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result){continue;}
return false;}
if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB);})){return false;}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){return false;}}
return true;}
function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return(object!=+object)?other!=+other:object==+other;case regexpTag:case stringTag:return object==(other+'');}
return false;}
function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose){return false;}
var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false;}}
var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){return false;}
skipCtor||(skipCtor=key=='constructor');}
if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&('constructor'in object&&'constructor'in other)&&!(typeof objCtor=='function'&&objCtor instanceof objCtor&&typeof othCtor=='function'&&othCtor instanceof othCtor)){return false;}}
return true;}
function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;result=result===callback?baseCallback:result;return argCount?result(func,thisArg,argCount):result;}
var getData=!metaMap?noop:function(func){return metaMap.get(func);};function getFuncName(func){var result=func.name,array=realNames[result],length=array?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name;}}
return result;}
function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;result=result===indexOf?baseIndexOf:result;return collection?result(collection,target,fromIndex):result;}
var getLength=baseProperty('length');function getMatchData(object){var result=pairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1]);}
return result;}
function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined;}
function getView(start,end,transforms){var index=-1,length=transforms?transforms.length:0;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case'drop':start+=size;break;case'dropRight':end-=size;break;case'take':end=nativeMin(end,start+size);break;case'takeRight':start=nativeMax(start,end-size);break;}}
return{'start':start,'end':end};}
function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=='string'&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input;}
return result;}
function initCloneObject(object){var Ctor=object.constructor;if(!(typeof Ctor=='function'&&Ctor instanceof Ctor)){Ctor=Object;}
return new Ctor;}
function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:if(Ctor instanceof Ctor){Ctor=ctorByTag[tag];}
var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex;}
return result;}
function invokePath(object,path,args){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));path=last(path);}
var func=object==null?object:object[path];return func==null?undefined:func.apply(object,args);}
function isArrayLike(value){return value!=null&&isLength(getLength(value));}
function isIndex(value,length){value=(typeof value=='number'||reIsUint.test(value))?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length;}
function isIterateeCall(value,index,object){if(!isObject(object)){return false;}
var type=typeof index;if(type=='number'?(isArrayLike(object)&&isIndex(index,object.length)):(type=='string'&&index in object)){var other=object[index];return value===value?(value===other):(other!==other);}
return false;}
function isKey(value,object){var type=typeof value;if((type=='string'&&reIsPlainProp.test(value))||type=='number'){return true;}
if(isArray(value)){return false;}
var result=!reIsDeepProp.test(value);return result||(object!=null&&value in toObject(object));}
function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype)){return false;}
var other=lodash[funcName];if(func===other){return true;}
var data=getData(other);return!!data&&func===data[0];}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isStrictComparable(value){return value===value&&!isObject(value);}
function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG;var isCombo=(srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG)||(srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8])||(srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG);if(!(isCommon||isCombo)){return data;}
if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=(bitmask&BIND_FLAG)?0:CURRY_BOUND_FLAG;}
var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value);data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4]);}
value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value);data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6]);}
value=source[7];if(value){data[7]=arrayCopy(value);}
if(srcBitmask&ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);}
if(data[9]==null){data[9]=source[9];}
data[0]=source[0];data[1]=newBitmask;return data;}
function pickByArray(object,props){object=toObject(object);var index=-1,length=props.length,result={};while(++index<length){var key=props[index];if(key in object){result[key]=object[key];}}
return result;}
function pickByCallback(object,predicate){var result={};baseForIn(object,function(value,key,object){if(predicate(value,key,object)){result[key]=value;}});return result;}
function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined;}
return array;}
var setData=(function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return key;}}else{count=0;}
return baseSetData(key,value);};}());function shimIsPlainObject(value){var Ctor,support=lodash.support;if(!(isObjectLike(value)&&objToString.call(value)==objectTag&&!isHostObject(value))||(!hasOwnProperty.call(value,'constructor')&&(Ctor=value.constructor,typeof Ctor=='function'&&!(Ctor instanceof Ctor)))||(!support.argsTag&&isArguments(value))){return false;}
var result;if(support.ownLast){baseForIn(value,function(subValue,key,object){result=hasOwnProperty.call(object,key);return false;});return result!==false;}
baseForIn(value,function(subValue,key){result=key;});return result===undefined||hasOwnProperty.call(value,result);}
function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if((allowIndexes&&isIndex(key,length))||hasOwnProperty.call(object,key)){result.push(key);}}
return result;}
function toIterable(value){if(value==null){return[];}
if(!isArrayLike(value)){return values(value);}
if(lodash.support.unindexedChars&&isString(value)){return value.split('');}
return isObject(value)?value:Object(value);}
function toObject(value){if(lodash.support.unindexedChars&&isString(value)){var index=-1,length=value.length,result=Object(value);while(++index<length){result[index]=value.charAt(index);}
return result;}
return isObject(value)?value:Object(value);}
function toPath(value){if(isArray(value)){return value;}
var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,'$1'):(number||match));});return result;}
function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__));}
function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size==null){size=1;}else{size=nativeMax(+size||1,1);}
var index=0,length=array?array.length:0,resIndex=-1,result=Array(ceil(length/size));while(index<length){result[++resIndex]=baseSlice(array,index,(index+=size));}
return result;}
function compact(array){var index=-1,length=array?array.length:0,resIndex=-1,result=[];while(++index<length){var value=array[index];if(value){result[++resIndex]=value;}}
return result;}
var difference=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,baseFlatten(values,false,true)):[];});function drop(array,n,guard){var length=array?array.length:0;if(!length){return[];}
if(guard?isIterateeCall(array,n,guard):n==null){n=1;}
return baseSlice(array,n<0?0:n);}
function dropRight(array,n,guard){var length=array?array.length:0;if(!length){return[];}
if(guard?isIterateeCall(array,n,guard):n==null){n=1;}
n=length-(+n||0);return baseSlice(array,0,n<0?0:n);}
function dropRightWhile(array,predicate,thisArg){return(array&&array.length)?baseWhile(array,getCallback(predicate,thisArg,3),true,true):[];}
function dropWhile(array,predicate,thisArg){return(array&&array.length)?baseWhile(array,getCallback(predicate,thisArg,3),true):[];}
function fill(array,value,start,end){var length=array?array.length:0;if(!length){return[];}
if(start&&typeof start!='number'&&isIterateeCall(array,value,start)){start=0;end=length;}
return baseFill(array,value,start,end);}
var findIndex=createFindIndex();var findLastIndex=createFindIndex(true);function first(array){return array?array[0]:undefined;}
function flatten(array,isDeep,guard){var length=array?array.length:0;if(guard&&isIterateeCall(array,isDeep,guard)){isDeep=false;}
return length?baseFlatten(array,isDeep):[];}
function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,true):[];}
function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1;}
if(typeof fromIndex=='number'){fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;}else if(fromIndex){var index=binaryIndex(array,value),other=array[index];if(value===value?(value===other):(other!==other)){return index;}
return-1;}
return baseIndexOf(array,value,fromIndex||0);}
function initial(array){return dropRight(array,1);}
var intersection=restParam(function(arrays){var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];while(othIndex--){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=(isCommon&&value.length>=120)?createCache(othIndex&&value):null;}
var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:while(++index<length){value=array[index];if((seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){var othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0){continue outer;}}
if(seen){seen.push(value);}
result.push(value);}}
return result;});function last(array){var length=array?array.length:0;return length?array[length-1]:undefined;}
function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1;}
var index=length;if(typeof fromIndex=='number'){index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;}else if(fromIndex){index=binaryIndex(array,value,true)-1;var other=array[index];if(value===value?(value===other):(other!==other)){return index;}
return-1;}
if(value!==value){return indexOfNaN(array,index,true);}
while(index--){if(array[index]===value){return index;}}
return-1;}
function pull(){var args=arguments,array=args[0];if(!(array&&array.length)){return array;}
var index=0,indexOf=getIndexOf(),length=args.length;while(++index<length){var fromIndex=0,value=args[index];while((fromIndex=indexOf(array,value,fromIndex))>-1){splice.call(array,fromIndex,1);}}
return array;}
var pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(baseCompareAscending));return result;});function remove(array,predicate,thisArg){var result=[];if(!(array&&array.length)){return result;}
var index=-1,indexes=[],length=array.length;predicate=getCallback(predicate,thisArg,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index);}}
basePullAt(array,indexes);return result;}
function rest(array){return drop(array,1);}
function slice(array,start,end){var length=array?array.length:0;if(!length){return[];}
if(end&&typeof end!='number'&&isIterateeCall(array,start,end)){start=0;end=length;}
return baseSlice(array,start,end);}
var sortedIndex=createSortedIndex();var sortedLastIndex=createSortedIndex(true);function take(array,n,guard){var length=array?array.length:0;if(!length){return[];}
if(guard?isIterateeCall(array,n,guard):n==null){n=1;}
return baseSlice(array,0,n<0?0:n);}
function takeRight(array,n,guard){var length=array?array.length:0;if(!length){return[];}
if(guard?isIterateeCall(array,n,guard):n==null){n=1;}
n=length-(+n||0);return baseSlice(array,n<0?0:n);}
function takeRightWhile(array,predicate,thisArg){return(array&&array.length)?baseWhile(array,getCallback(predicate,thisArg,3),false,true):[];}
function takeWhile(array,predicate,thisArg){return(array&&array.length)?baseWhile(array,getCallback(predicate,thisArg,3)):[];}
var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,false,true));});function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length){return[];}
if(isSorted!=null&&typeof isSorted!='boolean'){thisArg=iteratee;iteratee=isIterateeCall(array,isSorted,thisArg)?null:isSorted;isSorted=false;}
var callback=getCallback();if(!(iteratee==null&&callback===baseCallback)){iteratee=callback(iteratee,thisArg,3);}
return(isSorted&&getIndexOf()==baseIndexOf)?sortedUniq(array,iteratee):baseUniq(array,iteratee);}
function unzip(array){if(!(array&&array.length)){return[];}
var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group)){length=nativeMax(group.length,length);return true;}});var result=Array(length);while(++index<length){result[index]=arrayMap(array,baseProperty(index));}
return result;}
function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length){return[];}
var result=unzip(array);if(iteratee==null){return result;}
iteratee=bindCallback(iteratee,thisArg,4);return arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,true);});}
var without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[];});function xor(){var index=-1,length=arguments.length;while(++index<length){var array=arguments[index];if(isArrayLike(array)){var result=result?baseDifference(result,array).concat(baseDifference(array,result)):array;}}
return result?baseUniq(result):[];}
var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};if(length&&!values&&!isArray(props[0])){values=[];}
while(++index<length){var key=props[index];if(values){result[key]=values[index];}else if(key){result[key[0]]=key[1];}}
return result;}
var zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;if(length>2&&typeof iteratee=='function'){length-=2;}else{iteratee=(length>1&&typeof thisArg=='function')?(--length,thisArg):undefined;thisArg=undefined;}
arrays.length=length;return unzipWith(arrays,iteratee,thisArg);});function chain(value){var result=lodash(value);result.__chain__=true;return result;}
function tap(value,interceptor,thisArg){interceptor.call(thisArg,value);return value;}
function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value);}
function wrapperChain(){return chain(this);}
function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__);}
function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);if(result){previous.__wrapped__=clone;}else{result=clone;}
var previous=clone;parent=parent.__wrapped__;}
previous.__wrapped__=value;return result;}
function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){if(this.__actions__.length){value=new LazyWrapper(this);}
return new LodashWrapper(value.reverse(),this.__chain__);}
return this.thru(function(value){return value.reverse();});}
function wrapperToString(){return(this.value()+'');}
function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__);}
var at=restParam(function(collection,props){if(isArrayLike(collection)){collection=toIterable(collection);}
return baseAt(collection,baseFlatten(props));});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:(result[key]=1);});function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=null;}
if(typeof predicate!='function'||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3);}
return func(collection,predicate);}
function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,predicate);}
var find=createFind(baseEach);var findLast=createFind(baseEachRight,true);function findWhere(collection,source){return find(collection,baseMatches(source));}
var forEach=createForEach(arrayEach,baseEach);var forEachRight=createForEach(arrayEachRight,baseEachRight);var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value);}else{result[key]=[value];}});function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;if(!isLength(length)){collection=values(collection);length=collection.length;}
if(!length){return false;}
if(typeof fromIndex!='number'||(guard&&isIterateeCall(target,fromIndex,guard))){fromIndex=0;}else{fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):(fromIndex||0);}
return(typeof collection=='string'||!isArray(collection)&&isString(collection))?(fromIndex<length&&collection.indexOf(target,fromIndex)>-1):(getIndexOf(collection,target,fromIndex)>-1);}
var indexBy=createAggregator(function(result,value,key){result[key]=value;});var invoke=restParam(function(collection,path,args){var index=-1,isFunc=typeof path=='function',isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){var func=isFunc?path:((isProp&&value!=null)?value[path]:null);result[++index]=func?func.apply(value,args):invokePath(value,path,args);});return result;});function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;iteratee=getCallback(iteratee,thisArg,3);return func(collection,iteratee);}
var partition=createAggregator(function(result,value,key){result[key?0:1].push(value);},function(){return[[],[]];});function pluck(collection,path){return map(collection,property(path));}
var reduce=createReduce(arrayReduce,baseEach);var reduceRight=createReduce(arrayReduceRight,baseEachRight);function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,function(value,index,collection){return!predicate(value,index,collection);});}
function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n==null){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined;}
var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;n=nativeMin(n<0?0:(+n||0),length);while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value;}
result.length=n;return result;}
function shuffle(collection){return sample(collection,POSITIVE_INFINITY);}
function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length;}
function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;if(thisArg&&isIterateeCall(collection,predicate,thisArg)){predicate=null;}
if(typeof predicate!='function'||thisArg!==undefined){predicate=getCallback(predicate,thisArg,3);}
return func(collection,predicate);}
function sortBy(collection,iteratee,thisArg){if(collection==null){return[];}
if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=null;}
var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{'criteria':iteratee(value,key,collection),'index':++index,'value':value};});return baseSortBy(result,compareAscending);}
var sortByAll=restParam(function(collection,iteratees){if(collection==null){return[];}
var guard=iteratees[2];if(guard&&isIterateeCall(iteratees[0],iteratees[1],guard)){iteratees.length=1;}
return baseSortByOrder(collection,baseFlatten(iteratees),[]);});function sortByOrder(collection,iteratees,orders,guard){if(collection==null){return[];}
if(guard&&isIterateeCall(iteratees,orders,guard)){orders=null;}
if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees];}
if(!isArray(orders)){orders=orders==null?[]:[orders];}
return baseSortByOrder(collection,iteratees,orders);}
function where(collection,source){return filter(collection,baseMatches(source));}
var now=nativeNow||function(){return new Date().getTime();};function after(n,func){if(typeof func!='function'){if(typeof n=='function'){var temp=n;n=func;func=temp;}else{throw new TypeError(FUNC_ERROR_TEXT);}}
n=nativeIsFinite(n=+n)?n:0;return function(){if(--n<1){return func.apply(this,arguments);}};}
function ary(func,n,guard){if(guard&&isIterateeCall(func,n,guard)){n=null;}
n=(func&&n==null)?func.length:nativeMax(+n||0,0);return createWrapper(func,ARY_FLAG,null,null,null,null,n);}
function before(n,func){var result;if(typeof func!='function'){if(typeof n=='function'){var temp=n;n=func;func=temp;}else{throw new TypeError(FUNC_ERROR_TEXT);}}
return function(){if(--n>0){result=func.apply(this,arguments);}
if(n<=1){func=null;}
return result;};}
var bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG;}
return createWrapper(func,bitmask,thisArg,partials,holders);});var bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);var index=-1,length=methodNames.length;while(++index<length){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object);}
return object;});var bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG;}
return createWrapper(key,bitmask,object,partials,holders);});var curry=createCurry(CURRY_FLAG);var curryRight=createCurry(CURRY_RIGHT_FLAG);function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
wait=wait<0?0:(+wait||0);if(options===true){var leading=true;trailing=false;}else if(isObject(options)){leading=options.leading;maxWait='maxWait'in options&&nativeMax(+options.maxWait||0,wait);trailing='trailing'in options?options.trailing:trailing;}
function cancel(){if(timeoutId){clearTimeout(timeoutId);}
if(maxTimeoutId){clearTimeout(maxTimeoutId);}
maxTimeoutId=timeoutId=trailingCall=undefined;}
function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){if(maxTimeoutId){clearTimeout(maxTimeoutId);}
var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=null;}}}else{timeoutId=setTimeout(delayed,remaining);}}
function maxDelayed(){if(timeoutId){clearTimeout(timeoutId);}
maxTimeoutId=timeoutId=trailingCall=undefined;if(trailing||(maxWait!==wait)){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=null;}}}
function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false){var leadingCall=leading&&!timeoutId;}else{if(!maxTimeoutId&&!leading){lastCalled=stamp;}
var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;if(isCalled){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId);}
lastCalled=stamp;result=func.apply(thisArg,args);}
else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining);}}
if(isCalled&&timeoutId){timeoutId=clearTimeout(timeoutId);}
else if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait);}
if(leadingCall){isCalled=true;result=func.apply(thisArg,args);}
if(isCalled&&!timeoutId&&!maxTimeoutId){args=thisArg=null;}
return result;}
debounced.cancel=cancel;return debounced;}
var defer=restParam(function(func,args){return baseDelay(func,1,args);});var delay=restParam(function(func,wait,args){return baseDelay(func,wait,args);});var flow=createFlow();var flowRight=createFlow(true);function memoize(func,resolver){if(typeof func!='function'||(resolver&&typeof resolver!='function')){throw new TypeError(FUNC_ERROR_TEXT);}
var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key);}
var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result;};memoized.cache=new memoize.Cache;return memoized;}
function negate(predicate){if(typeof predicate!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return function(){return!predicate.apply(this,arguments);};}
function once(func){return before(2,func);}
var partial=createPartial(PARTIAL_FLAG);var partialRight=createPartial(PARTIAL_RIGHT_FLAG);var rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,null,null,null,baseFlatten(indexes));});function restParam(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
start=nativeMax(start===undefined?(func.length-1):(+start||0),0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index];}
switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest);}
var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index];}
otherArgs[start]=rest;return func.apply(this,otherArgs);};}
function spread(func){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return function(array){return func.apply(this,array);};}
function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
if(options===false){leading=false;}else if(isObject(options)){leading='leading'in options?!!options.leading:leading;trailing='trailing'in options?!!options.trailing:trailing;}
debounceOptions.leading=leading;debounceOptions.maxWait=+wait;debounceOptions.trailing=trailing;return debounce(func,wait,debounceOptions);}
function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return createWrapper(wrapper,PARTIAL_FLAG,null,[value],[]);}
function clone(value,isDeep,customizer,thisArg){if(isDeep&&typeof isDeep!='boolean'&&isIterateeCall(value,isDeep,customizer)){isDeep=false;}
else if(typeof isDeep=='function'){thisArg=customizer;customizer=isDeep;isDeep=false;}
return typeof customizer=='function'?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep);}
function cloneDeep(value,customizer,thisArg){return typeof customizer=='function'?baseClone(value,true,bindCallback(customizer,thisArg,1)):baseClone(value,true);}
function gt(value,other){return value>other;}
function gte(value,other){return value>=other;}
function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&objToString.call(value)==argsTag;}
if(!support.argsTag){isArguments=function(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};}
var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag;};function isBoolean(value){return value===true||value===false||(isObjectLike(value)&&objToString.call(value)==boolTag);}
function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag;}
function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&(lodash.support.nodeTag?(objToString.call(value).indexOf('Element')>-1):isHostObject(value));}
if(!support.dom){isElement=function(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&!isPlainObject(value);};}
function isEmpty(value){if(value==null){return true;}
if(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||(isObjectLike(value)&&isFunction(value.splice)))){return!value.length;}
return!keys(value).length;}
function isEqual(value,other,customizer,thisArg){customizer=typeof customizer=='function'?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result;}
function isError(value){return isObjectLike(value)&&typeof value.message=='string'&&objToString.call(value)==errorTag;}
var isFinite=nativeNumIsFinite||function(value){return typeof value=='number'&&nativeIsFinite(value);};var isFunction=!(baseIsFunction(/x/)||(Uint8Array&&!baseIsFunction(Uint8Array)))?baseIsFunction:function(value){return objToString.call(value)==funcTag;};function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
function isMatch(object,source,customizer,thisArg){customizer=typeof customizer=='function'?bindCallback(customizer,thisArg,3):undefined;return baseIsMatch(object,getMatchData(source),customizer);}
function isNaN(value){return isNumber(value)&&value!=+value;}
function isNative(value){if(value==null){return false;}
if(objToString.call(value)==funcTag){return reIsNative.test(fnToString.call(value));}
return isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value);}
function isNull(value){return value===null;}
function isNumber(value){return typeof value=='number'||(isObjectLike(value)&&objToString.call(value)==numberTag);}
var isPlainObject=!getPrototypeOf?shimIsPlainObject:function(value){if(!(value&&objToString.call(value)==objectTag)||(!lodash.support.argsTag&&isArguments(value))){return false;}
var valueOf=getNative(value,'valueOf'),objProto=valueOf&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?(value==objProto||getPrototypeOf(value)==objProto):shimIsPlainObject(value);};function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag;}
function isString(value){return typeof value=='string'||(isObjectLike(value)&&objToString.call(value)==stringTag);}
function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)];}
function isUndefined(value){return value===undefined;}
function lt(value,other){return value<other;}
function lte(value,other){return value<=other;}
function toArray(value){var length=value?getLength(value):0;if(!isLength(length)){return values(value);}
if(!length){return[];}
return(lodash.support.unindexedChars&&isString(value))?value.split(''):arrayCopy(value);}
function toPlainObject(value){return baseCopy(value,keysIn(value));}
var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source);});function create(prototype,properties,guard){var result=baseCreate(prototype);if(guard&&isIterateeCall(prototype,properties,guard)){properties=null;}
return properties?baseAssign(result,properties):result;}
var defaults=restParam(function(args){var object=args[0];if(object==null){return object;}
args.push(assignDefaults);return assign.apply(undefined,args);});var findKey=createFindKey(baseForOwn);var findLastKey=createFindKey(baseForOwnRight);var forIn=createForIn(baseFor);var forInRight=createForIn(baseForRight);var forOwn=createForOwn(baseForOwn);var forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object));}
function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,toPath(path),path+'');return result===undefined?defaultValue:result;}
function has(object,path){if(object==null){return false;}
var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false;}
path=last(path);result=hasOwnProperty.call(object,path);}
return result||(isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object)||isString(object)));}
function invert(object,multiValue,guard){if(guard&&isIterateeCall(object,multiValue,guard)){multiValue=null;}
var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index],value=object[key];if(multiValue){if(hasOwnProperty.call(result,value)){result[value].push(key);}else{result[value]=[key];}}
else{result[value]=key;}}
return result;}
var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?null:object.constructor;if((typeof Ctor=='function'&&Ctor.prototype===object)||(typeof object=='function'?lodash.support.enumPrototypes:isArrayLike(object))){return shimKeys(object);}
return isObject(object)?nativeKeys(object):[];};function keysIn(object){if(object==null){return[];}
if(!isObject(object)){object=Object(object);}
var length=object.length,support=lodash.support;length=(length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object))&&length)||0;var Ctor=object.constructor,index=-1,proto=(isFunction(Ctor)&&Ctor.prototype)||objectProto,isProto=proto===object,result=Array(length),skipIndexes=length>0,skipErrorProps=support.enumErrorProps&&(object===errorProto||object instanceof Error),skipProto=support.enumPrototypes&&isFunction(object);while(++index<length){result[index]=(index+'');}
for(var key in object){if(!(skipProto&&key=='prototype')&&!(skipErrorProps&&(key=='message'||key=='name'))&&!(skipIndexes&&isIndex(key,length))&&!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}
if(support.nonEnumShadows&&object!==objectProto){var tag=object===stringProto?stringTag:(object===errorProto?errorTag:objToString.call(object)),nonEnums=nonEnumProps[tag]||nonEnumProps[objectTag];if(tag==objectTag){proto=objectProto;}
length=shadowProps.length;while(length--){key=shadowProps[length];var nonEnum=nonEnums[key];if(!(isProto&&nonEnum)&&(nonEnum?hasOwnProperty.call(object,key):object[key]!==proto[key])){result.push(key);}}}
return result;}
var mapKeys=createObjectMapper(true);var mapValues=createObjectMapper();var merge=createAssigner(baseMerge);var omit=restParam(function(object,props){if(object==null){return{};}
if(typeof props[0]!='function'){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props));}
var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object);});});function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]];}
return result;}
var pick=restParam(function(object,props){if(object==null){return{};}
return typeof props[0]=='function'?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props));});function result(object,path,defaultValue){var result=object==null?undefined:toObject(object)[path];if(result===undefined){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));result=object==null?undefined:toObject(object)[last(path)];}
result=result===undefined?defaultValue:result;}
return isFunction(result)?result.call(object):result;}
function set(object,path,value){if(object==null){return object;}
var pathKey=(path+'');path=(object[pathKey]!=null||isKey(path,object))?[pathKey]:toPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){if(index==lastIndex){nested[key]=value;}else if(nested[key]==null){nested[key]=isIndex(path[index+1])?[]:{};}}
nested=nested[key];}
return object;}
function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);iteratee=getCallback(iteratee,thisArg,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[];}else{accumulator=baseCreate(isFunction(Ctor)?Ctor.prototype:null);}}else{accumulator={};}}
(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object);});return accumulator;}
function values(object){return baseValues(object,keys(object));}
function valuesIn(object){return baseValues(object,keysIn(object));}
function inRange(value,start,end){start=+start||0;if(typeof end==='undefined'){end=start;start=0;}else{end=+end||0;}
return value>=nativeMin(start,end)&&value<nativeMax(start,end);}
function random(min,max,floating){if(floating&&isIterateeCall(min,max,floating)){max=floating=null;}
var noMin=min==null,noMax=max==null;if(floating==null){if(noMax&&typeof min=='boolean'){floating=min;min=1;}
else if(typeof max=='boolean'){floating=max;noMax=true;}}
if(noMin&&noMax){max=1;noMax=false;}
min=+min||0;if(noMax){max=min;min=0;}else{max=+max||0;}
if(floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+(rand*(max-min+parseFloat('1e-'+((rand+'').length-1)))),max);}
return baseRandom(min,max);}
var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?(word.charAt(0).toUpperCase()+word.slice(1)):word);});function capitalize(string){string=baseToString(string);return string&&(string.charAt(0).toUpperCase()+string.slice(1));}
function deburr(string){string=baseToString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,'');}
function endsWith(string,target,position){string=baseToString(string);target=(target+'');var length=string.length;position=position===undefined?length:nativeMin(position<0?0:(+position||0),length);position-=target.length;return position>=0&&string.indexOf(target,position)==position;}
function escape(string){string=baseToString(string);return(string&&reHasUnescapedHtml.test(string))?string.replace(reUnescapedHtml,escapeHtmlChar):string;}
function escapeRegExp(string){string=baseToString(string);return(string&&reHasRegExpChars.test(string))?string.replace(reRegExpChars,'\\$&'):string;}
var kebabCase=createCompounder(function(result,word,index){return result+(index?'-':'')+word.toLowerCase();});function pad(string,length,chars){string=baseToString(string);length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length)){return string;}
var mid=(length-strLength)/2,leftLength=floor(mid),rightLength=ceil(mid);chars=createPadding('',rightLength,chars);return chars.slice(0,leftLength)+string+chars;}
var padLeft=createPadDir();var padRight=createPadDir(true);function parseInt(string,radix,guard){if(guard&&isIterateeCall(string,radix,guard)){radix=0;}
return nativeParseInt(string,radix);}
if(nativeParseInt(whitespace+'08')!=8){parseInt=function(string,radix,guard){if(guard?isIterateeCall(string,radix,guard):radix==null){radix=0;}else if(radix){radix=+radix;}
string=trim(string);return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10));};}
function repeat(string,n){var result='';string=baseToString(string);n=+n;if(n<1||!string||!nativeIsFinite(n)){return result;}
do{if(n%2){result+=string;}
n=floor(n/2);string+=string;}while(n);return result;}
var snakeCase=createCompounder(function(result,word,index){return result+(index?'_':'')+word.toLowerCase();});var startCase=createCompounder(function(result,word,index){return result+(index?' ':'')+(word.charAt(0).toUpperCase()+word.slice(1));});function startsWith(string,target,position){string=baseToString(string);position=position==null?0:nativeMin(position<0?0:(+position||0),string.length);return string.lastIndexOf(target,position)==position;}
function template(string,options,otherOptions){var settings=lodash.templateSettings;if(otherOptions&&isIterateeCall(string,options,otherOptions)){options=otherOptions=null;}
string=baseToString(string);options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+
interpolate.source+'|'+
(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+
(options.evaluate||reNoMatch).source+'|$','g');var sourceURL='//# sourceURL='+
('sourceURL'in options?options.sourceURL:('lodash.templateSources['+(++templateCounter)+']'))+'\n';string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'";}
if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '";}
if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'";}
index=offset+match.length;return match;});source+="';\n";var variable=options.variable;if(!variable){source='with (obj) {\n'+source+'\n}\n';}
source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');source='function('+(variable||'obj')+') {\n'+
(variable?'':'obj || (obj = {});\n')+"var __t, __p = ''"+
(isEscaping?', __e = _.escape':'')+
(isEvaluating?', __j = Array.prototype.join;\n'+"function print() { __p += __j.call(arguments, '') }\n":';\n')+
source+'return __p\n}';var result=attempt(function(){return Function(importsKeys,sourceURL+'return '+source).apply(undefined,importsValues);});result.source=source;if(isError(result)){throw result;}
return result;}
function trim(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string;}
if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1);}
chars=(chars+'');return string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1);}
function trimLeft(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string;}
if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(trimmedLeftIndex(string));}
return string.slice(charsLeftIndex(string,(chars+'')));}
function trimRight(string,chars,guard){var value=string;string=baseToString(string);if(!string){return string;}
if(guard?isIterateeCall(value,chars,guard):chars==null){return string.slice(0,trimmedRightIndex(string)+1);}
return string.slice(0,charsRightIndex(string,(chars+''))+1);}
function trunc(string,options,guard){if(guard&&isIterateeCall(string,options,guard)){options=null;}
var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(options!=null){if(isObject(options)){var separator='separator'in options?options.separator:separator;length='length'in options?(+options.length||0):length;omission='omission'in options?baseToString(options.omission):omission;}else{length=+options||0;}}
string=baseToString(string);if(length>=string.length){return string;}
var end=length-omission.length;if(end<1){return omission;}
var result=string.slice(0,end);if(separator==null){return result+omission;}
if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);if(!separator.global){separator=RegExp(separator.source,(reFlags.exec(separator)||'')+'g');}
separator.lastIndex=0;while((match=separator.exec(substring))){newEnd=match.index;}
result=result.slice(0,newEnd==null?end:newEnd);}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index);}}
return result+omission;}
function unescape(string){string=baseToString(string);return(string&&reHasEscapedHtml.test(string))?string.replace(reEscapedHtml,unescapeHtmlChar):string;}
function words(string,pattern,guard){if(guard&&isIterateeCall(string,pattern,guard)){pattern=null;}
string=baseToString(string);return string.match(pattern||reWords)||[];}
var attempt=restParam(function(func,args){try{return func.apply(undefined,args);}catch(e){return isError(e)?e:new Error(e);}});function callback(func,thisArg,guard){if(guard&&isIterateeCall(func,thisArg,guard)){thisArg=null;}
return isObjectLike(func)?matches(func):baseCallback(func,thisArg);}
function constant(value){return function(){return value;};}
function identity(value){return value;}
function matches(source){return baseMatches(baseClone(source,true));}
function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true));}
var method=restParam(function(path,args){return function(object){return invokePath(object,path,args);};});var methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args);};});function mixin(object,source,options){if(options==null){var isObj=isObject(source),props=isObj?keys(source):null,methodNames=(props&&props.length)?baseFunctions(source,props):null;if(!(methodNames?methodNames.length:isObj)){methodNames=false;options=source;source=object;object=this;}}
if(!methodNames){methodNames=baseFunctions(source,keys(source));}
var chain=true,index=-1,isFunc=isFunction(object),length=methodNames.length;if(options===false){chain=false;}else if(isObject(options)&&'chain'in options){chain=options.chain;}
while(++index<length){var methodName=methodNames[index],func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=(function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);actions.push({'func':func,'args':arguments,'thisArg':object});result.__chain__=chainAll;return result;}
var args=[this.value()];push.apply(args,arguments);return func.apply(object,args);};}(func));}}
return object;}
function noConflict(){context._=oldDash;return this;}
function noop(){}
function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path);}
function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+'');};}
function range(start,end,step){if(step&&isIterateeCall(start,end,step)){end=step=null;}
start=+start||0;step=step==null?1:(+step||0);if(end==null){end=start;start=0;}else{end=+end||0;}
var index=-1,length=nativeMax(ceil((end-start)/(step||1)),0),result=Array(length);while(++index<length){result[index]=start;start+=step;}
return result;}
function times(n,iteratee,thisArg){n=floor(n);if(n<1||!nativeIsFinite(n)){return[];}
var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));iteratee=bindCallback(iteratee,thisArg,1);while(++index<n){if(index<MAX_ARRAY_LENGTH){result[index]=iteratee(index);}else{iteratee(index);}}
return result;}
function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id;}
function add(augend,addend){return(+augend||0)+(+addend||0);}
var max=createExtremum(gt,NEGATIVE_INFINITY);var min=createExtremum(lt,POSITIVE_INFINITY);function sum(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)){iteratee=null;}
var callback=getCallback(),noIteratee=iteratee==null;if(!(noIteratee&&callback===baseCallback)){noIteratee=false;iteratee=callback(iteratee,thisArg,3);}
return noIteratee?arraySum(isArray(collection)?collection:toIterable(collection)):baseSum(collection,iteratee);}
lodash.prototype=baseLodash.prototype;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;MapCache.prototype['delete']=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;SetCache.prototype.push=cachePush;memoize.Cache=MapCache;lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.callback=callback;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flow=flow;lodash.flowRight=flowRight;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pluck=pluck;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAt=pullAt;lodash.range=range;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.restParam=restParam;lodash.set=set;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortByAll=sortByAll;lodash.sortByOrder=sortByOrder;lodash.spread=spread;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.times=times;lodash.toArray=toArray;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.xor=xor;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipWith=zipWith;lodash.backflow=flowRight;lodash.collect=map;lodash.compose=flowRight;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.iteratee=callback;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.deburr=deburr;lodash.endsWith=endsWith;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.findWhere=findWhere;lodash.first=first;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isMatch=isMatch;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.min=min;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padLeft=padLeft;lodash.padRight=padRight;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.result=result;lodash.runInContext=runInContext;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedLastIndex=sortedLastIndex;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.sum=sum;lodash.template=template;lodash.trim=trim;lodash.trimLeft=trimLeft;lodash.trimRight=trimRight;lodash.trunc=trunc;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.words=words;lodash.all=every;lodash.any=some;lodash.contains=includes;lodash.eq=isEqual;lodash.detect=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.head=first;lodash.include=includes;lodash.inject=reduce;mixin(lodash,(function(){var source={};baseForOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){source[methodName]=func;}});return source;}()),false);lodash.sample=sample;lodash.prototype.sample=function(n){if(!this.__chain__&&n==null){return sample(this.value());}
return this.thru(function(value){return sample(value,n);});};lodash.VERSION=VERSION;arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){lodash[methodName].placeholder=lodash;});arrayEach(['dropWhile','filter','map','takeWhile'],function(methodName,type){var isFilter=type!=LAZY_MAP_FLAG,isDropWhile=type==LAZY_DROP_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var filtered=this.__filtered__,result=(filtered&&isDropWhile)?new LazyWrapper(this):this.clone(),iteratees=result.__iteratees__||(result.__iteratees__=[]);iteratees.push({'done':false,'count':0,'index':0,'iteratee':getCallback(iteratee,thisArg,1),'limit':-1,'type':type});result.__filtered__=filtered||isFilter;return result;};});arrayEach(['drop','take'],function(methodName,index){var whileName=methodName+'While';LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__,result=(filtered&&!index)?this.dropWhile():this.clone();n=n==null?1:nativeMax(floor(n)||0,0);if(filtered){if(index){result.__takeCount__=nativeMin(result.__takeCount__,n);}else{last(result.__iteratees__).limit=n;}}else{var views=result.__views__||(result.__views__=[]);views.push({'size':n,'type':methodName+(result.__dir__<0?'Right':'')});}
return result;};LazyWrapper.prototype[methodName+'Right']=function(n){return this.reverse()[methodName](n).reverse();};LazyWrapper.prototype[methodName+'RightWhile']=function(predicate,thisArg){return this.reverse()[whileName](predicate,thisArg).reverse();};});arrayEach(['first','last'],function(methodName,index){var takeName='take'+(index?'Right':'');LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0];};});arrayEach(['initial','rest'],function(methodName,index){var dropName='drop'+(index?'':'Right');LazyWrapper.prototype[methodName]=function(){return this[dropName](1);};});arrayEach(['pluck','where'],function(methodName,index){var operationName=index?'filter':'map',createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value));};});LazyWrapper.prototype.compact=function(){return this.filter(identity);};LazyWrapper.prototype.reject=function(predicate,thisArg){predicate=getCallback(predicate,thisArg,1);return this.filter(function(value){return!predicate(value);});};LazyWrapper.prototype.slice=function(start,end){start=start==null?0:(+start||0);var result=this;if(start<0){result=this.takeRight(-start);}else if(start){result=this.drop(start);}
if(end!==undefined){end=(+end||0);result=end<0?result.dropRight(-end):result.take(end-start);}
return result;};LazyWrapper.prototype.toArray=function(){return this.drop(0);};baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(!lodashFunc){return;}
var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);if(useLazy&&checkIteratee&&typeof iteratee=='function'&&iteratee.length!=1){isLazy=useLazy=false;}
var onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll){return onlyLazy?func.call(value):lodashFunc.call(lodash,this.value());}
var interceptor=function(value){var otherArgs=[value];push.apply(otherArgs,args);return lodashFunc.apply(lodash,otherArgs);};if(useLazy){var wrapper=onlyLazy?value:new LazyWrapper(this),result=func.apply(wrapper,args);if(!retUnwrapped&&(isHybrid||result.__actions__)){var actions=result.__actions__||(result.__actions__=[]);actions.push({'func':thru,'args':[interceptor],'thisArg':lodash});}
return new LodashWrapper(result,chainAll);}
return this.thru(interceptor);};});arrayEach(['concat','join','pop','push','replace','shift','sort','splice','split','unshift'],function(methodName){var protoFunc=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',fixObjects=!support.spliceObjects&&/^(?:pop|shift|splice)$/.test(methodName),retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);var func=!fixObjects?protoFunc:function(){var result=protoFunc.apply(this,arguments);if(this.length===0){delete this[0];}
return result;};lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){return func.apply(this.value(),args);}
return this[chainName](function(value){return func.apply(value,args);});};});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({'name':methodName,'func':lodashFunc});}});realNames[createHybridWrapper(null,BIND_KEY_FLAG).name]=[{'name':'wrapper','func':null}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toString=wrapperToString;lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.collect=lodash.prototype.map;lodash.prototype.head=lodash.prototype.first;lodash.prototype.select=lodash.prototype.filter;lodash.prototype.tail=lodash.prototype.rest;return lodash;}
var _=runInContext();if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){root._=_;define(function(){return _;});}
else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_;}
else{freeExports._=_;}}
else{root._=_;}}.call(this));},{}],16:[function(require,module,exports){function es(){throw new Error('Looks like you are expecting the previous "elasticsearch" module. '+'It is now the "es" module. To create a client with this module use '+'`new es.Client(params)`.');}
es.Client=require('./lib/client');es.ConnectionPool=require('./lib/connection_pool');es.Transport=require('./lib/transport');es.errors=require('./lib/errors');module.exports=es;},{"./lib/client":21,"./lib/connection_pool":24,"./lib/errors":27,"./lib/transport":40}],17:[function(require,module,exports){var ca=require('../client_action').factory;var namespace=require('../client_action').namespaceFactory;var api=module.exports={};api._namespaces=['cat','cluster','indices','nodes','snapshot'];api.bulk=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},type:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_bulk',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_bulk',req:{index:{type:'string'}}},{fmt:'/_bulk'}],needBody:true,bulkBody:true,method:'POST'});api.cat=namespace();api.cat.prototype.aliases=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_cat/aliases'}]});api.cat.prototype.allocation=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/allocation/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cat/allocation'}]});api.cat.prototype.count=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/count/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/count'}]});api.cat.prototype.fielddata=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fields:{type:'list'}},urls:[{fmt:'/_cat/fielddata/<%=fields%>',req:{fields:{type:'list'}}},{fmt:'/_cat/fielddata'}]});api.cat.prototype.health=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},ts:{type:'boolean','default':true},v:{type:'boolean','default':false}},url:{fmt:'/_cat/health'}});api.cat.prototype.help=ca({params:{help:{type:'boolean','default':false}},url:{fmt:'/_cat'}});api.cat.prototype.indices=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},pri:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/indices/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/indices'}]});api.cat.prototype.master=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/master'}});api.cat.prototype.nodes=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/nodes'}});api.cat.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/pending_tasks'}});api.cat.prototype.plugins=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/plugins'}});api.cat.prototype.recovery=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/recovery/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/recovery'}]});api.cat.prototype.segments=ca({params:{h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':true}},urls:[{fmt:'/_cat/segments/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/segments'}]});api.cat.prototype.shards=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/shards/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/shards'}]});api.cat.prototype.threadPool=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fullId:{type:'boolean','default':false,name:'full_id'}},url:{fmt:'/_cat/thread_pool'}});api.clearScroll=ca({urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'list'}}},{fmt:'/_search/scroll'}],method:'DELETE'});api.cluster=namespace();api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/settings'}});api.cluster.prototype.health=ca({params:{level:{type:'enum','default':'cluster',options:['cluster','indices','shards']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},waitForActiveShards:{type:'number',name:'wait_for_active_shards'},waitForNodes:{type:'string',name:'wait_for_nodes'},waitForRelocatingShards:{type:'number',name:'wait_for_relocating_shards'},waitForStatus:{type:'enum','default':null,options:['green','yellow','red'],name:'wait_for_status'}},urls:[{fmt:'/_cluster/health/<%=index%>',req:{index:{type:'string'}}},{fmt:'/_cluster/health'}]});api.cluster.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_cluster/pending_tasks'}});api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'}},url:{fmt:'/_cluster/settings'},method:'PUT'});api.cluster.prototype.reroute=ca({params:{dryRun:{type:'boolean',name:'dry_run'},explain:{type:'boolean'},metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/reroute'},method:'POST'});api.cluster.prototype.state=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'}},urls:[{fmt:'/_cluster/state/<%=metric%>/<%=index%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']},index:{type:'list'}}},{fmt:'/_cluster/state/<%=metric%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']}}},{fmt:'/_cluster/state'}]});api.cluster.prototype.stats=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_cluster/stats/nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cluster/stats'}]});api.count=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_count',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_count',req:{index:{type:'list'}}},{fmt:'/_count'}],method:'POST'});api.countPercolate=ca({params:{source:{type:'string'},routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api['delete']=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteByQuery=ca({params:{analyzer:{type:'string'},consistency:{type:'enum',options:['one','quorum','all']},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},replication:{type:'enum','default':'sync',options:['sync','async']},q:{type:'string'},routing:{type:'string'},source:{type:'string'},timeout:{type:'time'}},urls:[{fmt:'/<%=index%>/<%=type%>/_query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_query',req:{index:{type:'list'}}}],method:'DELETE'});api.deleteScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},method:'DELETE'});api.exists=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'HEAD'});api.explain=ca({params:{analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},analyzer:{type:'string'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},fields:{type:'list'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},parent:{type:'string'},preference:{type:'string'},q:{type:'string'},routing:{type:'string'},source:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_explain',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.get=ca({params:{fields:{type:'list'},parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}}});api.getSource=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_source',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}}});api.index=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'string'},type:{type:'string'}}}],needBody:true,method:'POST'});api.indices=namespace();api.indices.prototype.analyze=ca({params:{source:{type:'string'},analyzer:{type:'string'},charFilters:{type:'list',name:'char_filters'},field:{type:'string'},filters:{type:'list'},index:{type:'string'},preferLocal:{type:'boolean',name:'prefer_local'},text:{type:'string'},tokenizer:{type:'string'},format:{type:'enum','default':'detailed',options:['detailed','text']}},urls:[{fmt:'/<%=index%>/_analyze',req:{index:{type:'string'}}},{fmt:'/_analyze'}],method:'POST'});api.indices.prototype.clearCache=ca({params:{fieldData:{type:'boolean',name:'field_data'},fielddata:{type:'boolean'},fields:{type:'list'},filter:{type:'boolean'},filterCache:{type:'boolean',name:'filter_cache'},filterKeys:{type:'boolean',name:'filter_keys'},id:{type:'boolean'},idCache:{type:'boolean',name:'id_cache'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},index:{type:'list'},recycler:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/_cache/clear',req:{index:{type:'list'}}},{fmt:'/_cache/clear'}],method:'POST'});api.indices.prototype.close=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_close',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.create=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype['delete']=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteMapping=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/<%=type%>/_mapping',req:{index:{type:'list'},type:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'DELETE'});api.indices.prototype.deleteWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},name:{type:'list'}},url:{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'HEAD'});api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}}],method:'HEAD'});api.indices.prototype.existsTemplate=ca({params:{local:{type:'boolean'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'HEAD'});api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},method:'HEAD'});api.indices.prototype.flush=ca({params:{force:{type:'boolean'},full:{type:'boolean'},waitIfOngoing:{type:'boolean',name:'wait_if_ongoing'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_flush',req:{index:{type:'list'}}},{fmt:'/_flush'}],method:'POST'});api.indices.prototype.get=ca({params:{local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=feature%>',req:{index:{type:'list'},feature:{type:'list'}}},{fmt:'/<%=index%>',req:{index:{type:'list'}}}]});api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}},{fmt:'/_alias'}]});api.indices.prototype.getAliases=ca({params:{timeout:{type:'time'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_aliases/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_aliases',req:{index:{type:'list'}}},{fmt:'/_aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_aliases'}]});api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:'boolean',name:'include_defaults'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>/field/<%=field%>',req:{index:{type:'list'},type:{type:'list'},field:{type:'list'}}},{fmt:'/<%=index%>/_mapping/field/<%=field%>',req:{index:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/<%=type%>/field/<%=field%>',req:{type:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/field/<%=field%>',req:{field:{type:'list'}}}]});api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_mapping',req:{index:{type:'list'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'list'}}},{fmt:'/_mapping'}]});api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_settings/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_settings'}]});api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},local:{type:'boolean'}},urls:[{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},{fmt:'/_template'}]});api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}]});api.indices.prototype.getWarmer=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer',req:{index:{type:'list'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_warmer'}]});api.indices.prototype.open=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'closed',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_open',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.optimize=ca({params:{flush:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},maxNumSegments:{type:'number',name:'max_num_segments'},onlyExpungeDeletes:{type:'boolean',name:'only_expunge_deletes'},operationThreading:{name:'operation_threading'},waitForMerge:{type:'boolean',name:'wait_for_merge'},force:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_optimize',req:{index:{type:'list'}}},{fmt:'/_optimize'}],method:'POST'});api.indices.prototype.putAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'string'}}}],method:'PUT'});api.indices.prototype.putMapping=ca({params:{ignoreConflicts:{type:'boolean',name:'ignore_conflicts'},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'string'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'}},urls:[{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings'}],needBody:true,method:'PUT'});api.indices.prototype.putTemplate=ca({params:{order:{type:'number'},create:{type:'boolean','default':false},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},needBody:true,method:'PUT'});api.indices.prototype.putWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'string'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.recovery=ca({params:{detailed:{type:'boolean','default':false},activeOnly:{type:'boolean','default':false,name:'active_only'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_recovery',req:{index:{type:'list'}}},{fmt:'/_recovery'}]});api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},force:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_refresh',req:{index:{type:'list'}}},{fmt:'/_refresh'}],method:'POST'});api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_segments',req:{index:{type:'list'}}},{fmt:'/_segments'}]});api.indices.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'list'},human:{type:'boolean','default':false},level:{type:'enum','default':'indices',options:['cluster','indices','shards']},types:{type:'list'}},urls:[{fmt:'/<%=index%>/_stats/<%=metric%>',req:{index:{type:'list'},metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_stats/<%=metric%>',req:{metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/<%=index%>/_stats',req:{index:{type:'list'}}},{fmt:'/_stats'}]});api.indices.prototype.status=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'},recovery:{type:'boolean'},snapshot:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_status',req:{index:{type:'list'}}},{fmt:'/_status'}]});api.indices.prototype.updateAliases=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_aliases'},needBody:true,method:'POST'});api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},waitForCompletion:{type:'boolean',name:'wait_for_completion'}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}],method:'POST'});api.indices.prototype.validateQuery=ca({params:{explain:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},operationThreading:{name:'operation_threading'},source:{type:'string'},q:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_validate/query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_validate/query',req:{index:{type:'list'}}},{fmt:'/_validate/query'}],method:'POST'});api.info=ca({url:{fmt:'/'}});api.mget=ca({params:{source:{type:'string'},fields:{type:'list'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mget',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mget',req:{index:{type:'string'}}},{fmt:'/_mget'}],needBody:true,method:'POST'});api.mlt=ca({params:{source:{type:'string'},boostTerms:{type:'number',name:'boost_terms'},maxDocFreq:{type:'number',name:'max_doc_freq'},maxQueryTerms:{type:'number',name:'max_query_terms'},maxWordLength:{type:'number',name:'max_word_length'},minDocFreq:{type:'number',name:'min_doc_freq'},minTermFreq:{type:'number',name:'min_term_freq'},minWordLength:{type:'number',name:'min_word_length'},mltFields:{type:'list',name:'mlt_fields'},percentTermsToMatch:{type:'number',name:'percent_terms_to_match'},routing:{type:'string'},searchFrom:{type:'number',name:'search_from'},searchIndices:{type:'list',name:'search_indices'},searchScroll:{type:'string',name:'search_scroll'},searchSize:{type:'number',name:'search_size'},searchSource:{type:'string',name:'search_source'},searchType:{type:'string',name:'search_type'},searchTypes:{type:'list',name:'search_types'},stopWords:{type:'list',name:'stop_words'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_mlt',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.mpercolate=ca({params:{source:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mpercolate',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mpercolate',req:{index:{type:'string'}}},{fmt:'/_mpercolate'}],needBody:true,bulkBody:true,method:'POST'});api.msearch=ca({params:{source:{type:'string'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_msearch',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_msearch',req:{index:{type:'list'}}},{fmt:'/_msearch'}],needBody:true,bulkBody:true,method:'POST'});api.mtermvectors=ca({params:{source:{type:'string'},ids:{type:'list',required:false},termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/_mtermvectors',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mtermvectors',req:{index:{type:'string'}}},{fmt:'/_mtermvectors'}],method:'POST'});api.nodes=namespace();api.nodes.prototype.hotThreads=ca({params:{interval:{type:'time'},snapshots:{type:'number'},threads:{type:'number'},type:{type:'enum',options:['cpu','wait','block']}},urls:[{fmt:'/_nodes/<%=nodeId%>/hotthreads',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/hotthreads'}]});api.nodes.prototype.info=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_nodes/<%=nodeId%>/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/<%=metric%>',req:{metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes'}]});api.nodes.prototype.shutdown=ca({params:{delay:{type:'time'},exit:{type:'boolean'}},urls:[{fmt:'/_cluster/nodes/<%=nodeId%>/_shutdown',req:{nodeId:{type:'list'}}},{fmt:'/_shutdown'}],method:'POST'});api.nodes.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'boolean'},human:{type:'boolean','default':false},level:{type:'enum','default':'node',options:['node','indices','shards']},types:{type:'list'}},urls:[{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats/<%=metric%>/<%=indexMetric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/stats/<%=metric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats'}]});api.percolate=ca({params:{source:{type:'string'},routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateFormat:{type:'enum',options:['ids'],name:'percolate_format'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},percolateRouting:{type:'string',name:'percolate_routing'},percolatePreference:{type:'string',name:'percolate_preference'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.ping=ca({url:{fmt:'/'},requestTimeout:3000,method:'HEAD'});api.putScript=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},needBody:true,method:'PUT'});api.putTemplate=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},needBody:true,method:'PUT'});api.scroll=ca({params:{source:{type:'string'},scroll:{type:'duration'},scrollId:{type:'string',name:'scroll_id'}},urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'string'}}},{fmt:'/_search/scroll'}],paramAsBody:'scrollId',method:'POST'});api.search=ca({params:{analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},explain:{type:'boolean'},fields:{type:'list'},fielddataFields:{type:'list',name:'fielddata_fields'},from:{type:'number'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},indicesBoost:{type:'list',name:'indices_boost'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},preference:{type:'string'},q:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'},size:{type:'number'},sort:{type:'list'},source:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},terminateAfter:{type:'number',name:'terminate_after'},stats:{type:'list'},suggestField:{type:'string',name:'suggest_field'},suggestMode:{type:'enum','default':'missing',options:['missing','popular','always'],name:'suggest_mode'},suggestSize:{type:'number',name:'suggest_size'},suggestText:{type:'text',name:'suggest_text'},timeout:{type:'time'},trackScores:{type:'boolean',name:'track_scores'},version:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search',req:{index:{type:'list'}}},{fmt:'/_search'}],method:'POST'});api.searchExists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/exists',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/exists',req:{index:{type:'list'}}},{fmt:'/_search/exists'}],method:'POST'});api.searchShards=ca({params:{preference:{type:'string'},routing:{type:'string'},local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search_shards',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_search_shards',req:{index:{type:'string'}}},{fmt:'/_search_shards'}],method:'POST'});api.searchTemplate=ca({params:{source:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/template',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/template',req:{index:{type:'list'}}},{fmt:'/_search/template'}],method:'POST'});api.snapshot=namespace();api.snapshot.prototype.create=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_create',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},verify:{type:'boolean'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'string'}}},needBody:true,method:'POST'});api.snapshot.prototype['delete']=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'DELETE'});api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},method:'DELETE'});api.snapshot.prototype.get=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'list'}}}});api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},urls:[{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},{fmt:'/_snapshot'}]});api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_restore',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.status=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},urls:[{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_status',req:{repository:{type:'string'},snapshot:{type:'list'}}},{fmt:'/_snapshot/<%=repository%>/_status',req:{repository:{type:'string'}}},{fmt:'/_snapshot/_status'}]});api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>/_verify',req:{repository:{type:'string'}}},method:'POST'});api.suggest=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/_suggest',req:{index:{type:'list'}}},{fmt:'/_suggest'}],needBody:true,method:'POST'});api.termvector=ca({params:{source:{type:'string'},termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_termvector',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_termvector',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.update=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},fields:{type:'list'},lang:{type:'string'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},retryOnConflict:{type:'number',name:'retry_on_conflict'},routing:{type:'string'},script:{},scriptId:{name:'script_id'},scriptedUpsert:{type:'boolean',name:'scripted_upsert'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_update',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.create=ca.proxy(api.index,{transform:function(params){params.op_type='create';}});},{"../client_action":22}],18:[function(require,module,exports){var ca=require('../client_action').factory;var namespace=require('../client_action').namespaceFactory;var api=module.exports={};api._namespaces=['cat','cluster','indices','nodes','snapshot'];api.bulk=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},type:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_bulk',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_bulk',req:{index:{type:'string'}}},{fmt:'/_bulk'}],needBody:true,bulkBody:true,method:'POST'});api.cat=namespace();api.cat.prototype.aliases=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_cat/aliases'}]});api.cat.prototype.allocation=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/allocation/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cat/allocation'}]});api.cat.prototype.count=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/count/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/count'}]});api.cat.prototype.fielddata=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fields:{type:'list'}},urls:[{fmt:'/_cat/fielddata/<%=fields%>',req:{fields:{type:'list'}}},{fmt:'/_cat/fielddata'}]});api.cat.prototype.health=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},ts:{type:'boolean','default':true},v:{type:'boolean','default':false}},url:{fmt:'/_cat/health'}});api.cat.prototype.help=ca({params:{help:{type:'boolean','default':false}},url:{fmt:'/_cat'}});api.cat.prototype.indices=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},pri:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/indices/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/indices'}]});api.cat.prototype.master=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/master'}});api.cat.prototype.nodes=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/nodes'}});api.cat.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/pending_tasks'}});api.cat.prototype.plugins=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/plugins'}});api.cat.prototype.recovery=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/recovery/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/recovery'}]});api.cat.prototype.segments=ca({params:{h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':true}},urls:[{fmt:'/_cat/segments/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/segments'}]});api.cat.prototype.shards=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/shards/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/shards'}]});api.cat.prototype.threadPool=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fullId:{type:'boolean','default':false,name:'full_id'}},url:{fmt:'/_cat/thread_pool'}});api.clearScroll=ca({urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'list'}}},{fmt:'/_search/scroll'}],method:'DELETE'});api.cluster=namespace();api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/settings'}});api.cluster.prototype.health=ca({params:{level:{type:'enum','default':'cluster',options:['cluster','indices','shards']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},waitForActiveShards:{type:'number',name:'wait_for_active_shards'},waitForNodes:{type:'string',name:'wait_for_nodes'},waitForRelocatingShards:{type:'number',name:'wait_for_relocating_shards'},waitForStatus:{type:'enum','default':null,options:['green','yellow','red'],name:'wait_for_status'}},urls:[{fmt:'/_cluster/health/<%=index%>',req:{index:{type:'string'}}},{fmt:'/_cluster/health'}]});api.cluster.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_cluster/pending_tasks'}});api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/settings'},method:'PUT'});api.cluster.prototype.reroute=ca({params:{dryRun:{type:'boolean',name:'dry_run'},explain:{type:'boolean'},metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/reroute'},method:'POST'});api.cluster.prototype.state=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/_cluster/state/<%=metric%>/<%=index%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']},index:{type:'list'}}},{fmt:'/_cluster/state/<%=metric%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']}}},{fmt:'/_cluster/state'}]});api.cluster.prototype.stats=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_cluster/stats/nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cluster/stats'}]});api.count=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_count',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_count',req:{index:{type:'list'}}},{fmt:'/_count'}],method:'POST'});api.countPercolate=ca({params:{source:{type:'string'},routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api['delete']=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteByQuery=ca({params:{analyzer:{type:'string'},consistency:{type:'enum',options:['one','quorum','all']},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},replication:{type:'enum','default':'sync',options:['sync','async']},q:{type:'string'},routing:{type:'string'},source:{type:'string'},timeout:{type:'time'}},urls:[{fmt:'/<%=index%>/<%=type%>/_query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_query',req:{index:{type:'list'}}}],method:'DELETE'});api.deleteScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},method:'DELETE'});api.exists=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'HEAD'});api.explain=ca({params:{analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},analyzer:{type:'string'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},fields:{type:'list'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},parent:{type:'string'},preference:{type:'string'},q:{type:'string'},routing:{type:'string'},source:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_explain',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.get=ca({params:{fields:{type:'list'},parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}}});api.getSource=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_source',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}}});api.index=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'string'},type:{type:'string'}}}],needBody:true,method:'POST'});api.indices=namespace();api.indices.prototype.analyze=ca({params:{source:{type:'string'},analyzer:{type:'string'},charFilters:{type:'list',name:'char_filters'},field:{type:'string'},filters:{type:'list'},index:{type:'string'},preferLocal:{type:'boolean',name:'prefer_local'},text:{type:'string'},tokenizer:{type:'string'},format:{type:'enum','default':'detailed',options:['detailed','text']}},urls:[{fmt:'/<%=index%>/_analyze',req:{index:{type:'string'}}},{fmt:'/_analyze'}],method:'POST'});api.indices.prototype.clearCache=ca({params:{fieldData:{type:'boolean',name:'field_data'},fielddata:{type:'boolean'},fields:{type:'list'},filter:{type:'boolean'},filterCache:{type:'boolean',name:'filter_cache'},filterKeys:{type:'boolean',name:'filter_keys'},id:{type:'boolean'},idCache:{type:'boolean',name:'id_cache'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},index:{type:'list'},recycler:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/_cache/clear',req:{index:{type:'list'}}},{fmt:'/_cache/clear'}],method:'POST'});api.indices.prototype.close=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_close',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.create=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype['delete']=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteMapping=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/<%=type%>/_mapping',req:{index:{type:'list'},type:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'DELETE'});api.indices.prototype.deleteWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},name:{type:'list'}},url:{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'HEAD'});api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}}],method:'HEAD'});api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'HEAD'});api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},method:'HEAD'});api.indices.prototype.flush=ca({params:{force:{type:'boolean'},waitIfOngoing:{type:'boolean',name:'wait_if_ongoing'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_flush',req:{index:{type:'list'}}},{fmt:'/_flush'}],method:'POST'});api.indices.prototype.get=ca({params:{local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=feature%>',req:{index:{type:'list'},feature:{type:'list'}}},{fmt:'/<%=index%>',req:{index:{type:'list'}}}]});api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}},{fmt:'/_alias'}]});api.indices.prototype.getAliases=ca({params:{timeout:{type:'time'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_aliases/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_aliases',req:{index:{type:'list'}}},{fmt:'/_aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_aliases'}]});api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:'boolean',name:'include_defaults'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>/field/<%=field%>',req:{index:{type:'list'},type:{type:'list'},field:{type:'list'}}},{fmt:'/<%=index%>/_mapping/field/<%=field%>',req:{index:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/<%=type%>/field/<%=field%>',req:{type:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/field/<%=field%>',req:{field:{type:'list'}}}]});api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_mapping',req:{index:{type:'list'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'list'}}},{fmt:'/_mapping'}]});api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_settings/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_settings'}]});api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},urls:[{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},{fmt:'/_template'}]});api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}]});api.indices.prototype.getWarmer=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer',req:{index:{type:'list'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_warmer'}]});api.indices.prototype.open=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'closed',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_open',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.optimize=ca({params:{flush:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},maxNumSegments:{type:'number',name:'max_num_segments'},onlyExpungeDeletes:{type:'boolean',name:'only_expunge_deletes'},operationThreading:{name:'operation_threading'},waitForMerge:{type:'boolean',name:'wait_for_merge'},force:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_optimize',req:{index:{type:'list'}}},{fmt:'/_optimize'}],method:'POST'});api.indices.prototype.putAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},method:'PUT'});api.indices.prototype.putMapping=ca({params:{ignoreConflicts:{type:'boolean',name:'ignore_conflicts'},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'string'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'}},urls:[{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings'}],needBody:true,method:'PUT'});api.indices.prototype.putTemplate=ca({params:{order:{type:'number'},create:{type:'boolean','default':false},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},needBody:true,method:'PUT'});api.indices.prototype.putWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'string'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.recovery=ca({params:{detailed:{type:'boolean','default':false},activeOnly:{type:'boolean','default':false,name:'active_only'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_recovery',req:{index:{type:'list'}}},{fmt:'/_recovery'}]});api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},force:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_refresh',req:{index:{type:'list'}}},{fmt:'/_refresh'}],method:'POST'});api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_segments',req:{index:{type:'list'}}},{fmt:'/_segments'}]});api.indices.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'list'},human:{type:'boolean','default':false},level:{type:'enum','default':'indices',options:['cluster','indices','shards']},types:{type:'list'}},urls:[{fmt:'/<%=index%>/_stats/<%=metric%>',req:{index:{type:'list'},metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_stats/<%=metric%>',req:{metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/<%=index%>/_stats',req:{index:{type:'list'}}},{fmt:'/_stats'}]});api.indices.prototype.status=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'},recovery:{type:'boolean'},snapshot:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_status',req:{index:{type:'list'}}},{fmt:'/_status'}]});api.indices.prototype.updateAliases=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_aliases'},needBody:true,method:'POST'});api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},waitForCompletion:{type:'boolean',name:'wait_for_completion'}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}],method:'POST'});api.indices.prototype.validateQuery=ca({params:{explain:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},operationThreading:{name:'operation_threading'},source:{type:'string'},q:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_validate/query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_validate/query',req:{index:{type:'list'}}},{fmt:'/_validate/query'}],method:'POST'});api.info=ca({url:{fmt:'/'}});api.mget=ca({params:{source:{type:'string'},fields:{type:'list'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mget',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mget',req:{index:{type:'string'}}},{fmt:'/_mget'}],needBody:true,method:'POST'});api.mlt=ca({params:{source:{type:'string'},boostTerms:{type:'number',name:'boost_terms'},maxDocFreq:{type:'number',name:'max_doc_freq'},maxQueryTerms:{type:'number',name:'max_query_terms'},maxWordLength:{type:'number',name:'max_word_length'},minDocFreq:{type:'number',name:'min_doc_freq'},minTermFreq:{type:'number',name:'min_term_freq'},minWordLength:{type:'number',name:'min_word_length'},mltFields:{type:'list',name:'mlt_fields'},percentTermsToMatch:{type:'number',name:'percent_terms_to_match'},routing:{type:'string'},searchFrom:{type:'number',name:'search_from'},searchIndices:{type:'list',name:'search_indices'},searchScroll:{type:'string',name:'search_scroll'},searchSize:{type:'number',name:'search_size'},searchSource:{type:'string',name:'search_source'},searchType:{type:'string',name:'search_type'},searchTypes:{type:'list',name:'search_types'},stopWords:{type:'list',name:'stop_words'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_mlt',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.mpercolate=ca({params:{source:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mpercolate',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mpercolate',req:{index:{type:'string'}}},{fmt:'/_mpercolate'}],needBody:true,bulkBody:true,method:'POST'});api.msearch=ca({params:{source:{type:'string'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_msearch',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_msearch',req:{index:{type:'list'}}},{fmt:'/_msearch'}],needBody:true,bulkBody:true,method:'POST'});api.mtermvectors=ca({params:{source:{type:'string'},ids:{type:'list',required:false},termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false},realtime:{type:'boolean',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/_mtermvectors',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mtermvectors',req:{index:{type:'string'}}},{fmt:'/_mtermvectors'}],method:'POST'});api.nodes=namespace();api.nodes.prototype.hotThreads=ca({params:{interval:{type:'time'},snapshots:{type:'number'},threads:{type:'number'},ignoreIdleThreads:{type:'boolean',name:'ignore_idle_threads'},type:{type:'enum',options:['cpu','wait','block']}},urls:[{fmt:'/_nodes/<%=nodeId%>/hotthreads',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/hotthreads'}]});api.nodes.prototype.info=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_nodes/<%=nodeId%>/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/<%=metric%>',req:{metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes'}]});api.nodes.prototype.shutdown=ca({params:{delay:{type:'time'},exit:{type:'boolean'}},urls:[{fmt:'/_cluster/nodes/<%=nodeId%>/_shutdown',req:{nodeId:{type:'list'}}},{fmt:'/_shutdown'}],method:'POST'});api.nodes.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'boolean'},human:{type:'boolean','default':false},level:{type:'enum','default':'node',options:['node','indices','shards']},types:{type:'list'}},urls:[{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats/<%=metric%>/<%=indexMetric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/stats/<%=metric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats'}]});api.percolate=ca({params:{source:{type:'string'},routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateFormat:{type:'enum',options:['ids'],name:'percolate_format'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},percolateRouting:{type:'string',name:'percolate_routing'},percolatePreference:{type:'string',name:'percolate_preference'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.ping=ca({url:{fmt:'/'},requestTimeout:3000,method:'HEAD'});api.putScript=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},needBody:true,method:'PUT'});api.putTemplate=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},needBody:true,method:'PUT'});api.scroll=ca({params:{source:{type:'string'},scroll:{type:'duration'},scrollId:{type:'string',name:'scroll_id'}},urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'string'}}},{fmt:'/_search/scroll'}],paramAsBody:'scrollId',method:'POST'});api.search=ca({params:{analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},explain:{type:'boolean'},fields:{type:'list'},fielddataFields:{type:'list',name:'fielddata_fields'},from:{type:'number'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},indicesBoost:{type:'list',name:'indices_boost'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},preference:{type:'string'},q:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'},size:{type:'number'},sort:{type:'list'},source:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},stats:{type:'list'},suggestField:{type:'string',name:'suggest_field'},suggestMode:{type:'enum','default':'missing',options:['missing','popular','always'],name:'suggest_mode'},suggestSize:{type:'number',name:'suggest_size'},suggestText:{type:'text',name:'suggest_text'},timeout:{type:'time'},trackScores:{type:'boolean',name:'track_scores'},version:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search',req:{index:{type:'list'}}},{fmt:'/_search'}],method:'POST'});api.searchExists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/exists',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/exists',req:{index:{type:'list'}}},{fmt:'/_search/exists'}],method:'POST'});api.searchShards=ca({params:{preference:{type:'string'},routing:{type:'string'},local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search_shards',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_search_shards',req:{index:{type:'string'}}},{fmt:'/_search_shards'}],method:'POST'});api.searchTemplate=ca({params:{source:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/template',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/template',req:{index:{type:'list'}}},{fmt:'/_search/template'}],method:'POST'});api.snapshot=namespace();api.snapshot.prototype.create=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_create',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},verify:{type:'boolean'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'string'}}},needBody:true,method:'POST'});api.snapshot.prototype['delete']=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'DELETE'});api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},method:'DELETE'});api.snapshot.prototype.get=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'list'}}}});api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},urls:[{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},{fmt:'/_snapshot'}]});api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_restore',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.status=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},urls:[{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_status',req:{repository:{type:'string'},snapshot:{type:'list'}}},{fmt:'/_snapshot/<%=repository%>/_status',req:{repository:{type:'string'}}},{fmt:'/_snapshot/_status'}]});api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>/_verify',req:{repository:{type:'string'}}},method:'POST'});api.suggest=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'string'},source:{type:'string'}},urls:[{fmt:'/<%=index%>/_suggest',req:{index:{type:'list'}}},{fmt:'/_suggest'}],needBody:true,method:'POST'});api.termvector=ca({params:{source:{type:'string'},termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false},realtime:{type:'boolean',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_termvector',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_termvector',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.update=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},fields:{type:'list'},lang:{type:'string'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},retryOnConflict:{type:'number',name:'retry_on_conflict'},routing:{type:'string'},script:{},scriptId:{name:'script_id'},scriptedUpsert:{type:'boolean',name:'scripted_upsert'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_update',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.create=ca.proxy(api.index,{transform:function(params){params.op_type='create';}});},{"../client_action":22}],19:[function(require,module,exports){var ca=require('../client_action').makeFactoryWithModifier(function(spec){return require('../utils').merge(spec,{params:{filterPath:{type:'list',name:'filter_path'}}});});var namespace=require('../client_action').namespaceFactory;var api=module.exports={};api._namespaces=['cat','cluster','indices','nodes','snapshot'];api.bulk=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},type:{type:'string'}},urls:[{fmt:'/<%=index%>/<%=type%>/_bulk',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_bulk',req:{index:{type:'string'}}},{fmt:'/_bulk'}],needBody:true,bulkBody:true,method:'POST'});api.cat=namespace();api.cat.prototype.aliases=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_cat/aliases'}]});api.cat.prototype.allocation=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/allocation/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cat/allocation'}]});api.cat.prototype.count=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/count/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/count'}]});api.cat.prototype.fielddata=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fields:{type:'list'}},urls:[{fmt:'/_cat/fielddata/<%=fields%>',req:{fields:{type:'list'}}},{fmt:'/_cat/fielddata'}]});api.cat.prototype.health=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},ts:{type:'boolean','default':true},v:{type:'boolean','default':false}},url:{fmt:'/_cat/health'}});api.cat.prototype.help=ca({params:{help:{type:'boolean','default':false}},url:{fmt:'/_cat'}});api.cat.prototype.indices=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},pri:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/indices/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/indices'}]});api.cat.prototype.master=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/master'}});api.cat.prototype.nodes=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/nodes'}});api.cat.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/pending_tasks'}});api.cat.prototype.plugins=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},url:{fmt:'/_cat/plugins'}});api.cat.prototype.recovery=ca({params:{bytes:{type:'enum',options:['b','k','m','g']},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/recovery/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/recovery'}]});api.cat.prototype.segments=ca({params:{h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':true}},urls:[{fmt:'/_cat/segments/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/segments'}]});api.cat.prototype.shards=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false}},urls:[{fmt:'/_cat/shards/<%=index%>',req:{index:{type:'list'}}},{fmt:'/_cat/shards'}]});api.cat.prototype.threadPool=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},h:{type:'list'},help:{type:'boolean','default':false},v:{type:'boolean','default':false},fullId:{type:'boolean','default':false,name:'full_id'}},url:{fmt:'/_cat/thread_pool'}});api.clearScroll=ca({urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'list'}}},{fmt:'/_search/scroll'}],method:'DELETE'});api.cluster=namespace();api.cluster.prototype.getSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/settings'}});api.cluster.prototype.health=ca({params:{level:{type:'enum','default':'cluster',options:['cluster','indices','shards']},local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},waitForActiveShards:{type:'number',name:'wait_for_active_shards'},waitForNodes:{type:'string',name:'wait_for_nodes'},waitForRelocatingShards:{type:'number',name:'wait_for_relocating_shards'},waitForStatus:{type:'enum','default':null,options:['green','yellow','red'],name:'wait_for_status'}},urls:[{fmt:'/_cluster/health/<%=index%>',req:{index:{type:'string'}}},{fmt:'/_cluster/health'}]});api.cluster.prototype.pendingTasks=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_cluster/pending_tasks'}});api.cluster.prototype.putSettings=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/settings'},method:'PUT'});api.cluster.prototype.reroute=ca({params:{dryRun:{type:'boolean',name:'dry_run'},explain:{type:'boolean'},metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','master_node','version']},masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_cluster/reroute'},method:'POST'});api.cluster.prototype.state=ca({params:{local:{type:'boolean'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/_cluster/state/<%=metric%>/<%=index%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','routing_nodes','master_node','version']},index:{type:'list'}}},{fmt:'/_cluster/state/<%=metric%>',req:{metric:{type:'list',options:['_all','blocks','metadata','nodes','routing_table','routing_nodes','master_node','version']}}},{fmt:'/_cluster/state'}]});api.cluster.prototype.stats=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_cluster/stats/nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_cluster/stats'}]});api.count=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},q:{type:'string'},analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'}},urls:[{fmt:'/<%=index%>/<%=type%>/_count',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_count',req:{index:{type:'list'}}},{fmt:'/_count'}],method:'POST'});api.countPercolate=ca({params:{routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate/count',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api['delete']=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteByQuery=ca({params:{analyzer:{type:'string'},consistency:{type:'enum',options:['one','quorum','all']},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},replication:{type:'enum','default':'sync',options:['sync','async']},q:{type:'string'},routing:{type:'string'},timeout:{type:'time'}},urls:[{fmt:'/<%=index%>/<%=type%>/_query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_query',req:{index:{type:'list'}}}],method:'DELETE'});api.deleteScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},method:'DELETE'});api.deleteTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},method:'DELETE'});api.exists=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'HEAD'});api.explain=ca({params:{analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},analyzer:{type:'string'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},fields:{type:'list'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},parent:{type:'string'},preference:{type:'string'},q:{type:'string'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_explain',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.fieldStats=ca({params:{fields:{type:'list'},level:{type:'enum','default':'cluster',options:['indices','cluster']},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_field_stats',req:{index:{type:'list'}}},{fmt:'/_field_stats'}],method:'POST'});api.get=ca({params:{fields:{type:'list'},parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getScript=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}}});api.getSource=ca({params:{parent:{type:'string'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},routing:{type:'string'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_source',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}}});api.getTemplate=ca({params:{version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}}});api.index=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},routing:{type:'string'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'string'},type:{type:'string'}}}],needBody:true,method:'POST'});api.indices=namespace();api.indices.prototype.analyze=ca({params:{analyzer:{type:'string'},charFilters:{type:'list',name:'char_filters'},field:{type:'string'},filters:{type:'list'},index:{type:'string'},preferLocal:{type:'boolean',name:'prefer_local'},text:{type:'string'},tokenizer:{type:'string'},format:{type:'enum','default':'detailed',options:['detailed','text']}},urls:[{fmt:'/<%=index%>/_analyze',req:{index:{type:'string'}}},{fmt:'/_analyze'}],method:'POST'});api.indices.prototype.clearCache=ca({params:{fieldData:{type:'boolean',name:'field_data'},fielddata:{type:'boolean'},fields:{type:'list'},filter:{type:'boolean'},filterCache:{type:'boolean',name:'filter_cache'},filterKeys:{type:'boolean',name:'filter_keys'},id:{type:'boolean'},idCache:{type:'boolean',name:'id_cache'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},index:{type:'list'},recycler:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/_cache/clear',req:{index:{type:'list'}}},{fmt:'/_cache/clear'}],method:'POST'});api.indices.prototype.close=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_close',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.create=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype['delete']=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteMapping=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/<%=type%>/_mapping',req:{index:{type:'list'},type:{type:'list'}}},method:'DELETE'});api.indices.prototype.deleteTemplate=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'DELETE'});api.indices.prototype.deleteWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},name:{type:'list'}},url:{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},method:'DELETE'});api.indices.prototype.exists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>',req:{index:{type:'list'}}},method:'HEAD'});api.indices.prototype.existsAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}}],method:'HEAD'});api.indices.prototype.existsTemplate=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},method:'HEAD'});api.indices.prototype.existsType=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},url:{fmt:'/<%=index%>/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},method:'HEAD'});api.indices.prototype.flush=ca({params:{force:{type:'boolean'},waitIfOngoing:{type:'boolean',name:'wait_if_ongoing'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_flush',req:{index:{type:'list'}}},{fmt:'/_flush'}],method:'POST'});api.indices.prototype.flushSynced=ca({urls:[{fmt:'/<%=index%>/_flush/synced',req:{index:{type:'list'}}},{fmt:'/_flush/synced'}],method:'POST'});api.indices.prototype.get=ca({params:{local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=feature%>',req:{index:{type:'list'},feature:{type:'list'}}},{fmt:'/<%=index%>',req:{index:{type:'list'}}}]});api.indices.prototype.getAlias=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/_alias/<%=name%>',req:{name:{type:'list'}}},{fmt:'/<%=index%>/_alias',req:{index:{type:'list'}}},{fmt:'/_alias'}]});api.indices.prototype.getAliases=ca({params:{timeout:{type:'time'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_aliases/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_aliases',req:{index:{type:'list'}}},{fmt:'/_aliases/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_aliases'}]});api.indices.prototype.getFieldMapping=ca({params:{includeDefaults:{type:'boolean',name:'include_defaults'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>/field/<%=field%>',req:{index:{type:'list'},type:{type:'list'},field:{type:'list'}}},{fmt:'/<%=index%>/_mapping/field/<%=field%>',req:{index:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/<%=type%>/field/<%=field%>',req:{type:{type:'list'},field:{type:'list'}}},{fmt:'/_mapping/field/<%=field%>',req:{field:{type:'list'}}}]});api.indices.prototype.getMapping=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_mapping',req:{index:{type:'list'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'list'}}},{fmt:'/_mapping'}]});api.indices.prototype.getSettings=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':['open','closed'],options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_settings/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_settings'}]});api.indices.prototype.getTemplate=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},urls:[{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},{fmt:'/_template'}]});api.indices.prototype.getUpgrade=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}]});api.indices.prototype.getWarmer=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},local:{type:'boolean'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'list'}}},{fmt:'/<%=index%>/_warmer',req:{index:{type:'list'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'list'}}},{fmt:'/_warmer'}]});api.indices.prototype.open=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'closed',options:['open','closed','none','all'],name:'expand_wildcards'}},url:{fmt:'/<%=index%>/_open',req:{index:{type:'string'}}},method:'POST'});api.indices.prototype.optimize=ca({params:{flush:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},maxNumSegments:{type:'number',name:'max_num_segments'},onlyExpungeDeletes:{type:'boolean',name:'only_expunge_deletes'},operationThreading:{name:'operation_threading'},waitForMerge:{type:'boolean',name:'wait_for_merge'},force:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_optimize',req:{index:{type:'list'}}},{fmt:'/_optimize'}],method:'POST'});api.indices.prototype.putAlias=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/<%=index%>/_alias/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},method:'PUT'});api.indices.prototype.putMapping=ca({params:{ignoreConflicts:{type:'boolean',name:'ignore_conflicts'},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/_mapping/<%=type%>',req:{index:{type:'list'},type:{type:'string'}}},{fmt:'/_mapping/<%=type%>',req:{type:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.putSettings=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},flatSettings:{type:'boolean',name:'flat_settings'}},urls:[{fmt:'/<%=index%>/_settings',req:{index:{type:'list'}}},{fmt:'/_settings'}],needBody:true,method:'PUT'});api.indices.prototype.putTemplate=ca({params:{order:{type:'number'},create:{type:'boolean','default':false},timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'},flatSettings:{type:'boolean',name:'flat_settings'}},url:{fmt:'/_template/<%=name%>',req:{name:{type:'string'}}},needBody:true,method:'PUT'});api.indices.prototype.putWarmer=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_warmer/<%=name%>',req:{index:{type:'list'},type:{type:'list'},name:{type:'string'}}},{fmt:'/<%=index%>/_warmer/<%=name%>',req:{index:{type:'list'},name:{type:'string'}}},{fmt:'/_warmer/<%=name%>',req:{name:{type:'string'}}}],needBody:true,method:'PUT'});api.indices.prototype.recovery=ca({params:{detailed:{type:'boolean','default':false},activeOnly:{type:'boolean','default':false,name:'active_only'},human:{type:'boolean','default':false}},urls:[{fmt:'/<%=index%>/_recovery',req:{index:{type:'list'}}},{fmt:'/_recovery'}]});api.indices.prototype.refresh=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},force:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_refresh',req:{index:{type:'list'}}},{fmt:'/_refresh'}],method:'POST'});api.indices.prototype.segments=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'}},urls:[{fmt:'/<%=index%>/_segments',req:{index:{type:'list'}}},{fmt:'/_segments'}]});api.indices.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'list'},human:{type:'boolean','default':false},level:{type:'enum','default':'indices',options:['cluster','indices','shards']},types:{type:'list'}},urls:[{fmt:'/<%=index%>/_stats/<%=metric%>',req:{index:{type:'list'},metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_stats/<%=metric%>',req:{metric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/<%=index%>/_stats',req:{index:{type:'list'}}},{fmt:'/_stats'}]});api.indices.prototype.status=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},human:{type:'boolean','default':false},operationThreading:{name:'operation_threading'},recovery:{type:'boolean'},snapshot:{type:'boolean'}},urls:[{fmt:'/<%=index%>/_status',req:{index:{type:'list'}}},{fmt:'/_status'}]});api.indices.prototype.updateAliases=ca({params:{timeout:{type:'time'},masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_aliases'},needBody:true,method:'POST'});api.indices.prototype.upgrade=ca({params:{allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},waitForCompletion:{type:'boolean',name:'wait_for_completion'},onlyAncientSegments:{type:'boolean',name:'only_ancient_segments'}},urls:[{fmt:'/<%=index%>/_upgrade',req:{index:{type:'list'}}},{fmt:'/_upgrade'}],method:'POST'});api.indices.prototype.validateQuery=ca({params:{explain:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},operationThreading:{name:'operation_threading'},q:{type:'string'},analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'}},urls:[{fmt:'/<%=index%>/<%=type%>/_validate/query',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_validate/query',req:{index:{type:'list'}}},{fmt:'/_validate/query'}],method:'POST'});api.info=ca({url:{fmt:'/'}});api.mget=ca({params:{fields:{type:'list'},preference:{type:'string'},realtime:{type:'boolean'},refresh:{type:'boolean'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mget',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mget',req:{index:{type:'string'}}},{fmt:'/_mget'}],needBody:true,method:'POST'});api.mlt=ca({params:{boostTerms:{type:'number',name:'boost_terms'},maxDocFreq:{type:'number',name:'max_doc_freq'},maxQueryTerms:{type:'number',name:'max_query_terms'},maxWordLength:{type:'number',name:'max_word_length'},minDocFreq:{type:'number',name:'min_doc_freq'},minTermFreq:{type:'number',name:'min_term_freq'},minWordLength:{type:'number',name:'min_word_length'},mltFields:{type:'list',name:'mlt_fields'},percentTermsToMatch:{type:'number',name:'percent_terms_to_match'},routing:{type:'string'},searchFrom:{type:'number',name:'search_from'},searchIndices:{type:'list',name:'search_indices'},searchScroll:{type:'string',name:'search_scroll'},searchSize:{type:'number',name:'search_size'},searchSource:{type:'string',name:'search_source'},searchType:{type:'string',name:'search_type'},searchTypes:{type:'list',name:'search_types'},stopWords:{type:'list',name:'stop_words'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_mlt',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.mpercolate=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_mpercolate',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mpercolate',req:{index:{type:'string'}}},{fmt:'/_mpercolate'}],needBody:true,bulkBody:true,method:'POST'});api.msearch=ca({params:{searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_msearch',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_msearch',req:{index:{type:'list'}}},{fmt:'/_msearch'}],needBody:true,bulkBody:true,method:'POST'});api.mtermvectors=ca({params:{ids:{type:'list',required:false},termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false},realtime:{type:'boolean',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/_mtermvectors',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_mtermvectors',req:{index:{type:'string'}}},{fmt:'/_mtermvectors'}],method:'POST'});api.nodes=namespace();api.nodes.prototype.hotThreads=ca({params:{interval:{type:'time'},snapshots:{type:'number'},threads:{type:'number'},ignoreIdleThreads:{type:'boolean',name:'ignore_idle_threads'},type:{type:'enum',options:['cpu','wait','block']}},urls:[{fmt:'/_nodes/<%=nodeId%>/hotthreads',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/hotthreads'}]});api.nodes.prototype.info=ca({params:{flatSettings:{type:'boolean',name:'flat_settings'},human:{type:'boolean','default':false}},urls:[{fmt:'/_nodes/<%=nodeId%>/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes/<%=nodeId%>',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/<%=metric%>',req:{metric:{type:'list',options:['settings','os','process','jvm','thread_pool','network','transport','http','plugins']}}},{fmt:'/_nodes'}]});api.nodes.prototype.shutdown=ca({params:{delay:{type:'time'},exit:{type:'boolean'}},urls:[{fmt:'/_cluster/nodes/<%=nodeId%>/_shutdown',req:{nodeId:{type:'list'}}},{fmt:'/_shutdown'}],method:'POST'});api.nodes.prototype.stats=ca({params:{completionFields:{type:'list',name:'completion_fields'},fielddataFields:{type:'list',name:'fielddata_fields'},fields:{type:'list'},groups:{type:'boolean'},human:{type:'boolean','default':false},level:{type:'enum','default':'node',options:['node','indices','shards']},types:{type:'list'}},urls:[{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats/<%=metric%>',req:{nodeId:{type:'list'},metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats/<%=metric%>/<%=indexMetric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']},indexMetric:{type:'list',options:['_all','completion','docs','fielddata','filter_cache','flush','get','id_cache','indexing','merge','percolate','query_cache','refresh','search','segments','store','warmer','suggest']}}},{fmt:'/_nodes/<%=nodeId%>/stats',req:{nodeId:{type:'list'}}},{fmt:'/_nodes/stats/<%=metric%>',req:{metric:{type:'list',options:['_all','breaker','fs','http','indices','jvm','network','os','process','thread_pool','transport']}}},{fmt:'/_nodes/stats'}]});api.percolate=ca({params:{routing:{type:'list'},preference:{type:'string'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},percolateFormat:{type:'enum',options:['ids'],name:'percolate_format'},percolateIndex:{type:'string',name:'percolate_index'},percolateType:{type:'string',name:'percolate_type'},percolateRouting:{type:'string',name:'percolate_routing'},percolatePreference:{type:'string',name:'percolate_preference'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_percolate',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_percolate',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.ping=ca({url:{fmt:'/'},requestTimeout:3000,method:'HEAD'});api.putScript=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_scripts/<%=lang%>/<%=id%>',req:{lang:{type:'string'},id:{type:'string'}}},needBody:true,method:'PUT'});api.putTemplate=ca({params:{opType:{type:'enum','default':'index',options:['index','create'],name:'op_type'},version:{type:'number'},versionType:{type:'enum',options:['internal','external','external_gte','force'],name:'version_type'}},url:{fmt:'/_search/template/<%=id%>',req:{id:{type:'string'}}},needBody:true,method:'PUT'});api.scroll=ca({params:{scroll:{type:'duration'},scrollId:{type:'string',name:'scroll_id'}},urls:[{fmt:'/_search/scroll/<%=scrollId%>',req:{scrollId:{type:'string'}}},{fmt:'/_search/scroll'}],paramAsBody:'scrollId',method:'POST'});api.search=ca({params:{analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},explain:{type:'boolean'},fields:{type:'list'},fielddataFields:{type:'list',name:'fielddata_fields'},from:{type:'number'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'},preference:{type:'string'},q:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'},size:{type:'number'},sort:{type:'list'},_source:{type:'list'},_sourceExclude:{type:'list',name:'_source_exclude'},_sourceInclude:{type:'list',name:'_source_include'},stats:{type:'list'},suggestField:{type:'string',name:'suggest_field'},suggestMode:{type:'enum','default':'missing',options:['missing','popular','always'],name:'suggest_mode'},suggestSize:{type:'number',name:'suggest_size'},suggestText:{type:'text',name:'suggest_text'},timeout:{type:'time'},trackScores:{type:'boolean',name:'track_scores'},version:{type:'boolean'},queryCache:{type:'boolean',name:'query_cache'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search',req:{index:{type:'list'}}},{fmt:'/_search'}],method:'POST'});api.searchExists=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},minScore:{type:'number',name:'min_score'},preference:{type:'string'},routing:{type:'string'},q:{type:'string'},analyzer:{type:'string'},analyzeWildcard:{type:'boolean',name:'analyze_wildcard'},defaultOperator:{type:'enum','default':'OR',options:['AND','OR'],name:'default_operator'},df:{type:'string'},lenient:{type:'boolean'},lowercaseExpandedTerms:{type:'boolean',name:'lowercase_expanded_terms'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/exists',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/exists',req:{index:{type:'list'}}},{fmt:'/_search/exists'}],method:'POST'});api.searchShards=ca({params:{preference:{type:'string'},routing:{type:'string'},local:{type:'boolean'},ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search_shards',req:{index:{type:'string'},type:{type:'string'}}},{fmt:'/<%=index%>/_search_shards',req:{index:{type:'string'}}},{fmt:'/_search_shards'}],method:'POST'});api.searchTemplate=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'list'},scroll:{type:'duration'},searchType:{type:'enum',options:['query_then_fetch','query_and_fetch','dfs_query_then_fetch','dfs_query_and_fetch','count','scan'],name:'search_type'}},urls:[{fmt:'/<%=index%>/<%=type%>/_search/template',req:{index:{type:'list'},type:{type:'list'}}},{fmt:'/<%=index%>/_search/template',req:{index:{type:'list'}}},{fmt:'/_search/template'}],method:'POST'});api.snapshot=namespace();api.snapshot.prototype.create=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_create',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.createRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'},verify:{type:'boolean'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'string'}}},needBody:true,method:'POST'});api.snapshot.prototype['delete']=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'DELETE'});api.snapshot.prototype.deleteRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},method:'DELETE'});api.snapshot.prototype.get=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>',req:{repository:{type:'string'},snapshot:{type:'list'}}}});api.snapshot.prototype.getRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},local:{type:'boolean'}},urls:[{fmt:'/_snapshot/<%=repository%>',req:{repository:{type:'list'}}},{fmt:'/_snapshot'}]});api.snapshot.prototype.restore=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},waitForCompletion:{type:'boolean','default':false,name:'wait_for_completion'}},url:{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_restore',req:{repository:{type:'string'},snapshot:{type:'string'}}},method:'POST'});api.snapshot.prototype.status=ca({params:{masterTimeout:{type:'time',name:'master_timeout'}},urls:[{fmt:'/_snapshot/<%=repository%>/<%=snapshot%>/_status',req:{repository:{type:'string'},snapshot:{type:'list'}}},{fmt:'/_snapshot/<%=repository%>/_status',req:{repository:{type:'string'}}},{fmt:'/_snapshot/_status'}]});api.snapshot.prototype.verifyRepository=ca({params:{masterTimeout:{type:'time',name:'master_timeout'},timeout:{type:'time'}},url:{fmt:'/_snapshot/<%=repository%>/_verify',req:{repository:{type:'string'}}},method:'POST'});api.suggest=ca({params:{ignoreUnavailable:{type:'boolean',name:'ignore_unavailable'},allowNoIndices:{type:'boolean',name:'allow_no_indices'},expandWildcards:{type:'enum','default':'open',options:['open','closed','none','all'],name:'expand_wildcards'},preference:{type:'string'},routing:{type:'string'}},urls:[{fmt:'/<%=index%>/_suggest',req:{index:{type:'list'}}},{fmt:'/_suggest'}],needBody:true,method:'POST'});api.termvector=ca({params:{termStatistics:{type:'boolean','default':false,required:false,name:'term_statistics'},fieldStatistics:{type:'boolean','default':true,required:false,name:'field_statistics'},fields:{type:'list',required:false},offsets:{type:'boolean','default':true,required:false},positions:{type:'boolean','default':true,required:false},payloads:{type:'boolean','default':true,required:false},preference:{type:'string',required:false},routing:{type:'string',required:false},parent:{type:'string',required:false},realtime:{type:'boolean',required:false}},urls:[{fmt:'/<%=index%>/<%=type%>/<%=id%>/_termvector',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},{fmt:'/<%=index%>/<%=type%>/_termvector',req:{index:{type:'string'},type:{type:'string'}}}],method:'POST'});api.update=ca({params:{consistency:{type:'enum',options:['one','quorum','all']},fields:{type:'list'},lang:{type:'string'},parent:{type:'string'},refresh:{type:'boolean'},replication:{type:'enum','default':'sync',options:['sync','async']},retryOnConflict:{type:'number',name:'retry_on_conflict'},routing:{type:'string'},script:{},scriptId:{name:'script_id'},scriptedUpsert:{type:'boolean',name:'scripted_upsert'},timeout:{type:'time'},timestamp:{type:'time'},ttl:{type:'duration'},version:{type:'number'},versionType:{type:'enum',options:['internal','force'],name:'version_type'}},url:{fmt:'/<%=index%>/<%=type%>/<%=id%>/_update',req:{index:{type:'string'},type:{type:'string'},id:{type:'string'}}},method:'POST'});api.create=ca.proxy(api.index,{transform:function(params){params.op_type='create';}});},{"../client_action":22,"../utils":42}],20:[function(require,module,exports){module.exports={'1.6':require('./1_6'),'1.5':require('./1_5'),'1.4':require('./1_4')};},{"./1_4":17,"./1_5":18,"./1_6":19}],21:[function(require,module,exports){module.exports=Client;var Transport=require('./transport');var clientAction=require('./client_action');var _=require('./utils');function Client(config){config=config||{};if(config.__reused){throw new Error('Do not reuse objects to configure the elasticsearch Client class: '+'https://github.com/elasticsearch/elasticsearch-js/issues/33');}else{config.__reused=true;}
function EsApiClient(){if(!config.hasOwnProperty('log')){config.log='warning';}
if(!config.hosts&&!config.host){config.host='http://localhost:9200';}
this.close=function(){this.transport.close();};this.transport=new Transport(config);_.each(EsApiClient.prototype,function(Fn,prop){if(Fn.prototype instanceof clientAction.ApiNamespace){this[prop]=new Fn(this.transport);}},this);delete this._namespaces;}
EsApiClient.prototype=_.funcEnum(config,'apiVersion',Client.apis,'1.6');if(!config.sniffEndpoint&&EsApiClient.prototype===Client.apis['0.90']){config.sniffEndpoint='/_cluster/nodes';}
var Constructor=EsApiClient;if(config.plugins){Constructor.prototype=_.cloneDeep(Constructor.prototype);_.each(config.plugins,function(setup){Constructor=setup(Constructor,config,{apis:require('./apis'),connectors:require('./connectors'),loggers:require('./loggers'),selectors:require('./selectors'),serializers:require('./serializers'),Client:require('./client'),clientAction:clientAction,Connection:require('./connection'),ConnectionPool:require('./connection_pool'),Errors:require('./errors'),Host:require('./host'),Log:require('./log'),Logger:require('./logger'),NodesToHost:require('./nodes_to_host'),Transport:require('./transport'),utils:require('./utils')})||Constructor;});}
return new Constructor();}
Client.apis=require('./apis');},{"./apis":20,"./client":21,"./client_action":22,"./connection":23,"./connection_pool":24,"./connectors":25,"./errors":27,"./host":28,"./log":29,"./logger":30,"./loggers":31,"./nodes_to_host":33,"./selectors":34,"./serializers":38,"./transport":40,"./utils":42}],22:[function(require,module,exports){var _=require('./utils');exports.makeFactoryWithModifier=makeFactoryWithModifier;exports.factory=makeFactoryWithModifier();exports.proxyFactory=exports.factory.proxy;exports._resolveUrl=resolveUrl;exports.ApiNamespace=function(){};exports.namespaceFactory=function(){function ClientNamespace(transport){this.transport=transport;}
ClientNamespace.prototype=new exports.ApiNamespace();return ClientNamespace;};function makeFactoryWithModifier(modifier){modifier=modifier||_.identity;var factory=function(spec){spec=modifier(spec);if(!_.isPlainObject(spec.params)){spec.params={};}
if(!spec.method){spec.method='GET';}
function action(params,cb){if(typeof params==='function'){cb=params;params={};}else{params=params||{};cb=typeof cb==='function'?cb:null;}
try{return exec(this.transport,spec,_.clone(params),cb);}catch(e){if(typeof cb==='function'){_.nextTick(cb,e);}else{var def=this.transport.defer();def.reject(e);return def.promise;}}}
action.spec=spec;return action;};factory.proxy=function(fn,spec){return function(params,cb){if(typeof params==='function'){cb=params;params={};}else{params=params||{};cb=typeof cb==='function'?cb:null;}
if(spec.transform){spec.transform(params);}
return fn.call(this,params,cb);};};return factory;}
var castType={'enum':function validSelection(param,val,name){if(_.isString(val)&&val.indexOf(',')>-1){val=commaSepList(val);}
if(_.isArray(val)){return val.map(function(v){return validSelection(param,v,name);}).join(',');}
for(var i=0;i<param.options.length;i++){if(param.options[i]==val){return param.options[i];}}
throw new TypeError('Invalid '+name+': expected '+(param.options.length>1?'one of '+param.options.join(','):param.options[0]));},duration:function(param,val,name){if(_.isNumeric(val)||_.isInterval(val)){return val;}else{throw new TypeError('Invalid '+name+': expected a number or interval '+'(an integer followed by one of Mwdhmsy).');}},list:function(param,val,name){switch(typeof val){case'number':case'boolean':return''+val;case'string':val=commaSepList(val);case'object':if(_.isArray(val)){return val.join(',');}
default:throw new TypeError('Invalid '+name+': expected be a comma seperated list, array, number or string.');}},'boolean':function(param,val){val=_.isString(val)?val.toLowerCase():val;return(val==='no'||val==='off')?false:!!val;},number:function(param,val,name){if(_.isNumeric(val)){return val*1;}else{throw new TypeError('Invalid '+name+': expected a number.');}},string:function(param,val,name){switch(typeof val){case'number':case'string':return''+val;default:throw new TypeError('Invalid '+name+': expected a string.');}},time:function(param,val,name){if(typeof val==='string'){return val;}
else if(_.isNumeric(val)){return''+val;}
else if(val instanceof Date){return''+val.getTime();}
else{throw new TypeError('Invalid '+name+': expected some sort of time.');}}};function resolveUrl(url,params){var vars={},i,key;if(url.req){if(!url.reqParamKeys){url.reqParamKeys=_.keys(url.req);}
for(i=0;i<url.reqParamKeys.length;i++){key=url.reqParamKeys[i];if(!params.hasOwnProperty(key)||params[key]==null){return false;}else{if(castType[url.req[key].type]){vars[key]=castType[url.req[key].type](url.req[key],params[key],key);}else{vars[key]=params[key];}}}}
if(url.opt){if(!url.optParamKeys){url.optParamKeys=_.keys(url.opt);}
for(i=0;i<url.optParamKeys.length;i++){key=url.optParamKeys[i];if(params[key]){if(castType[url.opt[key].type]||params[key]==null){vars[key]=castType[url.opt[key].type](url.opt[key],params[key],key);}else{vars[key]=params[key];}}else{vars[key]=url.opt[key]['default'];}}}
if(!url.template){url.template=_.template(url.fmt);}
return url.template(_.transform(vars,function(note,val,name){note[name]=encodeURIComponent(val);delete params[name];},{}));}
function exec(transport,spec,params,cb){var request={method:spec.method};var query={};var i;if(spec.requestTimeout){request.requestTimeout=spec.requestTimeout;}
if(!params.body&&spec.paramAsBody){params.body=params[spec.paramAsBody];delete params[spec.paramAsBody];}
if(spec.needsBody&&!params.body){throw new TypeError('A request body is required.');}
if(spec.bulkBody){request.bulkBody=true;}
if(spec.method==='HEAD'){request.castExists=true;}
if(spec.url){request.path=resolveUrl(spec.url,params);}else{for(i=0;i<spec.urls.length;i++){if(request.path=resolveUrl(spec.urls[i],params)){break;}}}
if(!request.path){var minUrl=spec.url||spec.urls[spec.urls.length-1];throw new TypeError('Unable to build a path with those params. Supply at least '+_.keys(minUrl.req).join(', '));}
if(!spec.paramKeys){spec.paramKeys=_.keys(spec.params);spec.requireParamKeys=_.transform(spec.params,function(req,param,key){if(param.required){req.push(key);}},[]);}
for(var key in params){if(params.hasOwnProperty(key)&&params[key]!=null){switch(key){case'body':case'requestTimeout':case'maxRetries':request[key]=params[key];break;case'ignore':request.ignore=_.isArray(params[key])?params[key]:[params[key]];break;case'method':request.method=_.toUpperString(params[key]);break;default:var paramSpec=spec.params[key];if(paramSpec){paramSpec.name=paramSpec.name||key;if(params[key]!=null){if(castType[paramSpec.type]){query[paramSpec.name]=castType[paramSpec.type](paramSpec,params[key],key);}else{query[paramSpec.name]=params[key];}
if(paramSpec['default']&&query[paramSpec.name]===paramSpec['default']){delete query[paramSpec.name];}}}else{query[key]=params[key];}}}}
for(i=0;i<spec.requireParamKeys.length;i++){if(!query.hasOwnProperty(spec.requireParamKeys[i])){throw new TypeError('Missing required parameter '+spec.requireParamKeys[i]);}}
request.query=query;return transport.request(request,cb);}
function commaSepList(str){return str.split(',').map(function(i){return i.trim();});}},{"./utils":42}],23:[function(require,module,exports){module.exports=ConnectionAbstract;var _=require('./utils');var EventEmitter=require('events').EventEmitter;var Log=require('./log');var Host=require('./host');var errors=require('./errors');function ConnectionAbstract(host,config){config=config||{};EventEmitter.call(this);this.log=config.log||new Log();this.pingTimeout=config.pingTimeout||3000;if(!host){throw new TypeError('Missing host');}else if(host instanceof Host){this.host=host;}else{throw new TypeError('Invalid host');}
_.makeBoundMethods(this);}
_.inherits(ConnectionAbstract,EventEmitter);ConnectionAbstract.prototype.request=function(){throw new Error('Connection#request must be overwritten by the Connector');};ConnectionAbstract.prototype.ping=function(params,cb){if(typeof params==='function'){cb=params;params=null;}else{cb=typeof cb==='function'?cb:null;}
var requestTimeout=this.pingTimeout;var requestTimeoutId;var aborted;var abort;if(params&&params.hasOwnProperty('requestTimeout')){requestTimeout=params.requestTimeout;}
abort=this.request(_.defaults(params||{},{path:'/',method:'HEAD'}),function(err){if(aborted){return;}
clearTimeout(requestTimeoutId);if(cb){cb(err);}});if(requestTimeout){requestTimeoutId=setTimeout(function(){if(abort){abort();}
aborted=true;if(cb){cb(new errors.RequestTimeout('Ping Timeout after '+requestTimeout+'ms'));}},requestTimeout);}};ConnectionAbstract.prototype.setStatus=function(status){var origStatus=this.status;this.status=status;this.emit('status set',status,origStatus,this);if(status==='closed'){this.removeAllListeners();}};},{"./errors":27,"./host":28,"./log":29,"./utils":42,"events":5}],24:[function(require,module,exports){var process=require("__browserify_process");module.exports=ConnectionPool;var _=require('./utils');var Log=require('./log');function ConnectionPool(config){config=config||{};_.makeBoundMethods(this);if(!config.log){this.log=new Log();config.log=this.log;}else{this.log=config.log;}
this._config=config;this.selector=_.funcEnum(config,'selector',ConnectionPool.selectors,ConnectionPool.defaultSelector);this.Connection=_.funcEnum(config,'connectionClass',ConnectionPool.connectionClasses,ConnectionPool.defaultConnectionClass);this.deadTimeout=config.hasOwnProperty('deadTimeout')?config.deadTimeout:60000;this.maxDeadTimeout=config.hasOwnProperty('maxDeadTimeout')?config.maxDeadTimeout:18e5;this.calcDeadTimeout=_.funcEnum(config,'calcDeadTimeout',ConnectionPool.calcDeadTimeoutOptions,'exponential');this.index={};this._conns={alive:[],dead:[]};this._timeouts=[];}
ConnectionPool.selectors=require('./selectors');ConnectionPool.defaultSelector='roundRobin';ConnectionPool.connectionClasses=require('./connectors');ConnectionPool.defaultConnectionClass=ConnectionPool.connectionClasses._default;delete ConnectionPool.connectionClasses._default;ConnectionPool.calcDeadTimeoutOptions={flat:function(attempt,baseTimeout){return baseTimeout;},exponential:function(attempt,baseTimeout){return Math.min(baseTimeout*2*Math.pow(2,(attempt*0.5-1)),this.maxDeadTimeout);}};ConnectionPool.prototype.select=function(cb){if(this._conns.alive.length){if(this.selector.length>1){this.selector(this._conns.alive,cb);}else{try{_.nextTick(cb,void 0,this.selector(this._conns.alive));}catch(e){cb(e);}}}else if(this._timeouts.length){this._selectDeadConnection(cb);}else{_.nextTick(cb,void 0);}};ConnectionPool.prototype.onStatusSet=_.handler(function(status,oldStatus,connection){var index;var died=(status==='dead');var wasAlreadyDead=(died&&oldStatus==='dead');var revived=(!died&&oldStatus==='dead');var noChange=(oldStatus===status);var from=this._conns[oldStatus];var to=this._conns[status];if(noChange&&!died){return true;}
if(from!==to){if(_.isArray(from)){index=from.indexOf(connection);if(index!==-1){from.splice(index,1);}}
if(_.isArray(to)){index=to.indexOf(connection);if(index===-1){to.push(connection);}}}
if(died){this._onConnectionDied(connection,wasAlreadyDead);}
if(revived){this._onConnectionRevived(connection);}});ConnectionPool.prototype._onConnectionRevived=function(connection){var timeout;for(var i=0;i<this._timeouts.length;i++){if(this._timeouts[i].conn===connection){timeout=this._timeouts[i];if(timeout.id){clearTimeout(timeout.id);}
this._timeouts.splice(i,1);break;}}};ConnectionPool.prototype._onConnectionDied=function(connection,alreadyWasDead){var timeout;if(alreadyWasDead){for(var i=0;i<this._timeouts.length;i++){if(this._timeouts[i].conn===connection){timeout=this._timeouts[i];break;}}}else{timeout={conn:connection,attempt:0,revive:function(cb){timeout.attempt++;connection.ping(function(err){connection.setStatus(err?'dead':'alive');if(cb&&typeof cb==='function'){cb(err);}});}};this._timeouts.push(timeout);}
if(timeout.id){clearTimeout(timeout.id);}
var ms=this.calcDeadTimeout(timeout.attempt,this.deadTimeout);timeout.id=setTimeout(timeout.revive,ms);timeout.runAt=_.now()+ms;};ConnectionPool.prototype._selectDeadConnection=function(cb){var orderedTimeouts=_.sortBy(this._timeouts,'runAt');var log=this.log;process.nextTick(function next(){var timeout=orderedTimeouts.shift();if(!timeout){cb(void 0);return;}
if(!timeout.conn){next();return;}
if(timeout.conn.status==='dead'){timeout.revive(function(err){if(err){log.warning('Unable to revive connection: '+timeout.conn.id);process.nextTick(next);}else{cb(void 0,timeout.conn);}});}else{cb(void 0,timeout.conn);}});};ConnectionPool.prototype.getConnections=function(status,limit){var list;if(status){list=this._conns[status];}else{list=this._conns[this._conns.alive.length?'alive':'dead'];}
if(limit==null){return list.slice(0);}else{return _.shuffle(list).slice(0,limit);}};ConnectionPool.prototype.addConnection=function(connection){if(!connection.id){connection.id=connection.host.toString();}
if(!this.index[connection.id]){this.log.info('Adding connection to',connection.id);this.index[connection.id]=connection;connection.on('status set',this.bound.onStatusSet);connection.setStatus('alive');}};ConnectionPool.prototype.removeConnection=function(connection){if(!connection.id){connection.id=connection.host.toString();}
if(this.index[connection.id]){delete this.index[connection.id];connection.setStatus('closed');connection.removeListener('status set',this.bound.onStatusSet);}};ConnectionPool.prototype.setHosts=function(hosts){var connection;var i;var id;var host;var toRemove=_.clone(this.index);for(i=0;i<hosts.length;i++){host=hosts[i];id=host.toString();if(this.index[id]){delete toRemove[id];}else{connection=new this.Connection(host,this._config);connection.id=id;this.addConnection(connection);}}
var removeIds=_.keys(toRemove);for(i=0;i<removeIds.length;i++){this.removeConnection(this.index[removeIds[i]]);}};ConnectionPool.prototype.close=function(){this.setHosts([]);};ConnectionPool.prototype.empty=ConnectionPool.prototype.close;},{"./connectors":25,"./log":29,"./selectors":34,"./utils":42,"__browserify_process":14}],25:[function(require,module,exports){var opts={xhr:require('./xhr'),jquery:require('./jquery'),angular:require('./angular')};var _=require('../utils');_.each(opts,function(conn,name){if(typeof conn!=='function'){delete opts[name];}});if(opts.xhr){opts._default='xhr';}else if(opts.angular){opts._default='angular';}else{opts._default='jquery';}
module.exports=opts;},{"../utils":42,"./angular":2,"./jquery":2,"./xhr":26}],26:[function(require,module,exports){module.exports=XhrConnector;var _=require('../utils');var ConnectionAbstract=require('../connection');var ConnectionFault=require('../errors').ConnectionFault;var asyncDefault=!(navigator&&/PhantomJS/i.test(navigator.userAgent));function XhrConnector(host,config){ConnectionAbstract.call(this,host,config);}
_.inherits(XhrConnector,ConnectionAbstract);var getXhr=_.noop;if(typeof XMLHttpRequest!=='undefined'){getXhr=function(){return new XMLHttpRequest();};}else{getXhr=_(['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0']).map(function(appName){try{var test=new window.ActiveXObject(appName);return function(){return new window.ActiveXObject(appName);};}catch(e){return false;}}).compact().first();}
if(!getXhr){throw new Error('getXhr(): XMLHttpRequest not available');}
XhrConnector.prototype.request=function(params,cb){var xhr=getXhr();var timeoutId;var host=this.host;var log=this.log;var url=host.makeUrl(params);var headers=host.getHeaders(params.headers);var async=params.async===false?false:asyncDefault;xhr.open(params.method||'GET',url,async);if(headers){for(var key in headers){if(headers[key]!==void 0){xhr.setRequestHeader(key,headers[key]);}}}
xhr.onreadystatechange=function(){if(xhr.readyState===4){clearTimeout(timeoutId);log.trace(params.method,url,params.body,xhr.responseText,xhr.status);var err=xhr.status?void 0:new ConnectionFault(xhr.statusText||'Request failed to complete.');cb(err,xhr.responseText,xhr.status);}};xhr.send(params.body||void 0);return function(){xhr.abort();};};},{"../connection":23,"../errors":27,"../utils":42}],27:[function(require,module,exports){var _=require('./utils');var errors=module.exports;var canCapture=(typeof Error.captureStackTrace==='function');var canStack=!!(new Error()).stack;function ErrorAbstract(msg,constructor){this.message=msg;Error.call(this,this.message);if(canCapture){Error.captureStackTrace(this,constructor);}
else if(canStack){this.stack=(new Error()).stack;}
else{this.stack='';}}
errors._Abstract=ErrorAbstract;_.inherits(ErrorAbstract,Error);errors.ConnectionFault=function ConnectionFault(msg){ErrorAbstract.call(this,msg||'Connection Failure',errors.ConnectionFault);};_.inherits(errors.ConnectionFault,ErrorAbstract);errors.NoConnections=function NoConnections(msg){ErrorAbstract.call(this,msg||'No Living connections',errors.NoConnections);};_.inherits(errors.NoConnections,ErrorAbstract);errors.Generic=function Generic(msg){ErrorAbstract.call(this,msg||'Generic Error',errors.Generic);};_.inherits(errors.Generic,ErrorAbstract);errors.RequestTimeout=function RequestTimeout(msg){ErrorAbstract.call(this,msg||'Request Timeout',errors.RequestTimeout);};_.inherits(errors.RequestTimeout,ErrorAbstract);errors.Serialization=function Serialization(msg){ErrorAbstract.call(this,msg||'Unable to parse/serialize body',errors.Serialization);};_.inherits(errors.Serialization,ErrorAbstract);errors.RequestTypeError=function RequestTypeError(feature){ErrorAbstract.call(this,'Cross-domain AJAX requests '+feature+' are not supported',errors.RequestTypeError);};_.inherits(errors.RequestTypeError,ErrorAbstract);var statusCodes={504:'Gateway Timeout',503:'Service Unavailable',502:'Bad Gateway',500:'Internal Server Error',412:'Precondition Failed',409:'Conflict',403:'Authorization Exception',404:'Not Found',401:'Authentication Exception',400:'Bad Request',301:'Moved Permanently'};_.each(statusCodes,function(name,status){var className=_.studlyCase(name);function StatusCodeError(msg){if(typeof msg==='object'){msg=_.reduce(msg.root_cause,function(msg,cause){if(msg)msg+=' (and) ';msg+='['+cause.type+'] '+cause.reason;return msg;},'')||msg.reason;}
this.status=status;ErrorAbstract.call(this,msg||name,StatusCodeError);}
_.inherits(StatusCodeError,ErrorAbstract);errors[className]=StatusCodeError;errors[status]=StatusCodeError;});},{"./utils":42}],28:[function(require,module,exports){var Buffer=require("__browserify_Buffer").Buffer;module.exports=Host;var url=require('url');var qs=require('querystring');var _=require('./utils');var startsWithProtocolRE=/^([a-z]+:)?\/\//;var defaultProto='http:';var btoa;if(typeof window!=='undefined'){defaultProto=window.location.protocol;btoa=window.btoa;}
btoa=btoa||function(data){return(new Buffer(data,'utf8')).toString('base64');};var urlParseFields=['protocol','hostname','pathname','port','auth','query'];var simplify=['host','path'];var sslDefaults={pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:false,secureProtocol:null};Host.defaultPorts={http:80,https:443};function Host(config,globalConfig){config=_.clone(config||{});globalConfig=globalConfig||{};this.protocol='http';this.host='localhost';this.path='';this.port=9200;this.query=null;this.headers=null;this.suggestCompression=!!globalConfig.suggestCompression;this.ssl=_.defaults({},config.ssl||{},globalConfig.ssl||{},sslDefaults);if(typeof config==='string'){var firstColon=config.indexOf(':');var firstSlash=config.indexOf('/');var noSlash=firstSlash===-1;var portNoPath=firstColon>-1&&noSlash;var portWithPath=!portNoPath&&firstColon<firstSlash;if((noSlash||portNoPath||portWithPath)&&!startsWithProtocolRE.test(config)){config=defaultProto+'//'+config;}
config=_.pick(url.parse(config,false,true),urlParseFields);if(!config.port){var proto=config.protocol||'http';if(proto.charAt(proto.length-1)===':'){proto=proto.substring(0,proto.length-1);}
if(Host.defaultPorts[proto]){config.port=Host.defaultPorts[proto];}}}
if(_.isObject(config)){_.each(simplify,function(to){var from=to+'name';if(config[from]&&config[to]){if(config[to].indexOf(config[from])===0){config[to]=config[from];}}else if(config[from]){config[to]=config[from];}
delete config[from];});}else{config={};}
if(config.auth){config.headers=config.headers||{};config.headers.Authorization='Basic '+btoa(config.auth);delete config.auth;}
_.forOwn(config,function(val,prop){if(val!=null)this[prop]=_.clone(val);},this);if(this.query===null){this.query={};}else if(!_.isPlainObject(this.query)){this.query=qs.parse(this.query);}
if(_.isNumeric(this.port)){this.port=parseInt(this.port,10);}else{this.port=9200;}
if(this.path==='/'){this.path='';}else if(this.path&&this.path.charAt(0)!=='/'){this.path='/'+(this.path||'');}
if(this.protocol.substr(-1)===':'){this.protocol=this.protocol.substring(0,this.protocol.length-1);}}
Host.prototype.makeUrl=function(params){params=params||{};var port='';if(this.port!==Host.defaultPorts[this.protocol]){port=':'+this.port;}
var path=''+(this.path||'')+(params.path||'');if(path.charAt(0)!=='/'){path='/'+path;}
var query=qs.stringify(this.getQuery(params.query));if(this.host){return this.protocol+'://'+this.host+port+path+(query?'?'+query:'');}else{return path+(query?'?'+query:'');}};function objectPropertyGetter(prop,preOverride){return function(overrides){if(preOverride){overrides=preOverride.call(this,overrides);}
var obj=this[prop];if(!obj&&!overrides){return null;}
if(overrides){obj=_.assign({},obj,overrides);}
return _.size(obj)?obj:null;};}
Host.prototype.getHeaders=objectPropertyGetter('headers',function(overrides){if(!this.suggestCompression){return overrides;}
return _.defaults(overrides||{},{'Accept-Encoding':'gzip,deflate'});});Host.prototype.getQuery=objectPropertyGetter('query',function(query){return typeof query==='string'?qs.parse(query):query;});Host.prototype.toString=function(){return this.makeUrl();};},{"./utils":42,"__browserify_Buffer":13,"querystring":7,"url":8}],29:[function(require,module,exports){var process=require("__browserify_process");var _=require('./utils');var url=require('url');var EventEmitter=require('events').EventEmitter;function Log(config){config=config||{};var i;var outputs;if(config.log){if(_.isArrayOfStrings(config.log)){outputs=[{levels:config.log}];}else{outputs=_.createArray(config.log,function(val){if(_.isPlainObject(val)){return val;}
if(typeof val==='string'){return{level:val};}});}
if(!outputs){throw new TypeError('Invalid logging output config. Expected either a log level, array of log levels, '+'a logger config object, or an array of logger config objects.');}
for(i=0;i<outputs.length;i++){this.addOutput(outputs[i]);}}}
_.inherits(Log,EventEmitter);Log.loggers=require('./loggers');Log.prototype.close=function(){this.emit('closing');if(this.listenerCount()){console.error('Something is still listening for log events, but the logger is closing.');this.clearAllListeners();}};Log.prototype.listenerCount=function(event){if(EventEmitter.listenerCount){return EventEmitter.listenerCount(this,event);}else{return this.listeners(event).length;}};Log.levels=['error','warning','info','debug','trace'];Log.parseLevels=function(input){switch(typeof input){case'string':var i=_.indexOf(Log.levels,input);if(i>=0){return Log.levels.slice(0,i+1);}
case'object':if(_.isArray(input)){var valid=_.intersection(input,Log.levels);if(valid.length===input.length){return valid;}}
default:throw new TypeError('invalid logging level '+input+'. Expected zero or more of these options: '+
Log.levels.join(', '));}};Log.join=function(arrayish){return _.map(arrayish,function(item){if(_.isPlainObject(item)){return _.inspect(item)+'\n';}else{return item.toString();}}).join(' ');};Log.prototype.addOutput=function(config){config=config||{};config.levels=Log.parseLevels(config.levels||config.level||'warning');delete config.level;var Logger=_.funcEnum(config,'type',Log.loggers,process.browser?'console':'stdio');return new Logger(this,config);};Log.prototype.error=function(e){if(this.listenerCount('error')){return this.emit('error',e instanceof Error?e:new Error(e));}};Log.prototype.warning=function(){if(this.listenerCount('warning')){return this.emit('warning',Log.join(arguments));}};Log.prototype.info=function(){if(this.listenerCount('info')){return this.emit('info',Log.join(arguments));}};Log.prototype.debug=function(){if(this.listenerCount('debug')){return this.emit('debug',Log.join(arguments));}};Log.prototype.trace=function(method,requestUrl,body,responseBody,responseStatus){if(this.listenerCount('trace')){return this.emit('trace',Log.normalizeTraceArgs(method,requestUrl,body,responseBody,responseStatus));}};Log.normalizeTraceArgs=function(method,requestUrl,body,responseBody,responseStatus){if(typeof requestUrl==='string'){requestUrl=url.parse(requestUrl,true,true);}else{requestUrl=_.clone(requestUrl);if(requestUrl.path){requestUrl.query=url.parse(requestUrl.path,true,false).query;}
if(!requestUrl.pathname&&requestUrl.path){requestUrl.pathname=requestUrl.path.split('?').shift();}}
delete requestUrl.auth;return{method:method,url:url.format(requestUrl),body:body,status:responseStatus,response:responseBody};};module.exports=Log;},{"./loggers":31,"./utils":42,"__browserify_process":14,"events":5,"url":8}],30:[function(require,module,exports){var _=require('./utils');function LoggerAbstract(log,config){this.log=log;this.listeningLevels=[];_.makeBoundMethods(this);this.log.once('closing',this.bound.cleanUpListeners);this.setupListeners(config.levels);}
function padNumToTen(n){return n<10?'0'+n.toString(10):n.toString(10);}
LoggerAbstract.prototype.timestamp=function(){var d=new Date();return d.getUTCFullYear()+'-'+
padNumToTen(d.getUTCMonth()+1)+'-'+
padNumToTen(d.getUTCDate())+'T'+
padNumToTen(d.getUTCHours())+':'+
padNumToTen(d.getUTCMinutes())+':'+
padNumToTen(d.getUTCSeconds())+'Z';};function indent(text,spaces){var space=_.repeat(' ',spaces||2);return(text||'').split(/\r?\n/).map(function(line){return space+line;}).join('\n');}
LoggerAbstract.prototype.format=function(label,message){return label+': '+this.timestamp()+'\n'+indent(message)+'\n\n';};LoggerAbstract.prototype.write=function(){throw new Error('This should be overwritten by the logger');};LoggerAbstract.prototype.setupListeners=function(levels){this.cleanUpListeners();this.listeningLevels=[];_.each(levels,function(level){var fnName='on'+_.ucfirst(level);if(this.bound[fnName]){this.listeningLevels.push(level);this.log.on(level,this.bound[fnName]);}else{throw new Error('Unable to listen for level "'+level+'"');}},this);};LoggerAbstract.prototype.cleanUpListeners=_.handler(function(){_.each(this.listeningLevels,function(level){this.log.removeListener(level,this.bound['on'+_.ucfirst(level)]);},this);});LoggerAbstract.prototype.onError=_.handler(function(e){this.write((e.name==='Error'?'ERROR':e.name),e.stack);});LoggerAbstract.prototype.onWarning=_.handler(function(msg){this.write('WARNING',msg);});LoggerAbstract.prototype.onInfo=_.handler(function(msg){this.write('INFO',msg);});LoggerAbstract.prototype.onDebug=_.handler(function(msg){this.write('DEBUG',msg);});LoggerAbstract.prototype.onTrace=_.handler(function(requestDetails){this.write('TRACE',this._formatTraceMessage(requestDetails));});LoggerAbstract.prototype._formatTraceMessage=function(req){return'-> '+req.method+' '+req.url+'\n'+
this._prettyJson(req.body)+'\n'+'<- '+req.status+'\n'+
this._prettyJson(req.response);};LoggerAbstract.prototype._prettyJson=function(body){try{if(typeof body==='string'){body=JSON.parse(body);}
return JSON.stringify(body,null,'  ').replace(/'/g,'\\u0027');}catch(e){return typeof body==='string'?body:'';}};module.exports=LoggerAbstract;},{"./utils":42}],31:[function(require,module,exports){module.exports={console:require('./console')};},{"./console":32}],32:[function(require,module,exports){module.exports=Console;var LoggerAbstract=require('../logger');var _=require('../utils');function Console(log,config){LoggerAbstract.call(this,log,config);this.color=_.has(config,'color')?!!config.color:true;}
_.inherits(Console,LoggerAbstract);Console.prototype.setupListeners=function(levels){LoggerAbstract.prototype.setupListeners.call(this,levels);};Console.prototype.write=function(label,message,to){if(console[to]){console[to](this.format(label,message));}};Console.prototype.onError=_.handler(function(e){var to=console.error?'error':'log';this.write(e.name==='Error'?'ERROR':e.name,e.stack||e.message,to);});Console.prototype.onWarning=_.handler(function(msg){this.write('WARNING',msg,console.warn?'warn':'log');});Console.prototype.onInfo=_.handler(function(msg){this.write('INFO',msg,console.info?'info':'log');});Console.prototype.onDebug=_.handler(function(msg){this.write('DEBUG',msg,console.debug?'debug':'log');});Console.prototype.onTrace=_.handler(function(msg){this.write('TRACE',this._formatTraceMessage(msg),'log');});},{"../logger":30,"../utils":42}],33:[function(require,module,exports){var _=require('./utils');var extractHostPartsRE=/\[\/*([^:]+):(\d+)\]/;function makeNodeParser(hostProp){return function(nodes){return _.transform(nodes,function(hosts,node,id){if(!node[hostProp]){return;}
var hostnameMatches=extractHostPartsRE.exec(node[hostProp]);if(!hostnameMatches){throw new Error('node\'s '+hostProp+' property ('+JSON.stringify(node[hostProp])+') does not match the expected pattern '+extractHostPartsRE+'.');}
hosts.push({host:hostnameMatches[1],port:parseInt(hostnameMatches[2],10),_meta:{id:id,name:node.name,hostname:node.hostname,version:node.version}});},[]);};}
module.exports=makeNodeParser('http_address');module.exports.thrift=makeNodeParser('transport_address');},{"./utils":42}],34:[function(require,module,exports){module.exports={random:require('./random'),roundRobin:require('./round_robin')};},{"./random":35,"./round_robin":36}],35:[function(require,module,exports){module.exports=function RandomSelector(connections){return connections[Math.floor(Math.random()*connections.length)];};},{}],36:[function(require,module,exports){module.exports=function(connections){var connection=connections[0];connections.push(connections.shift());return connection;};},{}],37:[function(require,module,exports){var _=require('../utils');var JsonSerializer=require('../serializers/json');function AngularSerializer(){}
_.inherits(AngularSerializer,JsonSerializer);AngularSerializer.prototype.encode=function(val){switch(typeof val){case'string':return val;case'object':if(val)return angular.toJson(val);default:return;}};module.exports=AngularSerializer;},{"../serializers/json":39,"../utils":42}],38:[function(require,module,exports){module.exports={angular:require('./angular'),json:require('./json')};},{"./angular":37,"./json":39}],39:[function(require,module,exports){module.exports=Json;var _=require('../utils');function Json(){}
Json.prototype.serialize=function(val,replacer,spaces){switch(typeof val){case'string':return val;case'object':if(val){return JSON.stringify(val,replacer,spaces);}
default:return;}};Json.prototype.deserialize=function(str){if(typeof str==='string'){try{return JSON.parse(str);}catch(e){}}};Json.prototype.bulkBody=function(val){var body='',i;if(_.isArray(val)){for(i=0;i<val.length;i++){body+=this.serialize(val[i])+'\n';}}else if(typeof val==='string'){body=val+(val[val.length-1]==='\n'?'':'\n');}else{throw new TypeError('Bulk body should either be an Array of commands/string, or a String');}
return body;};},{"../utils":42}],40:[function(require,module,exports){module.exports=Transport;var _=require('./utils');var errors=require('./errors');var Host=require('./host');var Promise=require('bluebird');var patchSniffOnConnectionFault=require('./transport/sniff_on_connection_fault');function Transport(config){var self=this;config=self._config=config||{};var LogClass=(typeof config.log==='function')?config.log:require('./log');config.log=self.log=new LogClass(config);var ConnectionPool=_.funcEnum(config,'connectionPool',Transport.connectionPools,'main');self.connectionPool=new ConnectionPool(config);var Serializer=_.funcEnum(config,'serializer',Transport.serializers,'json');self.serializer=new Serializer(config);self.nodesToHostCallback=_.funcEnum(config,'nodesToHostCallback',Transport.nodesToHostCallbacks,'main');self.maxRetries=config.hasOwnProperty('maxRetries')?config.maxRetries:3;self.sniffEndpoint=config.hasOwnProperty('sniffEndpoint')?config.sniffEndpoint:'/_nodes/_all/clear';self.requestTimeout=config.hasOwnProperty('requestTimeout')?config.requestTimeout:30000;if(config.hasOwnProperty('defer')){self.defer=config.defer;}
var randomizeHosts=config.hasOwnProperty('randomizeHosts')?!!config.randomizeHosts:true;if(config.host){config.hosts=config.host;}
if(config.hosts){var hostsConfig=_.createArray(config.hosts,function(val){if(_.isPlainObject(val)||_.isString(val)||val instanceof Host){return val;}});if(!hostsConfig){throw new TypeError('Invalid hosts config. Expected a URL, an array of urls, a host config object, '+'or an array of host config objects.');}
var hosts=_.map(hostsConfig,function(conf){return(conf instanceof Host)?conf:new Host(conf,self._config);});if(randomizeHosts){hosts=_.shuffle(hosts);}
self.connectionPool.setHosts(hosts);}
if(config.sniffOnStart){self.sniff();}
if(config.sniffInterval){self._timeout(function doSniff(){self.sniff();self._timeout(doSniff,config.sniffInterval);},config.sniffInterval);}
if(config.sniffOnConnectionFault){patchSniffOnConnectionFault(self);}}
Transport.connectionPools={main:require('./connection_pool')};Transport.serializers=require('./serializers');Transport.nodesToHostCallbacks={main:require('./nodes_to_host')};Transport.prototype.defer=function(){return Promise.defer();};Transport.prototype.request=function(params,cb){var self=this;var remainingRetries=this.maxRetries;var requestTimeout=this.requestTimeout;var connection;var aborted=false;var requestAborter;var requestTimeoutId;var ret;var defer;self.log.debug('starting request',params);if(params.body&&params.method==='GET'){_.nextTick(respond,new TypeError('Body can not be sent with method "GET"'));return;}
if(params.body){params.body=self.serializer[params.bulkBody?'bulkBody':'serialize'](params.body);}
if(params.hasOwnProperty('maxRetries')){remainingRetries=params.maxRetries;}
if(params.hasOwnProperty('requestTimeout')){requestTimeout=params.requestTimeout;}
params.req={method:params.method,path:params.path||'/',query:params.query,body:params.body,};function sendReqWithConnection(err,_connection){if(aborted){return;}
if(err){respond(err);}else if(_connection){connection=_connection;requestAborter=connection.request(params.req,checkRespForFailure);}else{self.log.warning('No living connections');respond(new errors.NoConnections());}}
function checkRespForFailure(err,body,status,headers){if(aborted){return;}
requestAborter=void 0;if(err instanceof errors.RequestTypeError){self.log.error('Connection refused to execute the request',err);respond(err,body,status,headers);return;}
if(err){connection.setStatus('dead');if(remainingRetries){remainingRetries--;self.log.error('Request error, retrying'+(err.message?' -- '+err.message:''));self.connectionPool.select(sendReqWithConnection);}else{self.log.error('Request complete with error'+(err.message?' -- '+err.message:''));respond(new errors.ConnectionFault(err));}}else{self.log.debug('Request complete');respond(void 0,body,status,headers);}}
function respond(err,body,status,headers){if(aborted){return;}
self._timeout(requestTimeoutId);var parsedBody;var isJson=!headers||(headers['content-type']&&~headers['content-type'].indexOf('application/json'));if(!err&&body){if(isJson){parsedBody=self.serializer.deserialize(body);if(parsedBody==null){err=new errors.Serialization();parsedBody=body;}}else{parsedBody=body;}}
if((!err||err instanceof errors.Serialization)&&(status<200||status>=300)&&(!params.ignore||!_.contains(params.ignore,status))){if(errors[status]){err=new errors[status](parsedBody&&parsedBody.error);}else{err=new errors.Generic('unknown error');}}
if(params.castExists){if(err&&err instanceof errors.NotFound){parsedBody=false;err=void 0;}else{parsedBody=!err;}}
if(typeof cb==='function'){if(err){cb(err,parsedBody,status);}else{cb(void 0,parsedBody,status);}}else if(err){err.body=parsedBody;err.status=status;defer.reject(err);}else{defer.resolve(parsedBody);}}
function abortRequest(){if(aborted){return;}
aborted=true;remainingRetries=0;self._timeout(requestTimeoutId);if(typeof requestAborter==='function'){requestAborter();}}
if(requestTimeout&&requestTimeout!==Infinity){requestTimeoutId=this._timeout(function(){respond(new errors.RequestTimeout('Request Timeout after '+requestTimeout+'ms'));abortRequest();},requestTimeout);}
if(typeof cb==='function'){ret={abort:abortRequest};}else{defer=this.defer();ret=defer.promise;ret.abort=abortRequest;}
if(connection){sendReqWithConnection(void 0,connection);}else{self.connectionPool.select(sendReqWithConnection);}
return ret;};Transport.prototype._timeout=function(cb,delay){this._timers=this._timers||[];var id;if('function'!==typeof cb){id=cb;cb=void 0;}
if(cb){id=setTimeout(cb,delay);this._timers.push(id);return id;}
if(id){clearTimeout(id);var i=this._timers.indexOf(id);if(i!==-1){this._timers.splice(i,1);}}};Transport.prototype.sniff=function(cb){var connectionPool=this.connectionPool;var nodesToHostCallback=this.nodesToHostCallback;var log=this.log;var globalConfig=this._config;cb=typeof cb==='function'?cb:_.noop;this.request({path:this.sniffEndpoint,method:'GET'},function(err,resp,status){if(!err&&resp&&resp.nodes){var hostsConfigs;try{hostsConfigs=nodesToHostCallback(resp.nodes);}catch(e){log.error(new Error('Unable to convert node list from '+this.sniffEndpoint+' to hosts durring sniff. Encountered error:\n'+(e.stack||e.message)));return;}
connectionPool.setHosts(_.map(hostsConfigs,function(hostConfig){return new Host(hostConfig,globalConfig);}));}
cb(err,resp,status);});};Transport.prototype.close=function(){this.log.close();_.each(this._timers,clearTimeout);this.connectionPool.close();};},{"./connection_pool":24,"./errors":27,"./host":28,"./log":29,"./nodes_to_host":33,"./serializers":38,"./transport/sniff_on_connection_fault":41,"./utils":42,"bluebird":1}],41:[function(require,module,exports){var _=require('../utils');module.exports=function setupSniffOnConnectionFault(transport){var failures=0;var pool=transport.connectionPool;var originalOnDied=pool._onConnectionDied;var work=function(){work.timerId=transport._timeout(work.timerId);transport.sniff();};var countdownTo=function(ms){var start=_.now();return function(){return start-ms;};};pool._onConnectionDied=function(connection,wasAlreadyDead){var ret=originalOnDied.call(pool,connection,wasAlreadyDead);failures=work.timerId?failures+1:0;var ms=pool.calcDeadTimeout(failures,1000);if(work.timerId&&ms<work.timerId&&work.countdown()){work.timerId=transport._timeout(work.timerId);}
if(!work.timerId){work.timerId=transport._timeout(work,ms);work.countdown=countdownTo(ms);}
return ret;};pool._onConnectionDied.restore=function(){pool._onConnectionDied=originalOnDied;};};},{"../utils":42}],42:[function(require,module,exports){var process=require("__browserify_process"),Buffer=require("__browserify_Buffer").Buffer;var path=require('path');var _=require('lodash');var nodeUtils=require('util');var utils=_.extend({},_,nodeUtils);_=utils;utils.joinPath=path.join;utils.deepMerge=function(to,from){_.each(from,function(fromVal,key){switch(typeof to[key]){case'undefined':to[key]=from[key];break;case'object':if(_.isArray(to[key])&&_.isArray(from[key])){to[key]=to[key].concat(from[key]);}
else if(_.isPlainObject(to[key])&&_.isPlainObject(from[key])){utils.deepMerge(to[key],from[key]);}}});return to;};_.each(['String','Object','PlainObject','Array','Finite','Function','RegExp'],function(type){var check=_['is'+type];utils['isArrayOf'+type+'s']=function(arr){return _.isArray(arr)&&_.every(arr.slice(0,10),check);};});utils.ucfirst=function(word){return word[0].toUpperCase()+word.substring(1).toLowerCase();};function adjustWordCase(firstWordCap,otherWordsCap,sep){return function(string){var i=0;var words=[];var word='';var code,c,upper,lower;for(;i<string.length;i++){code=string.charCodeAt(i);c=string.charAt(i);lower=(code>=97&&code<=122)||(code>=48&&code<=57);upper=code>=65&&code<=90;if(upper||!lower){if(word.length){words.push(word);}
word='';}
if(upper||lower){if(lower&&word.length){word+=c;}else{if((!words.length&&firstWordCap)||(words.length&&otherWordsCap)){word=c.toUpperCase();}
else{word=c.toLowerCase();}}}}
if(word.length){words.push(word);}
if(words.length&&string.charAt(0)==='_'){words[0]='_'+words[0];}
return words.join(sep);};}
utils.studlyCase=adjustWordCase(true,true,'');utils.camelCase=adjustWordCase(false,true,'');utils.snakeCase=adjustWordCase(false,false,'_');utils.toLowerString=function(any){if(any){if(typeof any!=='string'){any=any.toString();}}else{any='';}
return any.toLowerCase();};utils.toUpperString=function(any){if(any){if(typeof any!=='string'){any=any.toString();}}else{any='';}
return any.toUpperCase();};utils.isNumeric=function(val){return typeof val!=='object'&&val-parseFloat(val)>=0;};var intervalRE=/^(\d+(?:\.\d+)?)([Mwdhmsy])$/;utils.isInterval=function(val){return!!(val.match&&val.match(intervalRE));};utils.repeat=function(what,times){return(new Array(times+1)).join(what);};utils.applyArgs=function(func,context,args,sliceIndex){sliceIndex=sliceIndex||0;switch(args.length-sliceIndex){case 0:return func.call(context);case 1:return func.call(context,args[0+sliceIndex]);case 2:return func.call(context,args[0+sliceIndex],args[1+sliceIndex]);case 3:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex]);case 4:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex],args[3+sliceIndex]);case 5:return func.call(context,args[0+sliceIndex],args[1+sliceIndex],args[2+sliceIndex],args[3+sliceIndex],args[4+sliceIndex]);default:return func.apply(context,Array.prototype.slice.call(args,sliceIndex));}};_.nextTick=function(cb){process.nextTick(_.bindKey(_,'applyArgs',cb,null,arguments,1));};_.handler=function(func){func._provideBound=true;return func;};_.scheduled=_.handler;_.makeBoundMethods=function(obj){obj.bound={};for(var prop in obj){if(typeof obj[prop]==='function'&&obj[prop]._provideBound===true){obj.bound[prop]=_.bind(obj[prop],obj);}}};_.noop=function(){};_.funcEnum=function(config,name,opts,def){var val=config[name];switch(typeof val){case'undefined':return opts[def];case'function':return val;case'string':if(opts.hasOwnProperty(val)){return opts[val];}
default:var err='Invalid '+name+' "'+val+'", expected a function';switch(_.size(opts)){case 0:break;case 1:err+=' or '+_.keys(opts)[0];break;default:err+=' or one of '+_.keys(opts).join(', ');break;}
throw new TypeError(err);}};_.createArray=function(input,transform){transform=typeof transform==='function'?transform:_.identity;var output=[];var item;var i;if(!_.isArray(input)){input=[input];}
for(i=0;i<input.length;i++){item=transform(input[i]);if(item===void 0){return false;}else{output.push(item);}}
return output;};_.getUnwrittenFromStream=function(stream){var writeBuffer=_.getStreamWriteBuffer(stream);if(!writeBuffer)return;var out='';if(!writeBuffer.length)return out;_.each(writeBuffer,function(writeReq){if(writeReq.chunk){out+=''+writeReq.chunk;}else if(_.isArray(writeReq)&&(typeof writeReq[0]==='string'||Buffer.isBuffer(writeReq[0]))){out+=''+writeReq[0];}else{return false;}});return out;};_.getStreamWriteBuffer=function(stream){if(!stream||!stream._writableState)return;var writeState=stream._writableState;if(writeState.getBuffer){return writeState.getBuffer();}else if(writeState.buffer){return writeState.buffer;}};_.clearWriteStreamBuffer=function(stream){var buffer=_.getStreamWriteBuffer(stream);return buffer&&buffer.splice(0);};_.now=function(){return(typeof Date.now==='function')?Date.now():(new Date()).getTime();};module.exports=utils;},{"__browserify_Buffer":13,"__browserify_process":14,"lodash":15,"path":6,"util":9}]},{},[16])
(16)});;}());$.fn.eachText=function(callback){function iterNodes(node){if(node.nodeType==3){var result=callback(node.nodeValue,node);if(result!==undefined){node.nodeValue=result;}}else{Array.prototype.forEach.call(node.childNodes,iterNodes);}}
this.each(function(){iterNodes(this)});return this}
$.fn.textNodes=function(filter){var result=[];function iterNodes(node){if(filter&&$.proxy(filter,node)(node)==false)return
if(node.nodeType==3){result.push(node);}else{Array.prototype.forEach.call(node.childNodes,iterNodes);}}
this.each(function(){iterNodes(this)});return $(result)};(function(){var reorder=['#','0','1','2','3','4','5','6','7','8','9','a','','i','','u','','e','o','','k','kh','g','gh','','c','ch','j','jh','','','h','','h','','t','th','d','dh','n','p','ph','b','bh','m','y','r','l','','v','s','h']
var oldorder=['#','0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']
var neworder=[]
var roo='';for(var w=0;w<reorder.length;w++){roo=reorder[w];neworder[roo]=oldorder[w];}
function sortaz(mydata){mydata=mydata.sort(comparePaliAlphabet);for(i in mydata){mydata[i]=mydata[i].replace(/^.*###/,'');}
return mydata;}
function sortStrip(word){word=word.replace(//g,'');word=word.replace(//g,'');word=word.toLowerCase().replace(/[^a-z#]/g,'');return word;}
function comparePaliAlphabet(a,b){if(a.length==0||b.length==0)return;var two=[sortStrip(a),sortStrip(b)];var nwo=[];for(i=0;i<two.length;i++){var wordval='';for(var c=0;c<two[i].length;c++){var onechar=two[i].charAt(c);if(onechar=='#')break;var twochar=onechar+two[i].charAt(c+1);if(neworder[twochar]){wordval+=neworder[twochar];c++;}
else if(neworder[onechar]){wordval+=neworder[onechar];}
else{wordval+=onechar;}}
two[i]=wordval;nwo[i]=wordval;}
nwo.sort();if(nwo[0]!=two[0])return 1;else return-1;}
window.comparePaliAlphabet=comparePaliAlphabet;})();var sortByKeys=function(obj){if(!_.isObject(obj)){return obj;}
var sorted={};_.each(_.keys(obj).sort(),function(key){sorted[key]=sortByKeys(obj[key]);});return sorted;};var sortedStringify=function(){arguments[0]=sortByKeys(arguments[0]);return JSON.stringify.apply(this,arguments);};sc=window.sc||{};sc.popup={isPopupHover:false,popups:[],popup:function(location,popup,protected){var self=this,offset,docWith,dupe,docWidth,isAbsolute=false,markupTarget=$(document.body),entered=false;if(self.isPopupHover){return false}
if(markupTarget.length==0){markupTarget=$('main');if(markupTarget.length==0){markupTarget=$('body');}}
popup=$('<div class="text-popup"/>').append(popup);function align(){popup.removeAttr('style');if('left'in location||'top'in location){offset=location
offset.left=offset.left||0
offset.top=offset.top||0
location=document.body
isAbsolute=true}else{location=$(location)
offset=location.offset()}
docWidth=$(document).width()
dupe=$(popup).clone()
markupTarget.append(dupe)
var popupWidth=dupe.innerWidth(),popupHeight=dupe.innerHeight();dupe.remove()
if(!isAbsolute){offset.top+=location.innerHeight()-popupHeight-location.outerHeight();offset.left-=popupWidth/2;}
if(offset.left<1){offset.left=1;popup.innerWidth(popupWidth+5);}
if(offset.left+popupWidth+5>docWidth)
{offset.left=docWidth-(popupWidth+5);}
popup.offset(offset)
markupTarget.append(popup)
if(offset.top<0){popup.height(popup.height()+offset.top);offset.top=0;popup.css({'overflow-x':'initial','overflow-y':'scroll'})}
popup.offset(offset)}
align();popup.data('alignFn',align);popup.mouseenter(function(e){self.isPopupHover=true});function removeIfNeeded(){if(protected)return
var node=popup,visited=[];while(node){if($(node).is(':hover')){setTimeout(removeIfNeeded,300);return}
node=$(node).data('parent');if(visited.indexOf(node)!=-1)break
visited.push(node);}
popup.fadeOut(500);self.isPopupHover=false}
setTimeout(function(){removeIfNeeded();popup.mouseleave(function(e){removeIfNeeded();}).mouseenter(function(e){entered=true;self.isPopupHover=true;popup.stop().fadeIn(0);});},1500)
this.clear();if(protected){popup.data('protected',protected);}
this.popups.push(popup);return popup;},clear:function(clearProtected){var keep=[];this.popups.forEach(function(e){if(!clearProtected&&e.data('protected')){keep.push(e);}else{e.remove();}});this.popups=keep;this.isPopupHover=false;}}
sc=window.sc||{};sc.paliLookup={_handlers:[],lookaheadN:5,index:'en-dict',main:'#text',sources:{cped:{'brief':'CPD','name':'Concise Pali English Dictionary'},pts_ped:{'brief':'PTS','name':'PTS Pali English Dictionary'},dhammika_ff:{'brief':'N&E','name':"Nature and the Environment in Early Buddhism by S. Dhammika"},sc_dppn:{'brief':'PPN','name':'Pali Proper Names'}},isReady:false,init:function(args){var self=this;this.elasticUrl=args.elasticUrl;this.targetSelector=args.target;var inner=function(){self.client=elasticsearch.Client({hosts:args.elasticUrl});sc.paliLookup.termBreakCache.loadFromServer();sc.paliLookup.glossary.init();}
if(!window.elasticsearch){$.getScript('https://cdnjs.cloudflare.com/ajax/libs/elasticsearch/5.0.0/elasticsearch.js').success(inner);}else{inner()}},lookups:{},addHandlers:function(){var self=this;$(self.main).on('mouseover.lookup',self.targetSelector,function(e){if($(e.target).parents('.text-popup').length>0){return}
setTimeout(function(){if($(e.target).is(':hover')){sc.popup.clear(true);var term=self.getTerm(e.target),query=self.buildQueryStandard(term);self.lookup({node:e.target,term:term,query:query.query,weights:query.weights,includeGlossary:true});if(self.lookaheadN){var targets=$(self.targetSelector),index=targets.index(e.target),lookaheadN=self.lookaheadN,lookaheadQueries=[];targets.slice(index+1,Math.floor((index+lookaheadN*1.5+1)/lookaheadN)*lookaheadN).each(function(i,element){var term=self.getTerm(element);lookaheadQueries.push(self.buildQueryStandard(term).query);});self.msearchPrecache(lookaheadQueries);}}},50);});$(self.main).on('click.lookup',self.targetSelector,function(e){sc.popup.clear(true);self.decomposeMode(e.target);});},removeHandlers:function(){sc.popup.clear(true);$(self.main).off('.lookup')},deTiTerm:function(term){return term.replace(/n[]+ti$/,'').replace(/[]+ti$/,'');},normalizeTerm:function(term){return term.toLowerCase().normalize('NFC').replace(/\xad/g,'').replace(//g,'').replace(/([gk])/g,'$1').replace(/^([^]+)/,'$1')},getTerm:function(node){var term=node.childNodes[1].nodeValue;if(!term||term.match(/^\s+$/))return null
return term},getTermNormalized:function(node){var term=this.getTerm(node)
term=this.normalizeTerm(term)
term=this.deTiTerm(term);return term},getScoredHits:function(results,weights){var out=[],seen={},results=JSON.parse(JSON.stringify(results));for(var i=0;i<results.length;i++){var result=results[i],weight=weights[i]||1,max_score=result.hits.max_score;result.hits.hits.forEach(function(hit){var score=weight*hit._score/max_score,seenHit=seen[hit._id];if(seenHit){seenHit._score=Math.max(seenHit._score,score);}else{hit._score=score;seen[hit._id]=hit
out.push(hit)}});}
out=_.sortBy(out,function(a,b){return b._score-a._score;})
return out},lookup:function(args){var self=this,node=args.node,term=args.term,parent=args.parent||args.node,query=args.query,weights=args.weights,includeGlossary=args.includeGlossary,preFn=args.preFn;var term=term||self.getTermNormalized(node);if(!term)return
self.msearch(query).then(function(results){var hits=self.getScoredHits(results.responses,weights),table=$('<table class="pali"/>'),maxScore=_(hits).chain().pluck('_score').max().value(),hiddenCount=0;hits.forEach(function(hit){var tr=$('<tr/>').appendTo(table);if(hit._score<5){tr.addClass('poor-match')}
if(maxScore>1&&hit._score<5&&hit._score<maxScore){tr.addClass('hide');hiddenCount+=1;}
$('<td class="term"/>').text(hit._source.term).appendTo(tr);var meaning=$('<td class="meaning"/>').appendTo(tr);var ul=$('<ul/>').appendTo(meaning);hit._source.entries.forEach(function(entry){var li=$('<li/>').appendTo(ul);var content=$('<div class="content"/>').append(entry.html_content).appendTo(li);$('<a class="source"/>').text(self.sources[entry.source].brief).attr('title',self.sources[entry.source].name).prependTo(content).css('float','left');content.find('dt').remove();content.find('dd > p:first-child').contents().unwrap();});});if(includeGlossary){$('<tfoot><tr class="glossary"><td colspan=2></td></tr></tfoot>').appendTo(table).find('td').append(self.glossary.createInputBar(term));}
self.addUnhideBar(table);if(preFn){preFn(table);}
var popupAnchor=$(node).children('.lookup-word-marker');popup=sc.popup.popup(popupAnchor[0],table);popup.data('parent',parent);if(popup){popup.find('li').addClass('expandable');popup.on('click','li',function(e){$(this).addClass('clicked');self.expandEntry(this,popup);return false});if(popup.tipsy){popup.find('[title]').removeAttr('title');}
if(window.PTL){popup.find('.poor-match .term').each(function(){var ele=$(this),searchTerm=ele.text();if(term==searchTerm)return
ele.html(window.PTL.editor.doDiff(term,searchTerm));var last=ele.contents().last()
if(last.is('.diff-delete')&&last.text()==''){last.remove();}});}}});},addUnhideBar:function(table){var self=this,hiddenCount=table.find('tr.hide').length;if(hiddenCount>0){var string=hiddenCount==1?' fuzzy result':' fuzzy results',tr=$('<tr><td colspan=2 class="unhide">'+hiddenCount+string+'</td></tr>').appendTo(table);tr.one('click',function(){table.find('tr.hide').slice(0,hiddenCount==5?5:4).removeClass('hide');tr.remove();self.addUnhideBar(table);if(table.parent().length){table.parent().data('alignFn')();}});}},expandEntry:function(entry,popup){var textField=$('<div class="popup-text-overlay"/>').html($(entry).html()),closeButton=$('<div class="popup-close-button"></div>').css('float','right');textField.children('.content').prepend(closeButton);popup.append(textField);textField.find('[original-title]').attr('original-title','');textField.height(Math.max(popup.height(),Math.min(textField.children('.content').height(),popup.width()*0.6)));setTimeout(function(){textField.on('click',function(e){if($(e.target).is('.popup-text-overlay, .popup-close-button')){textField.remove();return false}});},400);},charRex:/(?:[aiueo]|br|[kgcjtdbp]h|[kgcjtdp](?!h)|[mnyrlvsh]|b(?![rh]))/ig,decomposeMode:function(node){var self=this,term=self.deTiTerm(self.getTerm(node)),popup=$('<div class="decomposed"/>');if(!term)return
term.match(self.charRex).forEach(function(char){popup.append($('<span class="letter"/>').text(char))});var em=Number(getComputedStyle(node,"").fontSize.match(/(\d*(\.\d*)?)px/)[1])
var pos=$(node).offset();var popupAnchor=$(node).children('.lookup-word-marker')
var dPopup=sc.popup.popup(popupAnchor.offset(),popup,true);var offset=popupAnchor.offset();offset.top-=em/3;offset.left-=em/2;popup.parent().offset(offset);popup.on('mouseover click','.letter',function(e){$('.letter.selected').removeClass('selected');var letters=$(e.target).add($(e.target).nextAll());letters.addClass('selected');var out=letters.map(function(i,e){return $(e).text()}).get().join('');out=self.normalizeTerm(out);sc.popup.clear();var query=self.buildQueryDecomposed(out);self.lookup({node:node,term:out,parent:dPopup,query:query.query,weights:query.weights,preFn:function(popup){popup.find('tr').each(function(){var tr=$(this),td=$('<td class="accept"></td>'),thisTerm=tr.children('.term').text();if((self.termBreakCache.retrieve(term)||[]).indexOf(thisTerm)!=-1){td.addClass('accepted');}
tr.append(td);})
popup.on('click','.accept',function(){var thisTerm=$(this).siblings('.term').text();if($(this).hasClass('accepted')){$(this).removeClass('accepted');self.termBreakCache.unstore(term,thisTerm);}else{self.termBreakCache.store(term,thisTerm);$(this).addClass('accepted');}});}})
return false})},decomposeVowels:function(term){var table={'a':['a'],'':['','a'],'i':['i'],'':['','i'],'u':['u'],'':['','u'],'e':['e','a','i'],'o':['o','a','u']},firstChar=term[0],lastChar=term.slice(-1),terms=[];if(table[firstChar]){table[firstChar].forEach(function(char){terms.push(char+term.slice(1));})}else{terms.push(term);}
terms2=[];if(table[lastChar]){terms.forEach(function(term){table[lastChar].forEach(function(char){terms2.push(term.slice(0,-1)+char);});});}else{terms2=terms;}
return terms2;},decompose:function(term,callback){term=this.deTiTerm(term)
var out=this.conjugate(term),chars=term.match(this.charRex);for(var j=chars.length-1;j>0;j--){subTerm=chars.slice(0,j).join('');if(subTerm.length<=2)continue
out=out.concat(this.decomposeVowels(subTerm));}
return out;},storeInCache:function(term,resp){this._cache[term]=resp;},retrieveFromCache:function(term,success,failure){if(false||this._cache[term]){success(this._cache[term])}else{failure()}},source:['gloss','entries','term'],exactQuery:function(term){return{_source:this.source,filter:{term:{'term.normalized':term}}}},exactQueryTerms:function(terms){return{_source:this.source,filter:{terms:{'term.normalized':terms}}}},conjugatedQuery:function(term){return{_source:this.source,filter:{terms:{'term.normalized':this.conjugate(term)}}}},fuzzyQuery:function(term){if(term.match(/$/)){return{"_source":this.source,"query":{"bool":{"should":[{"fuzzy":{"term.normalized":{"max_expansions":10,"prefix_length":3,"value":term}}},{"fuzzy":{"term.normalized":{"max_expansions":10,"prefix_length":2,"value":term.replace(/$/,'')}}}]}}}}else{return{_source:this.source,"query":{"fuzzy":{"term.normalized":{"max_expansions":5,"prefix_length":3,"value":term}}}}}},decomposedQuery:function(term){return{_source:['gloss','entries','term'],query:{constant_score:{filter:{terms:{'term.normalized':this.decompose(term)}}}}}},buildQueryStandard:function(term){var self=this,term=this.normalizeTerm(term),body=[{},this.exactQuery(term),{},this.conjugatedQuery(term),{},this.fuzzyQuery(term)],weights=[10,5,1],components=this.termBreakCache.retrieve(term);if(components){components.forEach(function(component){body.push({});body.push(self.exactQuery(component));weights.push(8);});}
return{query:{index:this.index,type:this.type,body:body},weights:weights}},buildQueryDecomposed:function(term){return{query:{index:this.index,type:this.type,body:[{},this.decomposedQuery(term)]},weights:[5]}},_cache:{},keyify:function(query){return sortedStringify(query);},msearch:function(msearch_query){var self=this;var key=self.keyify(msearch_query);var promise=this._cache[key];if(!promise){promise=self.client.msearch(msearch_query)
this._cache[key]=promise;}
return promise},msearchPrecache:function(queries){var self=this,new_queries=[],keys=[];queries.forEach(function(msearch_query){var key=self.keyify(msearch_query);if(key in self._cache){return}
new_queries.push(msearch_query);keys.push(key);})
var r=self._msearchBuffered(new_queries);keys.forEach(function(key,i){self._cache[key]=r[i];});},_msearchBuffered:function(msearch_queries){var self=sc.paliLookup,out=[],deferred=[];if(msearch_queries.length==0){return deferred}
var combined=_.clone(msearch_queries[0]);combined.body=[];msearch_queries.forEach(function(query,i){combined.body.push.apply(combined.body,query.body);deferred.push($.Deferred());});self.client.msearch(combined).done(function(resp){var responses=resp.responses,place=0;msearch_queries.forEach(function(query,i){var count=query.body.length/2;deferred[i].resolve({responses:responses.slice(place,place+count)});place+=count;});});return deferred;},conjugate:function(word){var self=this;var results=[word];if(word.length>3){results.push(word.slice(0,-1));}
for(var pass=0;pass<2;pass++){if(pass==1){if(word.slice(-1)==''){word=word.slice(0,-1)}else{break}}
for(var i=0;i<self.endings.length;i++){var ending=self.endings[i],suffix=ending[0],min_length=ending[1],new_suffix=ending[2];if(word.length>min_length&&word.slice(-suffix.length)==suffix){var new_word=word.slice(0,-suffix.length)+new_suffix;if(new_word.length>=2){results.push(new_word);}}}}
return _.uniq(results);},termBreakCache:{storage:{},mapping:{},updateMapping:function(key){var self=this;if(key===undefined){_.each(this.storage,function(value,key){self.updateMapping(key);});return}
var conjugations={};sc.paliLookup.conjugate(key).forEach(function(t){conjugations[t]=key;})
_.extend(this.mapping,conjugations);},keyize:function(term){return sc.paliLookup.normalizeTerm(sc.paliLookup.deTiTerm(term));},store:function(term,component){var key=this.keyize(term)
components=this.storage[key]||[];if(components.indexOf(component)==-1){components.push(component);this.storage[key]=components;this.updateMapping(key);this.saveToServer();}},unstore:function(term,component){var key=this.keyize(term),components=this.storage[key]||[],index=components.indexOf(component);if(index>=0){components.splice(index,1);this.storage[key]=components;}},retrieve:function(term){var key=this.keyize(term),result=this.storage[key];if(!result||result.length==0){var terms=sc.paliLookup.conjugate(key);for(var i=0;i<terms.length;++i){var mappedTerm=this.mapping[terms[i]];if(mappedTerm){result=this.storage[mappedTerm];break}}}
return result},remove:function(term){delete this.storage[this.keyize(term)];},saveToServer:function(){sc.paliLookup.client.index({index:'pali-lookup',type:'compounds',id:'localuser',body:{data:this.storage}})},loadFromServer:function(){var self=this;sc.paliLookup.client.get({index:'pali-lookup',type:'compounds',id:'localuser'}).then(function(resp){self.storage=resp._source.data;self.updateMapping();}).error(function(){return});}},endings:[["ati",0,"a"],["ti",0,""],["eti",0,"e"],["oti",0,"o"],["o",0,"a"],["",0,"a"],["a",0,"a"],["",0,""],["e",0,"a"],["ena",0,"a"],["ehi",0,"a"],["ebhi",0,"a"],["ya",0,"a"],["ssa",0,""],["na",0,"a"],["sm",0,""],["mh",0,""],["smi",0,""],["mhi",1,""],["esu",0,"a"],["ayo",1,"i"],["in",1,"i"],["hi",1,""],["hi",2,""],["bhi",1,""],["bhi",1,""],["ino",1,"i"],["na",1,""],["su",1,""],["i",2,""],["ina",0,"i"],["avo",1,"u"],["ave",1,"u"],["un",1,"u"],["hi",1,""],["bhi",1,""],["uno",1,"u"],["na",1,""],["su",1,""],["",2,"u"],["ni",2,"a"],["ni",2,""],["ni",2,""],["a",2,""],["yo",0,"a"],["hi",0,"a"],["bhi",0,"a"],["ya",0,"a"],["su",0,"a"],["iyo",0,"i"],["iy",0,"i"],["iya",0,"i"],["iy",0,""],["iya",0,""],["iya",0,"i"],["ya",0,""],["",0,"a"],["in",0,"a"],["uyo",0,"u"],["uy",0,"u"],["uya",0,"u"],["",0,"ant"],["a",3,"ant"],["ata",3,"ant"],["anta",3,"ant"],["anto",3,"ant"],["ant",3,"ant"],["ante",3,"ant"],["at",3,"ant"],["antehi",3,"ant"],["ato",3,"ant"],["antna",3,"ant"],["ati",3,"ant"],["antesu",3,"ant"],["",3,"anta"],["a",3,"anta"],["ata",3,"anta"],["ata",3,"ati"],["anta",3,"anta"],["anto",3,"anta"],["ant",3,"anta"],["ante",3,"anta"],["at",3,"anta"],["antehi",3,"anta"],["ato",3,"anta"],["antna",3,"anta"],["ati",3,"anta"],["antesu",3,"anta"],["",2,"ar"],["ra",2,"ar"],["r",2,"ar"],["u",2,"ar"],["uno",2,"ar"],["ari",2,"ar"],["ro",2,"ar"],["hi",2,"ar"],["bhi",2,"ar"],["na",2,"ar"],["rna",2,"ar"],["su",2,"ar"],["",2,"ar"],["a",2,"ar"],["ara",2,"ar"],["ar",2,"ar"],["aro",2,"ar"],["un",2,"ar"],["arehi",2,"ar"],["arebhi",2,"ar"],["na",2,"ar"],["arna",2,"ar"],["unna",2,"ar"],["ito",2,"ar"],["uy",2,"ar"],["y",2,"ar"],["ya",2,"ar"],["uya",2,"ar"],["a",0,""],["ya",0,""],["as",0,"o"],["aso",0,"o"],["asi",0,"o"],["",0,"o"],["a",0,"o"],["e",0,"o"],["ena",0,"o"],["ehi",0,"o"],["ebhi",0,"o"],["ya",0,"o"],["assa",0,"o"],["na",0,"o"],["asm",0,"o"],["amh",0,"o"],["asmi",0,"o"],["amhi",0,"o"],["esu",0,"o"],["ato",2,"ati"],["at",2,"ati"],["ato",2,"ti"],["at",2,"ti"],["eto",2,"eti"],["et",2,"eti"],["oto",2,"oti"],["ot",2,"oti"],["ahi",1,"a"],["to",2,""],["anna",1,"a"],["unna",1,"u"],["inna",1,"i"],["at",1,"ati"],["iya",2,"a"],["uya",0,""],["anti",0,"ati"],["si",3,"ti"],["asi",0,"ati"],["atha",0,"ti"],["mi",0,"ati"],["ma",0,"ati"],["mi",0,"ti"],["ma",0,"ti"],["onti",0,"oti"],["osi",0,"oti"],["otha",0,"oti"],["omi",0,"oti"],["oma",0,"oti"],["enti",0,"eti"],["esi",0,"eti"],["etha",0,"eti"],["emi",0,"eti"],["ema",0,"eti"],["hi",3,"ti"],["atu",2,"ati"],["antu",1,"ati"],["ohi",0,"oti"],["otu",0,"oti"],["ontu",0,"oti"],["etu",0,"eti"],["entu",0,"eti"],["ehi",0,"eti"],["eti",2,"ati"],["enti",2,"ati"],["esi",2,"ati"],["etha",2,"ati"],["emi",2,"ati"],["ema",2,"ati"],["eti",2,"ti"],["enti",2,"ti"],["esi",2,"ti"],["etha",2,"ti"],["emi",2,"ti"],["ema",2,"ti"],["entu",2,"ati"],["ayitv",2,"eti"],["ayitvna",2,"eti"],["vna",2,"i"],["petv",0,"ati"],["itvna",0,"ati"],["itvna",0,"ti"],["itvna",0,"eti"],["etvna",0,"ati"],["tvna",0,"ti"],["itv",0,"ati"],["itv",0,"ti"],["itv",0,"eti"],["etv",0,"ati"],["tv",0,"ti"],["ya",0,"ati"],["ya",0,"ati"],["ya",0,"ti"],["ya",0,"eti"],["tu",0,"ti"],["itu",0,"ati"],["itu",0,"ti"],["a",3,"ati"],["i",3,"ati"],["imha",0,"ati"],["imh",0,"ati"],["isu",1,"ati"],["ittha",0,"ati"],["u",0,"ati"],["su",0,"ti"],["si",0,"ti"],["i",0,"ati"],["a",3,"ti"],["i",3,"ti"],["imha",0,"ti"],["imh",0,"ti"],["isu",1,"ti"],["ittha",0,"ti"],["u",0,"ti"],["i",0,"ti"],["a",3,"eti"],["i",3,"eti"],["imha",0,"eti"],["imh",0,"eti"],["isu",1,"eti"],["ayisu",1,"eti"],["ittha",0,"eti"],["u",0,"eti"],["i",0,"eti"],["iya",0,"eti"],["eyya",0,"ati"],["eyya",0,"ati"],["eyyu",0,"ati"],["eyyati",0,"ati"],["eyyasi",0,"ati"],["eyytha",0,"ati"],["eyymi",0,"ati"],["eyysi",0,"ati"],["eyyma",0,"ati"],["eyyanti",0,"ati"],["eyya",0,"ti"],["eyya",0,"ti"],["eyyu",0,"ti"],["eyyati",0,"ti"],["eyyasi",0,"ti"],["eyytha",0,"ti"],["eyymi",0,"ti"],["eyysi",0,"ti"],["eyyma",0,"ti"],["eyyanti",0,"ti"],["eyya",0,"eti"],["eyya",0,"eti"],["eyyu",0,"eti"],["eyyati",0,"eti"],["eyyasi",0,"eti"],["eyytha",0,"eti"],["eyymi",0,"eti"],["eyysi",0,"eti"],["eyyma",0,"eti"],["eyyanti",0,"eti"],["eyya",0,"oti"],["eyya",0,"oti"],["eyyu",0,"oti"],["eyyati",0,"oti"],["eyyasi",0,"oti"],["eyytha",0,"oti"],["eyymi",0,"oti"],["eyysi",0,"oti"],["eyyma",0,"oti"],["eyyanti",0,"oti"],["issa",2,"ati"],["iss",2,"ati"],["issasu",2,"ati"],["issatha",2,"ati"],["issa",2,"ati"],["issmi",2,"ati"],["issati",3,"ati"],["issma",2,"ati"],["issa",2,"ti"],["iss",2,"ti"],["issasu",2,"ti"],["issa",2,"ti"],["issatha",2,"ti"],["issa",2,"ti"],["issma",2,"ti"],["essa",2,"eti"],["ess",2,"eti"],["essasu",2,"eti"],["essa",2,"eti"],["essatha",2,"eti"],["essa",2,"eti"],["essma",2,"eti"],["issanti",3,"ati"]],glossary:{index:'pi2en-glossary',type:'entry',client:null,init:function(){this.client=sc.paliLookup.client;},addEntry:function(term,context,gloss,comment){if(typeof(term)=="string"){var body={term:term,context:context,gloss:gloss,comment:comment}}else{var body=term;}
body.normalized=sc.paliLookup.normalizeTerm(body.term);body.source=body.source||'user';return this.client.index({index:this.index,type:this.type,id:body.context?body.term+'-'+body.context:body.term,body:body})},getEntry:function(term){term=sc.paliLookup.normalizeTerm(term);var body={query:{constant_score:{filter:{term:{'normalized':term}}}}}
return this.client.search({index:this.index,type:this.type,body:body});},buildQueryBody:function(terms){terms=_(terms).map(sc.paliLookup.normalizeTerm);return{query:{bool:{should:[{constant_score:{filter:{terms:{'normalized':terms}}}},{constant_score:{filter:{terms:{'normalized':_(terms).chain().map(_.bind(sc.paliLookup.conjugate,sc.paliLookup)).flatten().compact().unique().value()}}}}]}}}},getEntries:function(terms,args){if(typeof(terms)=="string"){terms=terms.split(sc.paliLookup.markupGenerator.splitRex);terms=_(terms).filter(_.bind(RegExp.prototype.test,sc.paliLookup.markupGenerator.paliAlphaRex))}
var body=this.buildQueryBody(terms);var query={index:this.index,type:this.type,body:body}
if(args){_.extend(query,args);}
return this.client.search(query);},createInputBar:function(term){var self=this;term=term.toLowerCase();var form=$('<form disabled class="add-glossary-entry">'+'<input name="term" value="'+term+'" required>'+'<input name="gloss" placeholder="gloss" value="">'+'<input name="context" placeholder="context" value="">'+'<input name="comment" placeholder="comment">'+'<input name="user" type="hidden" value="user">'+'<button>+</button>'+'</form>');this.getEntry(term).then(function(result){if(result.hits.total>0){_(result.hits.hits[0]._source).each(function(value,name){if(value){form.find('[name='+name+']').val(value);}});}});form.on('submit',function(e){e.preventDefault();var items=_(form.serializeArray()).chain().map(function(o){return[o.name,o.value]}).object().value()
if(!items.gloss&&!items.comment){return}
items.term=items.term.toLowerCase();items.normalized=sc.paliLookup.normalizeTerm(items.term);self.addEntry(items).then(function(e){form.find('button').text('');});form.children().attr('disabled','disabled');return false});return form}},markupGenerator:{paliAlphaRex:/([aiueokgcjtdnpbmyrlvsh])/i,paliRex:/([aiueokgcjtdnpbmyrlvsh]+)/ig,splitRex:/(&[a-z]+;|<\??[a-z]+[^>]*>|[^ \n,. :;?!"'\/\-]+)/i,excludeFn:function(node){if(node.parentNode.nodeName=='A'){if($(node.parentNode).parents('h1,h2,h3,h4,h5').length==0){return false}
return true}
return false},wrapWords:function(node,markupOpen,markupClose,excludeFn){var self=this,contents=$(node).contents(),excludeFn=self.excludeFn;$(node).textNodes().each(function(i,node){if(excludeFn&&excludeFn(node)){return}
var text=node.nodeValue;if(text.search(self.paliAlphaRex)==-1){return}
var newHtml=text.replace(self.paliRex,function(m,word){return markupOpen+word+markupClose;});var proxy=$('<span/>')[0];node.parentNode.replaceChild(proxy,node);proxy.outerHTML=newHtml;});}},mouseovertarget:'#text',targets:'p, h1, h2, h3, h4, h5',exclusions:'.text-popup *',isActive:false,activate:function(){var self=this;if(self.isActive)return
self.isActive=true;$(self.mouseovertarget).on('mouseover.lookupMarkup',self.targets,function(e){var target=$(e.target);if(!target.is(self.targets)){return true}
if(target.is(self.exclusions)){return true}
if(target.hasClass('lookup-marked-up')){return}
sc.paliLookup.markupGenerator.wrapWords(target,'<span class="lookup"><span class="lookup-word-marker"></span>','</span>')
target.addClass('lookup-marked-up');})
sc.paliLookup.init({elasticUrl:sc.exports.elasticsearch_api_url,target:'.lookup'});sc.paliLookup.addHandlers();},deactivate:function(){$('#text').off('mouseover.lookupMarkup')
sc.paliLookup.removeHandlers();this.isActive=false;},toggleOn:false,toggle:function(){var state=!this.toggleOn;if(state){this.activate()}else{this.deactivate()}}}
_.bindAll(sc.paliLookup.termBreakCache,"keyize","store","unstore","retrieve","remove","saveToServer","loadFromServer");